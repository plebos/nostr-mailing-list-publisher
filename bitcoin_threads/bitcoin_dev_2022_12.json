[
    {
        "title": "[bitcoin-dev] Merkleize All The Things",
        "thread_messages": [
            {
                "author": "Salvatore Ingala",
                "date": "2022-12-01T08:47:22",
                "message_text_only": "Hello Rijndael,\n\n\n\nOn Wed, 30 Nov 2022 at 23:09, Rijndael <rot13maxi at protonmail.com> wrote:\n\n> Hello Salvatore,\n>\n> I found my answer re-reading your original post:\n> > During the arbitration phase (say at the i-th leaf node of M_T), any\n> party can win the challenge by providing correct values for tr_i = (st_i,\n> op_i, st_{i + 1}). Crucially, only one party is able to provide correct\n> values, and Script can verify that indeed the state moves from st_i to\n> st_{i + 1} by executing op_i. The challenge is over.\n>\nYou are correct, the computation step encoded in a leaf needs to be simple\nenough for Script to verify it.\n\nFor the academic purpose of proving completeness (that is, any computation\ncan be successfully \"proved\" by the availability of the corresponding fraud\nproof), one can imagine reducing the computation all the way down to a\ncircuit, where each step (leaf) is as simple as what can be checked with\n{OP_NOT, OP_BOOLAND, OP_BOOLOR, OP_EQUAL}.\n\nIn practice, you would want to utilize Script to its fullest, so for\nexample you wouldn't compile a SHA256 computation to something else \u2013 you'd\nrather use OP_SHA256 directly.\n\n\n> That raises leads to a different question: Alice initially posts a\n> commitment to an execution trace of `f(x) = y`, `x`, and `y`. Bob Disagrees\n> with `y` so starts the challenge protocol. Is there a commitment to `f`? In\n> other words, the dispute protocol (as I read it) finds the leftmost step in\n> Alice and Bob's execution traces that differ, and then rewards the coins to\n> the participant who's \"after-value\" is computed by the step's operation\n> applied to the \"before value\". But if the participants each present valid\n> steps but with different operations, who wins? In other words, Alice could\n> present [64, DECREMENT, 63] and Bob could present [64, INCREMENT, 65].\n> Those steps don't match, but both are valid. Is there something to ensure\n> that before the challenge protocol starts, that the execution trace that\n> Alice posts is for the right computation and not a different computation\n> that yields a favorable result for her (and for which she can generate a\n> valid merkle tree)?\n>\n\nThe function f is already hard-coded in the contract itself, by means of\nthe tree of scripts \u2212 that already commits to the possible futures.\nTherefore, once you are at state S14, you know that you are verifying the\n6th step of the computation; and the operation in the 6th step of the\ncomputation depends solely on f, not its inputs. In fact, you made me\nrealize that I could drop op_i from the i-th leaf commitment, and just\nembed the information in the Script of that corresponding state.\n\nNote that the states S0 to S14 of the 256x game are not _all_ the possible\nstates, but only the ones that occurred in that execution of the contract\n(corresponding to a path from the root to the leaf of the Merkle tree of\nthe computation trace), and therefore the ones that materialized in a UTXO.\nDifferent choices made by the parties (by providing different data, and\ntherefore choosing different branches) would lead to a different leaf, and\ntherefore to different (but in a certain sense \"symmetric\") states.\n\n========\n\nSince we are talking about the fact that f is committed to in the contract,\nI'll take the chance to extend on this a bit with a fun construction on top.\nIt is well-known in the academic literature of state channels that you can\ncreate contracts where even the function (\"program\", or \"contract\") is not\ndecided when the channel is created.\n\nSince f is generic, we can choose f itself to be a universal Turing\nmachine. That is, we can imagine a function f(code, data) that executes a\nprogram (\"code\") on the \"data\" given to it as input.\nSince we can do fraud proofs on statements \"f(code, data) == output\", we\ncould build contracts where the \"code\" itself is chosen later.\n\nFor example, one could build a universal state channel, where parties can\nenter any contract among themselves (e.g.: start playing a chess game)\nentirely inside the channel. The state of this universal channel would\ncontain all the states of the individual contracts that are currently open\nin the channel, and even starting/closing contracts can happen entirely\noff-chain.\n\nI believe these constructions are practical (the code of universal Turing\nmachines is not really complicated), so it might be worth exploring further\nto figure out useful applications of this approach (supercharging\nlightning?).\n\nWe should probably start by implementing testnet rock-paper-scissors in\nMATT, though :)\n\nBest,\nSalvatore Ingala\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221201/f0acc75f/attachment.html>"
            },
            {
                "author": "Billy Tetrud",
                "date": "2022-12-13T06:59:27",
                "message_text_only": "Re Verkle trees, that's a very interesting construction that would be super\nuseful as a tool for something like Utreexo. A potentially substantial\ndownside is that it seems the cryptography used to get those nice\nproperties of Verkle trees isn't quantum safe\n<https://vitalik.ca/general/2021/06/18/verkle.html>. While a lot of things\nin Bitcoin seems to be going down the path of quantum-unsafe (I'm looking\nat you, taproot), there are still a lot of people who think quantum\nsafety is important in a lot of contexts.\n\nOn Thu, Dec 1, 2022 at 5:52 AM Salvatore Ingala via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hello Rijndael,\n>\n>\n>\n> On Wed, 30 Nov 2022 at 23:09, Rijndael <rot13maxi at protonmail.com> wrote:\n>\n>> Hello Salvatore,\n>>\n>> I found my answer re-reading your original post:\n>> > During the arbitration phase (say at the i-th leaf node of M_T), any\n>> party can win the challenge by providing correct values for tr_i = (st_i,\n>> op_i, st_{i + 1}). Crucially, only one party is able to provide correct\n>> values, and Script can verify that indeed the state moves from st_i to\n>> st_{i + 1} by executing op_i. The challenge is over.\n>>\n> You are correct, the computation step encoded in a leaf needs to be simple\n> enough for Script to verify it.\n>\n> For the academic purpose of proving completeness (that is, any computation\n> can be successfully \"proved\" by the availability of the corresponding fraud\n> proof), one can imagine reducing the computation all the way down to a\n> circuit, where each step (leaf) is as simple as what can be checked with\n> {OP_NOT, OP_BOOLAND, OP_BOOLOR, OP_EQUAL}.\n>\n> In practice, you would want to utilize Script to its fullest, so for\n> example you wouldn't compile a SHA256 computation to something else \u2013 you'd\n> rather use OP_SHA256 directly.\n>\n>\n>> That raises leads to a different question: Alice initially posts a\n>> commitment to an execution trace of `f(x) = y`, `x`, and `y`. Bob Disagrees\n>> with `y` so starts the challenge protocol. Is there a commitment to `f`? In\n>> other words, the dispute protocol (as I read it) finds the leftmost step in\n>> Alice and Bob's execution traces that differ, and then rewards the coins to\n>> the participant who's \"after-value\" is computed by the step's operation\n>> applied to the \"before value\". But if the participants each present valid\n>> steps but with different operations, who wins? In other words, Alice could\n>> present [64, DECREMENT, 63] and Bob could present [64, INCREMENT, 65].\n>> Those steps don't match, but both are valid. Is there something to ensure\n>> that before the challenge protocol starts, that the execution trace that\n>> Alice posts is for the right computation and not a different computation\n>> that yields a favorable result for her (and for which she can generate a\n>> valid merkle tree)?\n>>\n>\n> The function f is already hard-coded in the contract itself, by means of\n> the tree of scripts \u2212 that already commits to the possible futures.\n> Therefore, once you are at state S14, you know that you are verifying the\n> 6th step of the computation; and the operation in the 6th step of the\n> computation depends solely on f, not its inputs. In fact, you made me\n> realize that I could drop op_i from the i-th leaf commitment, and just\n> embed the information in the Script of that corresponding state.\n>\n> Note that the states S0 to S14 of the 256x game are not _all_ the possible\n> states, but only the ones that occurred in that execution of the contract\n> (corresponding to a path from the root to the leaf of the Merkle tree of\n> the computation trace), and therefore the ones that materialized in a UTXO.\n> Different choices made by the parties (by providing different data, and\n> therefore choosing different branches) would lead to a different leaf, and\n> therefore to different (but in a certain sense \"symmetric\") states.\n>\n> ========\n>\n> Since we are talking about the fact that f is committed to in the\n> contract, I'll take the chance to extend on this a bit with a fun\n> construction on top.\n> It is well-known in the academic literature of state channels that you can\n> create contracts where even the function (\"program\", or \"contract\") is not\n> decided when the channel is created.\n>\n> Since f is generic, we can choose f itself to be a universal Turing\n> machine. That is, we can imagine a function f(code, data) that executes a\n> program (\"code\") on the \"data\" given to it as input.\n> Since we can do fraud proofs on statements \"f(code, data) == output\", we\n> could build contracts where the \"code\" itself is chosen later.\n>\n> For example, one could build a universal state channel, where parties can\n> enter any contract among themselves (e.g.: start playing a chess game)\n> entirely inside the channel. The state of this universal channel would\n> contain all the states of the individual contracts that are currently open\n> in the channel, and even starting/closing contracts can happen entirely\n> off-chain.\n>\n> I believe these constructions are practical (the code of universal Turing\n> machines is not really complicated), so it might be worth exploring further\n> to figure out useful applications of this approach (supercharging\n> lightning?).\n>\n> We should probably start by implementing testnet rock-paper-scissors in\n> MATT, though :)\n>\n> Best,\n> Salvatore Ingala\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/21e4f924/attachment-0001.html>"
            }
        ],
        "thread_summary": {
            "title": "Merkleize All The Things",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Salvatore Ingala",
                "Billy Tetrud"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 10454
        }
    },
    {
        "title": "[bitcoin-dev] [Opt-in full-RBF] Zero-conf apps in immediate danger",
        "thread_messages": [
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-01T12:27:16",
                "message_text_only": "HI All\n\nI am the CEO of GAP600. We guarantee zero confirmed Bitcoin and other\ncrypto  transactions, BTC is a primary part of our business. Our guarantee\nenables our customers to recognise zero-conf deposits. We reimburse our\nclients value of the trx should we get it wrong and a transaction we\nconfirmed gets double spent.\n\nShould full RBF become default enabled and significantly adopted this would\nhave a major impact on the capacity to accept zerof confs on mainnet. With\nthe end result being this use case will be forced to move to a different\nchain, with lightning being just another option.\n\nI wanted to share some statistics about how significant this use case is.\nGAP600 clients are primarily payment processors and non custodial\nliquidity providers; you can see some of our clients on our site\nwww.gap600.com. There are also merchants who have developed their own tools\nso GAP600 statistics are only a subset of the full use case.\n\nI do not know of any wallet, exchange or custodian who accepts zero conf\nwithout having some sort of solution in place. The market seems to be fully\naware of the risks of zero-conf. The opt-RBF seems to be a solution which\ngives a clear free choice for actors.\n\nStatistics for consideration as a sample of the zero conf use case -\n\n\n   1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n   15M transactions\n   2. These transactions have a cumulative value of 2.3B USD value.\n   3. We currently are seeing circa 1.5M transactions queired per month.\n\n\nIt's a sizable amount of trxs on mainet and we are by no means the full\nmarket of platforms accepting zero-conf.  I realise there are other\nconsiderations which BTC has,  I would urge you to take into account the\nmajor risk being placed on this significant market share when deciding to\nmake this feature default enabled and encouraging full adoption.\n\nThank you for your consideration\nDaniel\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221201/cfe5b3d1/attachment.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-12-01T22:03:55",
                "message_text_only": "There has never been any enforcement of miner preferences.   The convention\nis changing quickly, since miners are squeezed for cash and want to\ncapture every nickel, plus there are bounties for full rbf being posted\nevery day.\n\nI would suggest considering to continue doing business, as usual, as if\nfull rbf is present.\n\nThis means:\n\n- managing risk\n- waiting for confirmations if the risk is too high\n- using lightning if possible\n\nNo other coin or chain offers a safer way to do business than lightning\nover bitcoin.\n\n\n\n\nOn Thu, Dec 1, 2022 at 7:32 AM Daniel Lipshitz via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> HI All\n>\n> I am the CEO of GAP600. We guarantee zero confirmed Bitcoin and other\n> crypto  transactions, BTC is a primary part of our business. Our guarantee\n> enables our customers to recognise zero-conf deposits. We reimburse our\n> clients value of the trx should we get it wrong and a transaction we\n> confirmed gets double spent.\n>\n> Should full RBF become default enabled and significantly adopted this\n> would have a major impact on the capacity to accept zerof confs on mainnet.\n> With the end result being this use case will be forced to move to a\n> different chain, with lightning being just another option.\n>\n> I wanted to share some statistics about how significant this use case is.\n> GAP600 clients are primarily payment processors and non custodial\n> liquidity providers; you can see some of our clients on our site\n> www.gap600.com. There are also merchants who have developed their own\n> tools so GAP600 statistics are only a subset of the full use case.\n>\n> I do not know of any wallet, exchange or custodian who accepts zero conf\n> without having some sort of solution in place. The market seems to be fully\n> aware of the risks of zero-conf. The opt-RBF seems to be a solution which\n> gives a clear free choice for actors.\n>\n> Statistics for consideration as a sample of the zero conf use case -\n>\n>\n>    1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n>    15M transactions\n>    2. These transactions have a cumulative value of 2.3B USD value.\n>    3. We currently are seeing circa 1.5M transactions queired per month.\n>\n>\n> It's a sizable amount of trxs on mainet and we are by no means the full\n> market of platforms accepting zero-conf.  I realise there are other\n> considerations which BTC has,  I would urge you to take into account the\n> major risk being placed on this significant market share when deciding to\n> make this feature default enabled and encouraging full adoption.\n>\n> Thank you for your consideration\n> Daniel\n> ________________________________\n>\n> Daniel Lipshitz\n> GAP600| www.gap600.com\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221201/cc56e561/attachment.html>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-02T06:34:07",
                "message_text_only": "If fullRBF would become default and this would become dominant, zero-conf\nacceptance would become extremely difficult and would impact significantly\nthis market share because its not the everyday users who would actually\nworry about it however the attackers would be all over it.\n\nAs it is today the network has brief periods of stress when trxs are\ndelayed but in general clears regularly and from time to time there is\nstress. Today actors' wallets and merchants etc already have the option of\nRBF.\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n\n\nOn Fri, Dec 2, 2022 at 12:04 AM Erik Aronesty <erik at q32.com> wrote:\n\n> There has never been any enforcement of miner preferences.   The\n> convention is changing quickly, since miners are squeezed for cash and want\n> to capture every nickel, plus there are bounties for full rbf being posted\n> every day.\n>\n> I would suggest considering to continue doing business, as usual, as if\n> full rbf is present.\n>\n> This means:\n>\n> - managing risk\n> - waiting for confirmations if the risk is too high\n> - using lightning if possible\n>\n> No other coin or chain offers a safer way to do business than lightning\n> over bitcoin.\n>\n>\n>\n>\n> On Thu, Dec 1, 2022 at 7:32 AM Daniel Lipshitz via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> HI All\n>>\n>> I am the CEO of GAP600. We guarantee zero confirmed Bitcoin and other\n>> crypto  transactions, BTC is a primary part of our business. Our guarantee\n>> enables our customers to recognise zero-conf deposits. We reimburse our\n>> clients value of the trx should we get it wrong and a transaction we\n>> confirmed gets double spent.\n>>\n>> Should full RBF become default enabled and significantly adopted this\n>> would have a major impact on the capacity to accept zerof confs on mainnet.\n>> With the end result being this use case will be forced to move to a\n>> different chain, with lightning being just another option.\n>>\n>> I wanted to share some statistics about how significant this use case is.\n>> GAP600 clients are primarily payment processors and non custodial\n>> liquidity providers; you can see some of our clients on our site\n>> www.gap600.com. There are also merchants who have developed their own\n>> tools so GAP600 statistics are only a subset of the full use case.\n>>\n>> I do not know of any wallet, exchange or custodian who accepts zero conf\n>> without having some sort of solution in place. The market seems to be fully\n>> aware of the risks of zero-conf. The opt-RBF seems to be a solution which\n>> gives a clear free choice for actors.\n>>\n>> Statistics for consideration as a sample of the zero conf use case -\n>>\n>>\n>>    1. As of end of Nov 2022 - GAP600 has processed i.e responded to\n>>    circa 15M transactions\n>>    2. These transactions have a cumulative value of 2.3B USD value.\n>>    3. We currently are seeing circa 1.5M transactions queired per month.\n>>\n>>\n>> It's a sizable amount of trxs on mainet and we are by no means the full\n>> market of platforms accepting zero-conf.  I realise there are other\n>> considerations which BTC has,  I would urge you to take into account the\n>> major risk being placed on this significant market share when deciding to\n>> make this feature default enabled and encouraging full adoption.\n>>\n>> Thank you for your consideration\n>> Daniel\n>> ________________________________\n>>\n>> Daniel Lipshitz\n>> GAP600| www.gap600.com\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221202/ed67276b/attachment-0001.html>"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-12-02T01:52:46",
                "message_text_only": "Hi Daniel,\n\n>From my understanding of GAP600, you're operating a zero-conf risk analysis\nbusiness, which is integrated and leveraged by payment processors/liquidity\nproviders and merchants. A deployment of fullrbf by enough full-node\noperators and a subset of the mining hashrate would lower the cost of\ndouble-spend attack by lamda users, therefore increasing the risk exposure\nof your users. This increased risk exposure could lead you to alter the\nacceptance of incoming zero-conf transactions, AFAICT in a similar\nreasoning as exposed by Bitrefill earlier this year [0].\n\nAbout the statistics you're asking for considerations, few further\nquestions, on those 1.5M transactions per month, a) how many are\nBitcoin-only (as I understand to be multi-cryptocurrencies), b) how many\nare excluded from zeroconf due to factors like RBF, long-chain of\nunconfirmed ancestors or too high-value and c) what has been the average\nfeerate (assuming a standard size of 200 bytes) ?\n\nMy personal position on fullrbf is still the same as expressed in #26525\n[1]. As a community, I think we still don't have conceptual consensus on\ndeploying full-rbf, neither to remove it. In the direction of removing the\ncurrent option from Bitcoin Core, I think the prerequisite to address are\nthe qualification of enough economic flows at risk and the presence of a\nsizable loss in miners income. Beyond that, I think there is still the open\nquestion if we (we, as the Bitcoin protocol development community, with all\nits stakeholders) should restrain user choice in policy settings in the\nname of preserving mining income and established use-case stability.\n\nTo recall, the original technical motivation of this option, and the wider\nsmoother deployment was to address a DoS vector affecting another class of\nuse-case: multi-party transactions like coinjoin and contracting protocols\nlike Lightning [2] [3]. All of them expect to generate economic flows and\ncorresponding mining income. Since then, alternative paths to solve this\nDoS vector have been devised, all with their own trade-offs and conceptual\nissues [4] [5].\n\nBest,\nAntoine\n\n[0]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021070.html\n[1] https://github.com/bitcoin/bitcoin/pull/26525#issuecomment-1319499006\n[2]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020557.html\n[3]\nhttps://lists.linuxfoundation.org/pipermail/lightning-dev/2021-May/003033.html\n[4]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021135.html\n[5]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021144.html\n\nLe jeu. 1 d\u00e9c. 2022 \u00e0 07:32, Daniel Lipshitz via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> a \u00e9crit :\n\n> HI All\n>\n> I am the CEO of GAP600. We guarantee zero confirmed Bitcoin and other\n> crypto  transactions, BTC is a primary part of our business. Our guarantee\n> enables our customers to recognise zero-conf deposits. We reimburse our\n> clients value of the trx should we get it wrong and a transaction we\n> confirmed gets double spent.\n>\n> Should full RBF become default enabled and significantly adopted this\n> would have a major impact on the capacity to accept zerof confs on mainnet.\n> With the end result being this use case will be forced to move to a\n> different chain, with lightning being just another option.\n>\n> I wanted to share some statistics about how significant this use case is.\n> GAP600 clients are primarily payment processors and non custodial\n> liquidity providers; you can see some of our clients on our site\n> www.gap600.com. There are also merchants who have developed their own\n> tools so GAP600 statistics are only a subset of the full use case.\n>\n> I do not know of any wallet, exchange or custodian who accepts zero conf\n> without having some sort of solution in place. The market seems to be fully\n> aware of the risks of zero-conf. The opt-RBF seems to be a solution which\n> gives a clear free choice for actors.\n>\n> Statistics for consideration as a sample of the zero conf use case -\n>\n>\n>    1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n>    15M transactions\n>    2. These transactions have a cumulative value of 2.3B USD value.\n>    3. We currently are seeing circa 1.5M transactions queired per month.\n>\n>\n> It's a sizable amount of trxs on mainet and we are by no means the full\n> market of platforms accepting zero-conf.  I realise there are other\n> considerations which BTC has,  I would urge you to take into account the\n> major risk being placed on this significant market share when deciding to\n> make this feature default enabled and encouraging full adoption.\n>\n> Thank you for your consideration\n> Daniel\n> ________________________________\n>\n> Daniel Lipshitz\n> GAP600| www.gap600.com\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221201/ef417993/attachment-0001.html>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-02T06:59:01",
                "message_text_only": "HI Antoine\n\nThank you for all the references - I agree with Sergej\nstatement \"opportunity makes the thief\"\n\nThe 1.5M trxs are all BTC which our clients query, I dont have specifics\nfor those trxs i.e. reasons for not being confirmed. However we target to\nachieve +90% confirmation of trxs for our clients. Fee rates the\ntransactions generally follow standard fee/rate policy similar to all\nindustry recommendations, we recommend higher priority fee rate but approve\ntrxs well below that level. I would say we havent seen a trx with medium\nfee rate be double spend - this is excluding race attacks or as you\nmentioned ancestral unconfirmed attacks.\n\nOpt in RBF is used in many ways to try to do double spends - i.e with\nancestral attacks inputs which are not confirmed, and also publishing the\nRBF first and then the straight trxs later. In general double spends excl\nOptin RBF does not occur alot at all - but the presence of a potential risk\ncauses everyone to wait back for confirmations.\n\nLooking at a sample of latest 4.3M trxs, I can see crica 11k trxs which\nseem to be double spent vast majority of these will be RBF, also on trx\nthat are high risk and we dont confirm the attacker has no incentive to\nfollow through with the second trxs.\n\nI see quite a bit of reference to the benefit to miners for RBF - I would\nthink this cash flow benefit is not significant but I would suggest getting\ninput from a miner themselves.\n\nBest\nDaniel\n\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n\n\nOn Fri, Dec 2, 2022 at 3:52 AM Antoine Riard <antoine.riard at gmail.com>\nwrote:\n\n> Hi Daniel,\n>\n> From my understanding of GAP600, you're operating a zero-conf risk\n> analysis business, which is integrated and leveraged by payment\n> processors/liquidity providers and merchants. A deployment of fullrbf by\n> enough full-node operators and a subset of the mining hashrate would lower\n> the cost of double-spend attack by lamda users, therefore increasing the\n> risk exposure of your users. This increased risk exposure could lead you to\n> alter the acceptance of incoming zero-conf transactions, AFAICT in a\n> similar reasoning as exposed by Bitrefill earlier this year [0].\n>\n> About the statistics you're asking for considerations, few further\n> questions, on those 1.5M transactions per month, a) how many are\n> Bitcoin-only (as I understand to be multi-cryptocurrencies), b) how many\n> are excluded from zeroconf due to factors like RBF, long-chain of\n> unconfirmed ancestors or too high-value and c) what has been the average\n> feerate (assuming a standard size of 200 bytes) ?\n>\n> My personal position on fullrbf is still the same as expressed in #26525\n> [1]. As a community, I think we still don't have conceptual consensus on\n> deploying full-rbf, neither to remove it. In the direction of removing the\n> current option from Bitcoin Core, I think the prerequisite to address are\n> the qualification of enough economic flows at risk and the presence of a\n> sizable loss in miners income. Beyond that, I think there is still the open\n> question if we (we, as the Bitcoin protocol development community, with all\n> its stakeholders) should restrain user choice in policy settings in the\n> name of preserving mining income and established use-case stability.\n>\n> To recall, the original technical motivation of this option, and the wider\n> smoother deployment was to address a DoS vector affecting another class of\n> use-case: multi-party transactions like coinjoin and contracting protocols\n> like Lightning [2] [3]. All of them expect to generate economic flows and\n> corresponding mining income. Since then, alternative paths to solve this\n> DoS vector have been devised, all with their own trade-offs and conceptual\n> issues [4] [5].\n>\n> Best,\n> Antoine\n>\n> [0]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021070.html\n> [1] https://github.com/bitcoin/bitcoin/pull/26525#issuecomment-1319499006\n> [2]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020557.html\n> [3]\n> https://lists.linuxfoundation.org/pipermail/lightning-dev/2021-May/003033.html\n> [4]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021135.html\n> [5]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021144.html\n>\n> Le jeu. 1 d\u00e9c. 2022 \u00e0 07:32, Daniel Lipshitz via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> a \u00e9crit :\n>\n>> HI All\n>>\n>> I am the CEO of GAP600. We guarantee zero confirmed Bitcoin and other\n>> crypto  transactions, BTC is a primary part of our business. Our guarantee\n>> enables our customers to recognise zero-conf deposits. We reimburse our\n>> clients value of the trx should we get it wrong and a transaction we\n>> confirmed gets double spent.\n>>\n>> Should full RBF become default enabled and significantly adopted this\n>> would have a major impact on the capacity to accept zerof confs on mainnet.\n>> With the end result being this use case will be forced to move to a\n>> different chain, with lightning being just another option.\n>>\n>> I wanted to share some statistics about how significant this use case is.\n>> GAP600 clients are primarily payment processors and non custodial\n>> liquidity providers; you can see some of our clients on our site\n>> www.gap600.com. There are also merchants who have developed their own\n>> tools so GAP600 statistics are only a subset of the full use case.\n>>\n>> I do not know of any wallet, exchange or custodian who accepts zero conf\n>> without having some sort of solution in place. The market seems to be fully\n>> aware of the risks of zero-conf. The opt-RBF seems to be a solution which\n>> gives a clear free choice for actors.\n>>\n>> Statistics for consideration as a sample of the zero conf use case -\n>>\n>>\n>>    1. As of end of Nov 2022 - GAP600 has processed i.e responded to\n>>    circa 15M transactions\n>>    2. These transactions have a cumulative value of 2.3B USD value.\n>>    3. We currently are seeing circa 1.5M transactions queired per month.\n>>\n>>\n>> It's a sizable amount of trxs on mainet and we are by no means the full\n>> market of platforms accepting zero-conf.  I realise there are other\n>> considerations which BTC has,  I would urge you to take into account the\n>> major risk being placed on this significant market share when deciding to\n>> make this feature default enabled and encouraging full adoption.\n>>\n>> Thank you for your consideration\n>> Daniel\n>> ________________________________\n>>\n>> Daniel Lipshitz\n>> GAP600| www.gap600.com\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221202/9b026be3/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-02T04:30:28",
                "message_text_only": "On Thu, Dec 01, 2022 at 02:27:16PM +0200, Daniel Lipshitz via bitcoin-dev wrote:\n> Statistics for consideration as a sample of the zero conf use case -\n> \n> \n>    1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n>    15M transactions\n>    2. These transactions have a cumulative value of 2.3B USD value.\n>    3. We currently are seeing circa 1.5M transactions queired per month.\n\nI'm curious, what are the time frames involved in those figures? Eg 15M txs\nover how long?\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221201/ba0fa5b0/attachment.sig>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-02T07:06:26",
                "message_text_only": "Yes I can see how that is not clear, apologies.\n\nJust BTC.\n>From Jan1 2022 up till end of November 2022 GAP600 has processed circa 15M\ntrxs. With a value of 2.3B USD.\nIn 2021 we did - circa 12.5M.\nIn 2020 we did circa 6.5M.\n\nWe have been in production since 2016 and working on the project since\n2014/2015.\n\n\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n\n\nOn Fri, Dec 2, 2022 at 6:30 AM Peter Todd <pete at petertodd.org> wrote:\n\n> On Thu, Dec 01, 2022 at 02:27:16PM +0200, Daniel Lipshitz via bitcoin-dev\n> wrote:\n> > Statistics for consideration as a sample of the zero conf use case -\n> >\n> >\n> >    1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n> >    15M transactions\n> >    2. These transactions have a cumulative value of 2.3B USD value.\n> >    3. We currently are seeing circa 1.5M transactions queired per month.\n>\n> I'm curious, what are the time frames involved in those figures? Eg 15M txs\n> over how long?\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221202/f7c57455/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-03T08:50:13",
                "message_text_only": "On Fri, Dec 02, 2022 at 09:06:26AM +0200, Daniel Lipshitz wrote:\n> Yes I can see how that is not clear, apologies.\n> \n> Just BTC.\n> From Jan1 2022 up till end of November 2022 GAP600 has processed circa 15M\n> trxs. With a value of 2.3B USD.\n> In 2021 we did - circa 12.5M.\n> In 2020 we did circa 6.5M.\n> \n> We have been in production since 2016 and working on the project since\n> 2014/2015.\n\nThanks.\n\nI note on your website that you claim ShapeShift is one of your clients. I just\nchecked and ShapeShift appears to wait for a confirmation before allowing a\ntrade when funded with a high-fee, non-opt-in-rbf transaction.\n\nWhat exactly is the service that you are providing for ShapeShift?\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221203/864cc58b/attachment.sig>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-03T11:01:16",
                "message_text_only": "Shapeshift used to be clients in fact one of our first when we started in\n2016.\n\nThey no longer use our service but from time to time use us for fee\nrecommendations. So we actually should remove their logo as a current\nclient.\n\nIf you wish to test it out try find a merchant using Coinpayments or\nCoinspaid.\n\nAlso some of our non custodial liquidity providers offer service no\ncustodial wallets. I am not sure which.\n\nOn Sat, 3 Dec 2022 at 10:50 Peter Todd <pete at petertodd.org> wrote:\n\n> On Fri, Dec 02, 2022 at 09:06:26AM +0200, Daniel Lipshitz wrote:\n> > Yes I can see how that is not clear, apologies.\n> >\n> > Just BTC.\n> > From Jan1 2022 up till end of November 2022 GAP600 has processed circa\n> 15M\n> > trxs. With a value of 2.3B USD.\n> > In 2021 we did - circa 12.5M.\n> > In 2020 we did circa 6.5M.\n> >\n> > We have been in production since 2016 and working on the project since\n> > 2014/2015.\n>\n> Thanks.\n>\n> I note on your website that you claim ShapeShift is one of your clients. I\n> just\n> checked and ShapeShift appears to wait for a confirmation before allowing a\n> trade when funded with a high-fee, non-opt-in-rbf transaction.\n>\n> What exactly is the service that you are providing for ShapeShift?\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-- \n________________________________\nDaniel Lipshitz\nGAP600\nwww.Gap600.com\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221203/6397770d/attachment.html>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-03T11:51:19",
                "message_text_only": "Can also set you up with a trial account - interface is via API - just let\nme know which email you wish for me to use and I will send over an\nactivation link which is active for 24 hours.\n\nHappy to do it for other members list as well.\n\nOn Sat, 3 Dec 2022 at 13:01 Daniel Lipshitz <daniel at gap600.com> wrote:\n\n> Shapeshift used to be clients in fact one of our first when we started in\n> 2016.\n>\n> They no longer use our service but from time to time use us for fee\n> recommendations. So we actually should remove their logo as a current\n> client.\n>\n> If you wish to test it out try find a merchant using Coinpayments or\n> Coinspaid.\n>\n> Also some of our non custodial liquidity providers offer service no\n> custodial wallets. I am not sure which.\n>\n> On Sat, 3 Dec 2022 at 10:50 Peter Todd <pete at petertodd.org> wrote:\n>\n>> On Fri, Dec 02, 2022 at 09:06:26AM +0200, Daniel Lipshitz wrote:\n>> > Yes I can see how that is not clear, apologies.\n>> >\n>> > Just BTC.\n>> > From Jan1 2022 up till end of November 2022 GAP600 has processed circa\n>> 15M\n>> > trxs. With a value of 2.3B USD.\n>> > In 2021 we did - circa 12.5M.\n>> > In 2020 we did circa 6.5M.\n>> >\n>> > We have been in production since 2016 and working on the project since\n>> > 2014/2015.\n>>\n>> Thanks.\n>>\n>> I note on your website that you claim ShapeShift is one of your clients.\n>> I just\n>> checked and ShapeShift appears to wait for a confirmation before allowing\n>> a\n>> trade when funded with a high-fee, non-opt-in-rbf transaction.\n>>\n>> What exactly is the service that you are providing for ShapeShift?\n>>\n>> --\n>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>>\n> --\n> ________________________________\n> Daniel Lipshitz\n> GAP600\n> www.Gap600.com\n>\n>\n> --\n________________________________\nDaniel Lipshitz\nGAP600\nwww.Gap600.com\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221203/13468447/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-03T12:12:02",
                "message_text_only": "On Sat, Dec 03, 2022 at 01:01:16PM +0200, Daniel Lipshitz wrote:\n> Shapeshift used to be clients in fact one of our first when we started in\n> 2016.\n> \n> They no longer use our service but from time to time use us for fee\n> recommendations. So we actually should remove their logo as a current\n> client.\n\nYes you should. When did ShapeShift stop using your service? Did they explain\nwhy?\n\n> If you wish to test it out try find a merchant using Coinpayments or\n> Coinspaid.\n> \n> Also some of our non custodial liquidity providers offer service no\n> custodial wallets. I am not sure which.\n\nI see that you also advertise that Gap600 is \"Trusted by\" Coindirect and\nCoinify, both AML/KYC crypto exchanges. Obviously, with full AML/KYC\ndouble-spends are not much of a concern. And it's not even clear that\neither accepts zeroconf anyway, as I'll explain later.\n\nOn this list you claimed that:\n\n>  1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n>  15M transactions\n>  2. These transactions have a cumulative value of 2.3B USD value.\n>  3. We currently are seeing circa 1.5M transactions queired per month.\n\nWhat's the value and number of transactions that *actually* rely on your\nunconfirmed transaction tools? The only category that would apply for is goods\nprovided immediately and irrovocably, without AML/KYC. Because it sounds like\nthese figures may be significantly overstated.\n\n\nRe: CoinsPaid, what you say here makes it also sound like it relies on AML/KYC:\n\n> CoinsPaid applies a special software tool across its solutions to conduct\n> stringent KYC procedures and a risk-based approach to CDD that verify user\n> identities to mitigate fraud, money laundering and other activities linked to\n> criminality and terrorism.\nhttps://www.gap600.com/uncategorized/coinspaid/\n\nRe: Coindirect, the documentation I can find appears to say that confirmations\nare required before you can use coins deposited into Coindirect:\n\n> Digital currency transactions must be confirmed on the relevant network block\n> before they are considered valid. Only once confirmed, will you be able to\n> use the coins deposited in your Coindirect wallet.\nhttps://help.coindirect.com/hc/en-us/articles/115002441974-How-quickly-can-I-use-coins-deposited-into-my-Coindirect-wallet-\n\nThis is repeated here as well: https://help.coindirect.com/hc/en-us/articles/4409120006546--Deposits-\n\nRe: Coinify, the API docs don't give any indication of risk scoring or any\nother Gap600 integration:\n\nhttps://merchant.coinify.com/docs/api/#payment-object\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221203/2d341053/attachment.sig>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-03T13:17:16",
                "message_text_only": "The statistics that I have stated are based on trxs that rely on our tool.\nThey are not overstated, this is a reflection of the 0conf market on BTC.\n\nThey are trxs which our clients query via the API and which I clients pay\nsubscription for.\n\nThere is no point for clients to send us trxs they don\u2019t want or need our\nresponse from. We are a B2b provider so we are not sure how and who the end\nusers and applications are.\n\nCoinify definitely doesn\u2019t send us all their traffic, as I would think some\nof our other clients.\n\nHere is some external confirmation a bit old though but still-\nhttps://blog.coinpayments.net/news-features/gap600\nYou can also see our video of Coinspaid using our service on our site - all\nour Marcom is a bit old.\n\nWe service primarily payment processors and liquidity providers and not end\nmerchants so I can\u2019t say how and to who end clients implement it.\n\nIf AML/KYC was enough to prevent double spends all exchanges would offer\n0conf.\n\nI don\u2019t know the split with our clients as it\u2019s non of our business but\ndefinitely a significant amount of end users are not Kyced for the trxs.\n\nBest would be to try and talk to some of our major clients - ie\nCoinpayments, Coinspaid and Coinify.\n\n\n\nOn Sat, 3 Dec 2022 at 14:12 Peter Todd <pete at petertodd.org> wrote:\n\n> On Sat, Dec 03, 2022 at 01:01:16PM +0200, Daniel Lipshitz wrote:\n> > Shapeshift used to be clients in fact one of our first when we started in\n> > 2016.\n> >\n> > They no longer use our service but from time to time use us for fee\n> > recommendations. So we actually should remove their logo as a current\n> > client.\n>\n> Yes you should. When did ShapeShift stop using your service? Did they\n> explain\n> why?\n>\n> > If you wish to test it out try find a merchant using Coinpayments or\n> > Coinspaid.\n> >\n> > Also some of our non custodial liquidity providers offer service no\n> > custodial wallets. I am not sure which.\n>\n> I see that you also advertise that Gap600 is \"Trusted by\" Coindirect and\n> Coinify, both AML/KYC crypto exchanges. Obviously, with full AML/KYC\n> double-spends are not much of a concern. And it's not even clear that\n> either accepts zeroconf anyway, as I'll explain later.\n>\n> On this list you claimed that:\n>\n> >  1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n> >  15M transactions\n> >  2. These transactions have a cumulative value of 2.3B USD value.\n> >  3. We currently are seeing circa 1.5M transactions queired per month.\n>\n> What's the value and number of transactions that *actually* rely on your\n> unconfirmed transaction tools? The only category that would apply for is\n> goods\n> provided immediately and irrovocably, without AML/KYC. Because it sounds\n> like\n> these figures may be significantly overstated.\n>\n>\n> Re: CoinsPaid, what you say here makes it also sound like it relies on\n> AML/KYC:\n>\n> > CoinsPaid applies a special software tool across its solutions to conduct\n> > stringent KYC procedures and a risk-based approach to CDD that verify\n> user\n> > identities to mitigate fraud, money laundering and other activities\n> linked to\n> > criminality and terrorism.\n> https://www.gap600.com/uncategorized/coinspaid/\n>\n> Re: Coindirect, the documentation I can find appears to say that\n> confirmations\n> are required before you can use coins deposited into Coindirect:\n>\n> > Digital currency transactions must be confirmed on the relevant network\n> block\n> > before they are considered valid. Only once confirmed, will you be able\n> to\n> > use the coins deposited in your Coindirect wallet.\n>\n> https://help.coindirect.com/hc/en-us/articles/115002441974-How-quickly-can-I-use-coins-deposited-into-my-Coindirect-wallet-\n>\n> This is repeated here as well:\n> https://help.coindirect.com/hc/en-us/articles/4409120006546--Deposits-\n>\n> Re: Coinify, the API docs don't give any indication of risk scoring or any\n> other Gap600 integration:\n>\n> https://merchant.coinify.com/docs/api/#payment-object\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-- \n________________________________\nDaniel Lipshitz\nGAP600\nwww.Gap600.com\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221203/138ef429/attachment-0001.html>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-03T14:03:58",
                "message_text_only": "Just a further follow up here please see below feedback from Max CEO of\nCoinspaid - I asked him to send me a mail.\n\nPeter - I can understand why some of our statistics seems off, some of our\nclients when they have multiple outputs going to their cluster will query\neach trx hash with a separate output address as for them they need each trx\nor output deposit covered/guaranteed so we would count that trx hash each\ntime it is queried with a different output address as a trxs - this would\nmean that value of our total processed is possibly a more\nreflective indicator. Apologies for this inclarity we are not used to\ncommunicating our statistics at all - its just not our nature.\n\nI would think looking at Nov 2022 Stats - 900k unique trx hashes queried,\nwith 1.5m trxs on our count since trx hashes are queried with different\noutput addresses. The actual value is USD 220M benefiting from zero conf\nacceptance.\n\nSee Maxes email below - I will also forward the email as is to the list\n\n\nHi Daniel,\n\nHope you are doing fine. I know you are in discussions with Bitcoin Core\nteam or RBF updates.\nWith current email, wanted to confirm that we are running quite a big\nBitcoin payment operation with over 300k incoming transactions, with 700+\ninputs a month. Which is a fair percentage of overall BTC chain capacity\nand we do enjoy zero conf flows that you offer. Our clients do like to give\ninstant experience to their end customers, I would not want to disappoint\nthem with news that \u201cwaiting for confirmations\u201d is on a table again, after\nall these years of smooth experience.\n\n2 main production clusters are rotating around:\n3JodN7GmkHdPgKj9G7HCkn9NDLhrcWCjVN\n3QKCocNhzAgtgFLsD5qUZcG6e4TkfRf421\n\nKind regards,\nMax Krupyshev\nFounder & Leader\ncoinspaid.com // cryptoprocessing.com\nBerlin, Germany\ntelegram: mkrupyshev\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n\n\nOn Sat, Dec 3, 2022 at 3:17 PM Daniel Lipshitz <daniel at gap600.com> wrote:\n\n> The statistics that I have stated are based on trxs that rely on our tool.\n> They are not overstated, this is a reflection of the 0conf market on BTC.\n>\n> They are trxs which our clients query via the API and which I clients pay\n> subscription for.\n>\n> There is no point for clients to send us trxs they don\u2019t want or need our\n> response from. We are a B2b provider so we are not sure how and who the end\n> users and applications are.\n>\n> Coinify definitely doesn\u2019t send us all their traffic, as I would think\n> some of our other clients.\n>\n> Here is some external confirmation a bit old though but still-\n> https://blog.coinpayments.net/news-features/gap600\n> You can also see our video of Coinspaid using our service on our site -\n> all our Marcom is a bit old.\n>\n> We service primarily payment processors and liquidity providers and not\n> end merchants so I can\u2019t say how and to who end clients implement it.\n>\n> If AML/KYC was enough to prevent double spends all exchanges would offer\n> 0conf.\n>\n> I don\u2019t know the split with our clients as it\u2019s non of our business but\n> definitely a significant amount of end users are not Kyced for the trxs.\n>\n> Best would be to try and talk to some of our major clients - ie\n> Coinpayments, Coinspaid and Coinify.\n>\n>\n>\n> On Sat, 3 Dec 2022 at 14:12 Peter Todd <pete at petertodd.org> wrote:\n>\n>> On Sat, Dec 03, 2022 at 01:01:16PM +0200, Daniel Lipshitz wrote:\n>> > Shapeshift used to be clients in fact one of our first when we started\n>> in\n>> > 2016.\n>> >\n>> > They no longer use our service but from time to time use us for fee\n>> > recommendations. So we actually should remove their logo as a current\n>> > client.\n>>\n>> Yes you should. When did ShapeShift stop using your service? Did they\n>> explain\n>> why?\n>>\n>> > If you wish to test it out try find a merchant using Coinpayments or\n>> > Coinspaid.\n>> >\n>> > Also some of our non custodial liquidity providers offer service no\n>> > custodial wallets. I am not sure which.\n>>\n>> I see that you also advertise that Gap600 is \"Trusted by\" Coindirect and\n>> Coinify, both AML/KYC crypto exchanges. Obviously, with full AML/KYC\n>> double-spends are not much of a concern. And it's not even clear that\n>> either accepts zeroconf anyway, as I'll explain later.\n>>\n>> On this list you claimed that:\n>>\n>> >  1. As of end of Nov 2022 - GAP600 has processed i.e responded to circa\n>> >  15M transactions\n>> >  2. These transactions have a cumulative value of 2.3B USD value.\n>> >  3. We currently are seeing circa 1.5M transactions queired per month.\n>>\n>> What's the value and number of transactions that *actually* rely on your\n>> unconfirmed transaction tools? The only category that would apply for is\n>> goods\n>> provided immediately and irrovocably, without AML/KYC. Because it sounds\n>> like\n>> these figures may be significantly overstated.\n>>\n>>\n>> Re: CoinsPaid, what you say here makes it also sound like it relies on\n>> AML/KYC:\n>>\n>> > CoinsPaid applies a special software tool across its solutions to\n>> conduct\n>> > stringent KYC procedures and a risk-based approach to CDD that verify\n>> user\n>> > identities to mitigate fraud, money laundering and other activities\n>> linked to\n>> > criminality and terrorism.\n>> https://www.gap600.com/uncategorized/coinspaid/\n>>\n>> Re: Coindirect, the documentation I can find appears to say that\n>> confirmations\n>> are required before you can use coins deposited into Coindirect:\n>>\n>> > Digital currency transactions must be confirmed on the relevant network\n>> block\n>> > before they are considered valid. Only once confirmed, will you be able\n>> to\n>> > use the coins deposited in your Coindirect wallet.\n>>\n>> https://help.coindirect.com/hc/en-us/articles/115002441974-How-quickly-can-I-use-coins-deposited-into-my-Coindirect-wallet-\n>>\n>> This is repeated here as well:\n>> https://help.coindirect.com/hc/en-us/articles/4409120006546--Deposits-\n>>\n>> Re: Coinify, the API docs don't give any indication of risk scoring or any\n>> other Gap600 integration:\n>>\n>> https://merchant.coinify.com/docs/api/#payment-object\n>>\n>> --\n>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>>\n> --\n> ________________________________\n> Daniel Lipshitz\n> GAP600\n> www.Gap600.com\n>\n>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221203/4ce7fd06/attachment-0001.html>"
            },
            {
                "author": "angus",
                "date": "2022-12-05T12:21:44",
                "message_text_only": "Core adding full RBF is a change of node policy that may be highly inconvenient for zero-conf users, but there has always been and will always be a risk of a double-spend for anyone that treats zero-confirmation transactions as settled. It's literally in the name - this transaction has zero confirmations and no guarantee it'll make it into a block, and so has not yet settled.\n\n\nThe perception seems to be that Core adding the full RBF option is increasing the risk to zero-conf users, but I'm not convinced that that is the case - someone wanting to double-spend attack you isn't going to be bothered to do so over a few thousand sats (unless they can do it thousands of times), and losing a few thousand sats to a double-spend isn't the biggest deal.\n\n\nIt's always been the risk of getting double-spent out of hundreds or thousands of bitcoins that's worth seriously worrying about, which is much more the kind of attack a determined attacker is able to carry out. Such a determined attacker is much more likely to attempt and succeed at a sybil attack, or directly colluding with a miner. So your zero-conf risk increases non-linearly as the amount of bitcoin being transacted grows. (caveat: this paragraph is opinion).\n\n\nThere does, however, seem to be a legitimate business for providing insurance/risk management for people that are willing to accept the zero-conf risk - it is pretty similar to accepting credit cards with a chargeback risk or any payment card with a capture risk, though there's no-one to mediate a dispute. On-chain is final.\n\nBut what doesn't make any sense is trying to avoid Bitcoin Core and nodes from adopting a full RBF policy to try to protect this use case. As has been pointed out by may others before, full RBF is aligned with miner (and user) economic incentives and is a node policy, not consensus, so you can't even tell which nodes are doing it nor can you prevent them from doing so. Second, Bitcoin core 24 with the full RBF option is already out in the wild at around 5%+ of running nodes and growing, so it's too late to kill it.\n\n\nSo my point is that relying on node policy as part of your protection for zero-conf transaction acceptance is fragile, and should not be relied upon. The protocol rules have always tacitly allowed double-spending before a confirmation, and it has always been clear that there's no consensus on which transactions have occurred until they have in a block and have at-least one confirmation.\n\nThe long-term 'what to do about it' is to use Lightning if you want fast payments with risk-free instant settlement, or as above, accept the zero-conf risk and cover yourself with an insurance premium (e.g. a margin on transactions that goes into an insurance fund, and limiting max transaction amount so you're not exposed to uncoverable losses if you do get double-spend attacked)\n\n\n\n\nAngus\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/e9c2f67d/attachment-0001.html>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 249 bytes\nDesc: OpenPGP digital signature\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/e9c2f67d/attachment-0001.sig>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-03T14:06:11",
                "message_text_only": "See below feedback from CEO of Coinspaid Re - Bitcoin Zero conf market value\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n\n\n---------- Forwarded message ---------\nFrom: Max Krupyshev <max at coinspaid.com>\nDate: Sat, Dec 3, 2022 at 3:52 PM\nSubject: Zero conf advantages for business\nTo: Daniel Lipshitz <daniel at gap600.com>\n\n\nHi Daniel,\n\nHope you are doing fine. I know you are in discussions with Bitcoin Core\nteam or RBF updates.\nWith current email, wanted to confirm that we are running quite a big\nBitcoin payment operation with over 300k incoming transactions, with 700+\ninputs a month. Which is a fair percentage of overall BTC chain capacity\nand we do enjoy zero conf flows that you offer. Our clients do like to give\ninstant experience to their end customers, I would not want to disappoint\nthem with news that \u201cwaiting for confirmations\u201d is on a table again, after\nall these years of smooth experience.\n\n2 main production clusters are rotating around:\n3JodN7GmkHdPgKj9G7HCkn9NDLhrcWCjVN\n3QKCocNhzAgtgFLsD5qUZcG6e4TkfRf421\n\nKind regards,\nMax Krupyshev\nFounder & Leader\ncoinspaid.com // cryptoprocessing.com\nBerlin, Germany\ntelegram: mkrupyshev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221203/fb742b43/attachment-0001.html>"
            }
        ],
        "thread_summary": {
            "title": "Zero-conf apps in immediate danger",
            "categories": [
                "bitcoin-dev",
                "Opt-in full-RBF"
            ],
            "authors": [
                "Antoine Riard",
                "Peter Todd",
                "angus",
                "Erik Aronesty",
                "Daniel Lipshitz"
            ],
            "messages_count": 15,
            "total_messages_chars_count": 46237
        }
    },
    {
        "title": "[bitcoin-dev] Fwd: [Opt-in full-RBF] Zero-conf apps in immediate danger",
        "thread_messages": [
            {
                "author": "Antoine Riard",
                "date": "2022-12-02T22:35:39",
                "message_text_only": "Hi Daniel,\n\n>From my understanding of GAP600, you're operating a zero-conf risk analysis\nbusiness, which is integrated and leveraged by payment processors/liquidity\nproviders and merchants. A deployment of fullrbf by enough full-node\noperators and a subset of the mining hashrate would lower the cost of\ndouble-spend attack by lamda users, therefore increasing the risk exposure\nof your users. This increased risk exposure could lead you to alter the\nacceptance of incoming zero-conf transactions, AFAICT in a similar\nreasoning as exposed by Bitrefill earlier this year [0].\n\nAbout the statistics you're asking for considerations, few further\nquestions, on those 1.5M transactions per month, a) how many are\nBitcoin-only (as I understand to be multi-cryptocurrencies), b) how many\nare excluded from zeroconf due to factors like RBF, long-chain of\nunconfirmed ancestors or too high-value and c) what has been the average\nfeerate (assuming a standard size of 200 bytes) ?\n\nMy personal position on fullrbf is still the same as expressed in #26525\n[1]. As a community, I think we still don't have conceptual consensus on\ndeploying full-rbf, nor to remove it. In the direction of removing the\ncurrent option from Bitcoin Core, I think the prerequisite to address are\nthe qualification of enough economic flows at risk and the presence of a\nsizable loss in miners income. Beyond that, I think there is still the open\nquestion if we (we, as the Bitcoin protocol development community, with all\nits stakeholders) should restrain user choice in policy settings in the\nname of preserving mining income and established use-case stability.\n\nTo recall, the original technical motivation of this option, and the wider\nsmoother deployment was to address a DoS vector affecting another class of\nuse-case: multi-party transactions like coinjoin and contracting protocols\nlike Lightning [2] [3]. All of them expect to generate economic flows and\ncorresponding mining income. Since then, alternative paths to solve this\nDoS vector have been devised, all with their own trade-offs and conceptual\nissues [4] [5].\n\nBest,\nAntoine\n\n[0]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021070.html\n[1] https://github.com/bitcoin/bitcoin/pull/26525#issuecomment-1319499006\n[2]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020557.html\n[3]\nhttps://lists.linuxfoundation.org/pipermail/lightning-dev/2021-May/003033.html\n[4]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021135.html\n[5]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021144.html\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221202/532b4dc0/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-06T05:03:56",
                "message_text_only": "On Fri, Dec 02, 2022 at 05:35:39PM -0500, Antoine Riard via bitcoin-dev wrote:\n> To recall, the original technical motivation of this option, and the wider\n> smoother deployment was to address a DoS vector affecting another class of\n> use-case: multi-party transactions like coinjoin and contracting protocols\n> like Lightning [2] [3]. All of them expect to generate economic flows and\n> corresponding mining income. Since then, alternative paths to solve this\n> DoS vector have been devised, all with their own trade-offs and conceptual\n> issues [4] [5].\n\n<snip>\n\n> [4]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021135.html\n> [5]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021144.html\n\nTo be clear, these alternative paths all negatively impact privacy as they're\ncreating yet more ways for bad actors such as Chainalysis to deanonymize\ntransactions. We have a fundamental political tradeoff between the few\ncentralized services trying to accept unconfirmed txs, and the huge number of\nusers - everyone else - who desires privacy.\n\nA big part of the promise of taproot was that we'd be able to eventually\ngreatly improve the anonymity set of all transactions by making multi-party\ntransactions indistinguishable from any other transaction. That's a huge part\nof why the community fought for taproot adoption.\n\nYour proposal [5] that multi-party protocols use a different nVersion to signal\nfull-rbf in their txouts negates that anonymity set for the obvious reason that\nsingle-party wallets are discouraged from using it by the fact that a few\nservices like Bitrefill complain about RBF transactions. Indeed, since\nnVersion=3 transactions are non-standard, we additionally have the problem that\nmany more wallets won't even see such payments until a confirmation, or in some\ncases due to bugs, never.\n\n\nWorse, this trade-offs is fundamental: it is impossible to design such a\nprotocol without harming privacy. Why? Let's assume such a protocol was\npossible. To be compatible with how unconfirmed txs are accepted today the\nprotocol would have to have the following two simultaneous properties:\n\n1) Zeroconf services would need to be able to inspect the tx data and determine\n   whether or not the txout had opted into full-rbf.\n2) Chainalysis services would need to be unable to inspect the tx data and\n   determine whether or not the txout had opted into full-rbf.\n\nThis is an obvious contradiction, and the only alternative of commit-reveal\nschemes is ridiculous and would *itself* create yet another privacy impact. We\ndo not need any further technical debate on this issue: this is a political\ntradeoff between a few centralized services and all other users that needs to\nbe decied by the community. No different than the blocksize wars.\n\n\nThe v3 proposal Suhas mentions in [4] has similar privacy issues: again we're\nforcing a class of multiparty protocols to create transactions that are clearly\nidentified as being multiparty. In this case the privacy impact isn't as stark,\nbecause the common case of cooperative actions in Lightning can use v2\ntransactions. But this is still a privacy impact that could be avoided by\nbetter mempool design. Eg as I showed in:\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021175.html\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221206/e7753276/attachment.sig>"
            }
        ],
        "thread_summary": {
            "title": "Fwd: Zero-conf apps in immediate danger",
            "categories": [
                "bitcoin-dev",
                "Opt-in full-RBF"
            ],
            "authors": [
                "Antoine Riard",
                "Peter Todd"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 6421
        }
    },
    {
        "title": "[bitcoin-dev] Announcement: Full-RBF Miner Bounty",
        "thread_messages": [
            {
                "author": "El_Hoy",
                "date": "2022-12-05T12:20:58",
                "message_text_only": "The only option I see against the attack Peter Todd is doing to opt-in RBF\nand 0Conf bitcoin usage is working on a bitcoin core implementation that\nstops propagation of full-rbf replaced blocks. Running multiple of such\nnodes on the network will add a risk to miners that enable full-rbf that\nwould work as an incentive against that.\n\nObviously that would require adding an option on bitcoin core (that is not\ntechnically but politically difficult to implement as Petter Todd already\nhave commit access to the main repository).\n\nThat said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun\nwallet developers) could work on a fork and run several nodes with such\nfunctionality. As far as I understand the percolation model, with 10 to 20\nnodes running such a rule would create a significant risk for full-rbf\nminers.\n\nRegards.\n\n---  Eloy\n\n\nOn Tue, Nov 15, 2022 at 11:43 AM Peter Todd via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Tue, Nov 15, 2022 at 03:36:08PM +1000, Anthony Towns via bitcoin-dev\n> wrote:\n> > On Tue, Nov 08, 2022 at 01:16:13PM -0500, Peter Todd via bitcoin-dev\n> wrote:\n> > > FYI I've gotten a few hundred dollars worth of donations to this\n> effort, and\n> > > have raised the reward to about 0.02 BTC, or $400 USD at current\n> prices.\n> >\n> > Seems like this has been mostly claimed (0.014btc / $235, 9238sat/vb):\n>\n> I'm turning it back on when (if) the mempool settles down. I've got more\n> than\n> enough donations to give another run at it (the majority was donated\n> privately\n> FWIW). There's a risk of the mempool filling up again of course; hard to\n> avoid\n> that.\n>\n> Right now of course it's really easy to double spend with the obvious\n> low-fee/high-fee method as the min relay fee keeps shifting.\n>\n> >\n> https://mempool.space/tx/397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c\n> >\n> > The block it was claimed in seems to have been about an hour after the\n> > default mempool filled up:\n> >\n> > https://twitter.com/murchandamus/status/1592274621977477120\n> >\n> > That block actually seems to have included two\n> > alice.btc.calendar.opentimestamps.org txs, the other paying $7.88\n> > (309sat/vb):\n> >\n> >\n> https://mempool.space/tx/ba9670109a6551458d5e1e23600c7bf2dc094894abdf59fe7aa020ccfead07cf\n>\n> The second is because I turned down the full-rbf reward to more normal fee\n> levels. There's also another full-rbf double-spend from the Bob calendar,\n> along\n> the same lines:\n> 7e76b351009326a574f3120164dbbe6d85e07e04a7bbdc40f0277fcb008d2cd2\n>\n> I double-spent the txin of the high fee tx that got mined. But I\n> mistakenly had\n> RBF enabled in that double-spend, so while it propagated initially, I\n> believe\n> it was replaced when something (someone?) rebroadcast the high-fee 397dcb\n> tx.\n>\n> > Timeline (utc) to me looks like:\n> >\n> >  - 13:12 - block 763148 is mined: last one that had a min fee < 1.5sat/vb\n> >  - 13:33 -\n> f503868c64d454c472859b793f3ee7cdc8f519c64f8b1748d8040cd8ce6dc6e1\n> >            is announced and propogates widely (1.2sat/vb)\n> >  - 18:42 -\n> 746daab9bcc331be313818658b4a502bb4f3370a691fd90015fabcd7759e0944\n> >            is announced and propogates widely (1.2sat/vb)\n> >  - 21:52 - ba967010 tx is announced and propogates widely, since\n> >            conflicting tx 746daab9 has been removed from default\n> >          mempools\n> >  - 21:53 - murch tweets about default mempool filling up\n> >  - 22:03 - 397dcbe4 tx is announced and propogates widely, since\n> >            conflicting tx f503868 has already been removed from default\n> >          mempools\n>\n> Is that 22:03 time for 397 from your node's logs? It was originally\n> announced\n> hours earlier. From one of my full-rbf nodes:\n>\n>     2022-11-14T14:08:37Z [mempool] replacing tx\n> 764867062b67fea61810c3858d587da83a28290545e882935a32285028084317 with\n> 397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c for\n> 0.00468 additional fees, -1 delta bytes\n>\n> >  - 22:35 - block 763189 is mined\n> >  - 22:39 - block 763190 is mined\n> >  - 23:11 - block 763191 is mined\n> >  - 23:17 - block 763192 is mined including 397dcbe4\n> >\n> > miningpool.observer reports both 397dcbe4 and ba967010 as missing in the\n> > first three blocks, and gives similar mempool ages for those txs to what\n> > my logs report:\n> >\n> >\n> https://miningpool.observer/template-and-block/0000000000000000000436aba59d8430061e0e50592215f7f263bfb1073ccac7\n> >\n> https://miningpool.observer/template-and-block/00000000000000000005600404792bacfd8a164d2fe9843766afb2bfbd937309\n> >\n> https://miningpool.observer/template-and-block/00000000000000000004a3073f58c9eae40f251ea7aeaeac870daeac4b238fd1\n> >\n> > That presumably means those pools (AntPool twice and \"unknown\") are\n> > running with large mempools that didn't kept the earlier 1.2sat/vb txs.\n>\n> To be clear, you think that AntPool and that other exchange is running\n> with a\n> larger than normal max mempool size limit? You mean those miners *did*\n> keep the\n> earlier 1.2sat/vb tx?\n>\n> > The txs were mined by Foundry:\n> >\n> >\n> https://miningpool.observer/template-and-block/00000000000000000001382a226aedac822de80309cca2bf1253b35d4f8144f5\n> >\n> > This seems to be pretty good evidence that we currently don't have any\n> > significant hashrate mining with fullrbf policies (<0.5% if there was a\n> > high fee replacement available prior to every block having been mined),\n> > despite the bounty having been collected.\n>\n> Oh, we can put much lower bounds on that. I've been running OTS calendars\n> with\n> full-rbf replacements for a few months without clear evidence of a full-rbf\n> replacement.  While there was good reason to think some miners were mining\n> full-rbf before a few years back, they probably didn't bother to reapply\n> their\n> patches each upgrade. `mempoolfullrbf=1` is much simpler to use.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/b12b7672/attachment-0001.html>"
            },
            {
                "author": "Greg Sanders",
                "date": "2022-12-05T13:38:58",
                "message_text_only": "This will greatly centralize the network as well as not actually achieve\nthe intended goal which is literally impossible.\n\nOn Mon, Dec 5, 2022, 8:27 AM El_Hoy via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> The only option I see against the attack Peter Todd is doing to opt-in RBF\n> and 0Conf bitcoin usage is working on a bitcoin core implementation that\n> stops propagation of full-rbf replaced blocks. Running multiple of such\n> nodes on the network will add a risk to miners that enable full-rbf that\n> would work as an incentive against that.\n>\n> Obviously that would require adding an option on bitcoin core (that is not\n> technically but politically difficult to implement as Petter Todd already\n> have commit access to the main repository).\n>\n> That said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun\n> wallet developers) could work on a fork and run several nodes with such\n> functionality. As far as I understand the percolation model, with 10 to 20\n> nodes running such a rule would create a significant risk for full-rbf\n> miners.\n>\n> Regards.\n>\n> ---  Eloy\n>\n>\n> On Tue, Nov 15, 2022 at 11:43 AM Peter Todd via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> On Tue, Nov 15, 2022 at 03:36:08PM +1000, Anthony Towns via bitcoin-dev\n>> wrote:\n>> > On Tue, Nov 08, 2022 at 01:16:13PM -0500, Peter Todd via bitcoin-dev\n>> wrote:\n>> > > FYI I've gotten a few hundred dollars worth of donations to this\n>> effort, and\n>> > > have raised the reward to about 0.02 BTC, or $400 USD at current\n>> prices.\n>> >\n>> > Seems like this has been mostly claimed (0.014btc / $235, 9238sat/vb):\n>>\n>> I'm turning it back on when (if) the mempool settles down. I've got more\n>> than\n>> enough donations to give another run at it (the majority was donated\n>> privately\n>> FWIW). There's a risk of the mempool filling up again of course; hard to\n>> avoid\n>> that.\n>>\n>> Right now of course it's really easy to double spend with the obvious\n>> low-fee/high-fee method as the min relay fee keeps shifting.\n>>\n>> >\n>> https://mempool.space/tx/397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c\n>> >\n>> > The block it was claimed in seems to have been about an hour after the\n>> > default mempool filled up:\n>> >\n>> > https://twitter.com/murchandamus/status/1592274621977477120\n>> >\n>> > That block actually seems to have included two\n>> > alice.btc.calendar.opentimestamps.org txs, the other paying $7.88\n>> > (309sat/vb):\n>> >\n>> >\n>> https://mempool.space/tx/ba9670109a6551458d5e1e23600c7bf2dc094894abdf59fe7aa020ccfead07cf\n>>\n>> The second is because I turned down the full-rbf reward to more normal fee\n>> levels. There's also another full-rbf double-spend from the Bob calendar,\n>> along\n>> the same lines:\n>> 7e76b351009326a574f3120164dbbe6d85e07e04a7bbdc40f0277fcb008d2cd2\n>>\n>> I double-spent the txin of the high fee tx that got mined. But I\n>> mistakenly had\n>> RBF enabled in that double-spend, so while it propagated initially, I\n>> believe\n>> it was replaced when something (someone?) rebroadcast the high-fee 397dcb\n>> tx.\n>>\n>> > Timeline (utc) to me looks like:\n>> >\n>> >  - 13:12 - block 763148 is mined: last one that had a min fee <\n>> 1.5sat/vb\n>> >  - 13:33 -\n>> f503868c64d454c472859b793f3ee7cdc8f519c64f8b1748d8040cd8ce6dc6e1\n>> >            is announced and propogates widely (1.2sat/vb)\n>> >  - 18:42 -\n>> 746daab9bcc331be313818658b4a502bb4f3370a691fd90015fabcd7759e0944\n>> >            is announced and propogates widely (1.2sat/vb)\n>> >  - 21:52 - ba967010 tx is announced and propogates widely, since\n>> >            conflicting tx 746daab9 has been removed from default\n>> >          mempools\n>> >  - 21:53 - murch tweets about default mempool filling up\n>> >  - 22:03 - 397dcbe4 tx is announced and propogates widely, since\n>> >            conflicting tx f503868 has already been removed from default\n>> >          mempools\n>>\n>> Is that 22:03 time for 397 from your node's logs? It was originally\n>> announced\n>> hours earlier. From one of my full-rbf nodes:\n>>\n>>     2022-11-14T14:08:37Z [mempool] replacing tx\n>> 764867062b67fea61810c3858d587da83a28290545e882935a32285028084317 with\n>> 397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c for\n>> 0.00468 additional fees, -1 delta bytes\n>>\n>> >  - 22:35 - block 763189 is mined\n>> >  - 22:39 - block 763190 is mined\n>> >  - 23:11 - block 763191 is mined\n>> >  - 23:17 - block 763192 is mined including 397dcbe4\n>> >\n>> > miningpool.observer reports both 397dcbe4 and ba967010 as missing in the\n>> > first three blocks, and gives similar mempool ages for those txs to what\n>> > my logs report:\n>> >\n>> >\n>> https://miningpool.observer/template-and-block/0000000000000000000436aba59d8430061e0e50592215f7f263bfb1073ccac7\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000005600404792bacfd8a164d2fe9843766afb2bfbd937309\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000004a3073f58c9eae40f251ea7aeaeac870daeac4b238fd1\n>> >\n>> > That presumably means those pools (AntPool twice and \"unknown\") are\n>> > running with large mempools that didn't kept the earlier 1.2sat/vb txs.\n>>\n>> To be clear, you think that AntPool and that other exchange is running\n>> with a\n>> larger than normal max mempool size limit? You mean those miners *did*\n>> keep the\n>> earlier 1.2sat/vb tx?\n>>\n>> > The txs were mined by Foundry:\n>> >\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000001382a226aedac822de80309cca2bf1253b35d4f8144f5\n>> >\n>> > This seems to be pretty good evidence that we currently don't have any\n>> > significant hashrate mining with fullrbf policies (<0.5% if there was a\n>> > high fee replacement available prior to every block having been mined),\n>> > despite the bounty having been collected.\n>>\n>> Oh, we can put much lower bounds on that. I've been running OTS calendars\n>> with\n>> full-rbf replacements for a few months without clear evidence of a\n>> full-rbf\n>> replacement.  While there was good reason to think some miners were mining\n>> full-rbf before a few years back, they probably didn't bother to reapply\n>> their\n>> patches each upgrade. `mempoolfullrbf=1` is much simpler to use.\n>>\n>> --\n>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/ce59b2c5/attachment.html>"
            },
            {
                "author": "Rijndael",
                "date": "2022-12-05T14:12:33",
                "message_text_only": "Good morning,\n\nThat sounds like a very dangerous mode of operation. You can already hand a transaction to a miner privately. I hand a transaction to a miner with some reasonable fee, and then I go and broadcast a different transaction with a minimal fee that spends the same inputs. The whole network (including the miner I handed the tx to) could all be running with a strict first-seen mempool policy, but we can still have a situation where the miner creates a block with a different transaction from what you see in your mempool. If anytime this happens, the nodes running your proposed rule drop the block, then anyone can fork those nodes off the network whenever they want.\n\nEven outside of adversarial settings, Bitcoin doesn't (and doesn't attempt to) promise consistency across mempools. Making a consensus rule that enforces mempool consistency is a recipe for (unintended?) chainsplits.\n\n- rijndael\n\nOn 12/5/22 7:20 AM, El_Hoy via bitcoin-dev wrote:\n\n> The only option I see against the attack Peter Todd is doing to opt-in RBF and 0Conf bitcoin usage is working on a bitcoin core implementation that stops propagation of full-rbf replaced blocks. Running multiple of such nodes on the network will add a risk to miners that enable full-rbf that would work as an incentive against that.\n>\n> Obviously that would require adding an option on bitcoin core (that is not technically but politically difficult to implement as Petter Todd already have commit access to the main repository).\n>\n> That said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun wallet developers) could work on a fork and run several nodes with such functionality. As far as I understand the percolation model, with 10 to 20 nodes running such a rule would create a significant risk for full-rbf miners.\n>\n> Regards.\n>\n> --- Eloy\n>\n> On Tue, Nov 15, 2022 at 11:43 AM Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> On Tue, Nov 15, 2022 at 03:36:08PM +1000, Anthony Towns via bitcoin-dev wrote:\n>>> On Tue, Nov 08, 2022 at 01:16:13PM -0500, Peter Todd via bitcoin-dev wrote:\n>>> > FYI I've gotten a few hundred dollars worth of donations to this effort, and\n>>> > have raised the reward to about 0.02 BTC, or $400 USD at current prices.\n>>>\n>>> Seems like this has been mostly claimed (0.014btc / $235, 9238sat/vb):\n>>\n>> I'm turning it back on when (if) the mempool settles down. I've got more than\n>> enough donations to give another run at it (the majority was donated privately\n>> FWIW). There's a risk of the mempool filling up again of course; hard to avoid\n>> that.\n>>\n>> Right now of course it's really easy to double spend with the obvious\n>> low-fee/high-fee method as the min relay fee keeps shifting.\n>>\n>>> https://mempool.space/tx/397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c\n>>>\n>>> The block it was claimed in seems to have been about an hour after the\n>>> default mempool filled up:\n>>>\n>>> https://twitter.com/murchandamus/status/1592274621977477120\n>>>\n>>> That block actually seems to have included two\n>>> alice.btc.calendar.opentimestamps.org txs, the other paying $7.88\n>>> (309sat/vb):\n>>>\n>>> https://mempool.space/tx/ba9670109a6551458d5e1e23600c7bf2dc094894abdf59fe7aa020ccfead07cf\n>>\n>> The second is because I turned down the full-rbf reward to more normal fee\n>> levels. There's also another full-rbf double-spend from the Bob calendar, along\n>> the same lines: 7e76b351009326a574f3120164dbbe6d85e07e04a7bbdc40f0277fcb008d2cd2\n>>\n>> I double-spent the txin of the high fee tx that got mined. But I mistakenly had\n>> RBF enabled in that double-spend, so while it propagated initially, I believe\n>> it was replaced when something (someone?) rebroadcast the high-fee 397dcb tx.\n>>\n>>> Timeline (utc) to me looks like:\n>>>\n>>> - 13:12 - block 763148 is mined: last one that had a min fee < 1.5sat/vb\n>>> - 13:33 - f503868c64d454c472859b793f3ee7cdc8f519c64f8b1748d8040cd8ce6dc6e1\n>>> is announced and propogates widely (1.2sat/vb)\n>>> - 18:42 - 746daab9bcc331be313818658b4a502bb4f3370a691fd90015fabcd7759e0944\n>>> is announced and propogates widely (1.2sat/vb)\n>>> - 21:52 - ba967010 tx is announced and propogates widely, since\n>>> conflicting tx 746daab9 has been removed from default\n>>> mempools\n>>> - 21:53 - murch tweets about default mempool filling up\n>>> - 22:03 - 397dcbe4 tx is announced and propogates widely, since\n>>> conflicting tx f503868 has already been removed from default\n>>> mempools\n>>\n>> Is that 22:03 time for 397 from your node's logs? It was originally announced\n>> hours earlier. From one of my full-rbf nodes:\n>>\n>> 2022-11-14T14:08:37Z [mempool] replacing tx 764867062b67fea61810c3858d587da83a28290545e882935a32285028084317 with 397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c for 0.00468 additional fees, -1 delta bytes\n>>\n>>> - 22:35 - block 763189 is mined\n>>> - 22:39 - block 763190 is mined\n>>> - 23:11 - block 763191 is mined\n>>> - 23:17 - block 763192 is mined including 397dcbe4\n>>>\n>>> miningpool.observer reports both 397dcbe4 and ba967010 as missing in the\n>>> first three blocks, and gives similar mempool ages for those txs to what\n>>> my logs report:\n>>>\n>>> https://miningpool.observer/template-and-block/0000000000000000000436aba59d8430061e0e50592215f7f263bfb1073ccac7\n>>> https://miningpool.observer/template-and-block/00000000000000000005600404792bacfd8a164d2fe9843766afb2bfbd937309\n>>> https://miningpool.observer/template-and-block/00000000000000000004a3073f58c9eae40f251ea7aeaeac870daeac4b238fd1\n>>>\n>>> That presumably means those pools (AntPool twice and \"unknown\") are\n>>> running with large mempools that didn't kept the earlier 1.2sat/vb txs.\n>>\n>> To be clear, you think that AntPool and that other exchange is running with a\n>> larger than normal max mempool size limit? You mean those miners *did* keep the\n>> earlier 1.2sat/vb tx?\n>>\n>>> The txs were mined by Foundry:\n>>>\n>>> https://miningpool.observer/template-and-block/00000000000000000001382a226aedac822de80309cca2bf1253b35d4f8144f5\n>>>\n>>> This seems to be pretty good evidence that we currently don't have any\n>>> significant hashrate mining with fullrbf policies (<0.5% if there was a\n>>> high fee replacement available prior to every block having been mined),\n>>> despite the bounty having been collected.\n>>\n>> Oh, we can put much lower bounds on that. I've been running OTS calendars with\n>> full-rbf replacements for a few months without clear evidence of a full-rbf\n>> replacement. While there was good reason to think some miners were mining\n>> full-rbf before a few years back, they probably didn't bother to reapply their\n>> patches each upgrade. `mempoolfullrbf=1` is much simpler to use.\n>>\n>> --\n>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/27239496/attachment-0001.html>"
            },
            {
                "author": "Michael Folkson",
                "date": "2022-12-05T15:33:37",
                "message_text_only": "> That said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun wallet developers) could work on a fork and run several nodes with such functionality.\n\nDaniel Lipshitz has been working on BSV apparently [0] so I guess anything is possible with him. But as others have said turning a mempool policy issue (users have always been free to choose whatever policy they like with zero chain split risk) into a consensus issue and a contentious soft fork issue at that would not be advised. I highly doubt any of the long term Muun contributors would want to support a contentious soft fork and fight a consensus rule war on this.\n\n[0]: https://coingeek.com/gap600-ceo-daniel-lipshitz-talks-bsv-powered-stablecoins-on-coingeek-backstage-video/\n--\nMichael Folkson\nEmail: michaelfolkson at [protonmail.com](http://protonmail.com/)\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n\n------- Original Message -------\nOn Monday, December 5th, 2022 at 16:12, Rijndael via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Good morning,\n>\n> That sounds like a very dangerous mode of operation. You can already hand a transaction to a miner privately. I hand a transaction to a miner with some reasonable fee, and then I go and broadcast a different transaction with a minimal fee that spends the same inputs. The whole network (including the miner I handed the tx to) could all be running with a strict first-seen mempool policy, but we can still have a situation where the miner creates a block with a different transaction from what you see in your mempool. If anytime this happens, the nodes running your proposed rule drop the block, then anyone can fork those nodes off the network whenever they want.\n>\n> Even outside of adversarial settings, Bitcoin doesn't (and doesn't attempt to) promise consistency across mempools. Making a consensus rule that enforces mempool consistency is a recipe for (unintended?) chainsplits.\n>\n> - rijndael\n>\n> On 12/5/22 7:20 AM, El_Hoy via bitcoin-dev wrote:\n>\n>> The only option I see against the attack Peter Todd is doing to opt-in RBF and 0Conf bitcoin usage is working on a bitcoin core implementation that stops propagation of full-rbf replaced blocks. Running multiple of such nodes on the network will add a risk to miners that enable full-rbf that would work as an incentive against that.\n>>\n>> Obviously that would require adding an option on bitcoin core (that is not technically but politically difficult to implement as Petter Todd already have commit access to the main repository).\n>>\n>> That said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun wallet developers) could work on a fork and run several nodes with such functionality. As far as I understand the percolation model, with 10 to 20 nodes running such a rule would create a significant risk for full-rbf miners.\n>>\n>> Regards.\n>>\n>> --- Eloy\n>>\n>> On Tue, Nov 15, 2022 at 11:43 AM Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>> On Tue, Nov 15, 2022 at 03:36:08PM +1000, Anthony Towns via bitcoin-dev wrote:\n>>>> On Tue, Nov 08, 2022 at 01:16:13PM -0500, Peter Todd via bitcoin-dev wrote:\n>>>> > FYI I've gotten a few hundred dollars worth of donations to this effort, and\n>>>> > have raised the reward to about 0.02 BTC, or $400 USD at current prices.\n>>>>\n>>>> Seems like this has been mostly claimed (0.014btc / $235, 9238sat/vb):\n>>>\n>>> I'm turning it back on when (if) the mempool settles down. I've got more than\n>>> enough donations to give another run at it (the majority was donated privately\n>>> FWIW). There's a risk of the mempool filling up again of course; hard to avoid\n>>> that.\n>>>\n>>> Right now of course it's really easy to double spend with the obvious\n>>> low-fee/high-fee method as the min relay fee keeps shifting.\n>>>\n>>>> https://mempool.space/tx/397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c\n>>>>\n>>>> The block it was claimed in seems to have been about an hour after the\n>>>> default mempool filled up:\n>>>>\n>>>> https://twitter.com/murchandamus/status/1592274621977477120\n>>>>\n>>>> That block actually seems to have included two\n>>>> alice.btc.calendar.opentimestamps.org txs, the other paying $7.88\n>>>> (309sat/vb):\n>>>>\n>>>> https://mempool.space/tx/ba9670109a6551458d5e1e23600c7bf2dc094894abdf59fe7aa020ccfead07cf\n>>>\n>>> The second is because I turned down the full-rbf reward to more normal fee\n>>> levels. There's also another full-rbf double-spend from the Bob calendar, along\n>>> the same lines: 7e76b351009326a574f3120164dbbe6d85e07e04a7bbdc40f0277fcb008d2cd2\n>>>\n>>> I double-spent the txin of the high fee tx that got mined. But I mistakenly had\n>>> RBF enabled in that double-spend, so while it propagated initially, I believe\n>>> it was replaced when something (someone?) rebroadcast the high-fee 397dcb tx.\n>>>\n>>>> Timeline (utc) to me looks like:\n>>>>\n>>>> - 13:12 - block 763148 is mined: last one that had a min fee < 1.5sat/vb\n>>>> - 13:33 - f503868c64d454c472859b793f3ee7cdc8f519c64f8b1748d8040cd8ce6dc6e1\n>>>> is announced and propogates widely (1.2sat/vb)\n>>>> - 18:42 - 746daab9bcc331be313818658b4a502bb4f3370a691fd90015fabcd7759e0944\n>>>> is announced and propogates widely (1.2sat/vb)\n>>>> - 21:52 - ba967010 tx is announced and propogates widely, since\n>>>> conflicting tx 746daab9 has been removed from default\n>>>> mempools\n>>>> - 21:53 - murch tweets about default mempool filling up\n>>>> - 22:03 - 397dcbe4 tx is announced and propogates widely, since\n>>>> conflicting tx f503868 has already been removed from default\n>>>> mempools\n>>>\n>>> Is that 22:03 time for 397 from your node's logs? It was originally announced\n>>> hours earlier. From one of my full-rbf nodes:\n>>>\n>>> 2022-11-14T14:08:37Z [mempool] replacing tx 764867062b67fea61810c3858d587da83a28290545e882935a32285028084317 with 397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c for 0.00468 additional fees, -1 delta bytes\n>>>\n>>>> - 22:35 - block 763189 is mined\n>>>> - 22:39 - block 763190 is mined\n>>>> - 23:11 - block 763191 is mined\n>>>> - 23:17 - block 763192 is mined including 397dcbe4\n>>>>\n>>>> miningpool.observer reports both 397dcbe4 and ba967010 as missing in the\n>>>> first three blocks, and gives similar mempool ages for those txs to what\n>>>> my logs report:\n>>>>\n>>>> https://miningpool.observer/template-and-block/0000000000000000000436aba59d8430061e0e50592215f7f263bfb1073ccac7\n>>>> https://miningpool.observer/template-and-block/00000000000000000005600404792bacfd8a164d2fe9843766afb2bfbd937309\n>>>> https://miningpool.observer/template-and-block/00000000000000000004a3073f58c9eae40f251ea7aeaeac870daeac4b238fd1\n>>>>\n>>>> That presumably means those pools (AntPool twice and \"unknown\") are\n>>>> running with large mempools that didn't kept the earlier 1.2sat/vb txs.\n>>>\n>>> To be clear, you think that AntPool and that other exchange is running with a\n>>> larger than normal max mempool size limit? You mean those miners *did* keep the\n>>> earlier 1.2sat/vb tx?\n>>>\n>>>> The txs were mined by Foundry:\n>>>>\n>>>> https://miningpool.observer/template-and-block/00000000000000000001382a226aedac822de80309cca2bf1253b35d4f8144f5\n>>>>\n>>>> This seems to be pretty good evidence that we currently don't have any\n>>>> significant hashrate mining with fullrbf policies (<0.5% if there was a\n>>>> high fee replacement available prior to every block having been mined),\n>>>> despite the bounty having been collected.\n>>>\n>>> Oh, we can put much lower bounds on that. I've been running OTS calendars with\n>>> full-rbf replacements for a few months without clear evidence of a full-rbf\n>>> replacement. While there was good reason to think some miners were mining\n>>> full-rbf before a few years back, they probably didn't bother to reapply their\n>>> patches each upgrade. `mempoolfullrbf=1` is much simpler to use.\n>>>\n>>> --\n>>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/60f49caa/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-12-05T17:00:56",
                "message_text_only": "note: if it was possible to enforce this, we wouldn't need proof of work at\nall.   since it isn't possible, proof of work is strictly necessary.\n\n\nOn Mon, Dec 5, 2022 at 9:53 AM Rijndael via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Good morning,\n>\n> That sounds like a very dangerous mode of operation. You can already hand\n> a transaction to a miner privately. I hand a transaction to a miner with\n> some reasonable fee, and then I go and broadcast a different transaction\n> with a minimal fee that spends the same inputs. The whole network\n> (including the miner I handed the tx to) could all be running with a strict\n> first-seen mempool policy, but we can still have a situation where the\n> miner creates a block with a different transaction from what you see in\n> your mempool. If anytime this happens, the nodes running your proposed rule\n> drop the block, then anyone can fork those nodes off the network whenever\n> they want.\n>\n> Even outside of adversarial settings, Bitcoin doesn't (and doesn't attempt\n> to) promise consistency across mempools. Making a consensus rule that\n> enforces mempool consistency is a recipe for (unintended?) chainsplits.\n>\n> - rijndael\n>\n>\n> On 12/5/22 7:20 AM, El_Hoy via bitcoin-dev wrote:\n>\n> The only option I see against the attack Peter Todd is doing to opt-in RBF\n> and 0Conf bitcoin usage is working on a bitcoin core implementation that\n> stops propagation of full-rbf replaced blocks. Running multiple of such\n> nodes on the network will add a risk to miners that enable full-rbf that\n> would work as an incentive against that.\n>\n> Obviously that would require adding an option on bitcoin core (that is not\n> technically but politically difficult to implement as Petter Todd already\n> have commit access to the main repository).\n>\n> That said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun\n> wallet developers) could work on a fork and run several nodes with such\n> functionality. As far as I understand the percolation model, with 10 to 20\n> nodes running such a rule would create a significant risk for full-rbf\n> miners.\n>\n> Regards.\n>\n> ---  Eloy\n>\n>\n> On Tue, Nov 15, 2022 at 11:43 AM Peter Todd via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> On Tue, Nov 15, 2022 at 03:36:08PM +1000, Anthony Towns via bitcoin-dev\n>> wrote:\n>> > On Tue, Nov 08, 2022 at 01:16:13PM -0500, Peter Todd via bitcoin-dev\n>> wrote:\n>> > > FYI I've gotten a few hundred dollars worth of donations to this\n>> effort, and\n>> > > have raised the reward to about 0.02 BTC, or $400 USD at current\n>> prices.\n>> >\n>> > Seems like this has been mostly claimed (0.014btc / $235, 9238sat/vb):\n>>\n>> I'm turning it back on when (if) the mempool settles down. I've got more\n>> than\n>> enough donations to give another run at it (the majority was donated\n>> privately\n>> FWIW). There's a risk of the mempool filling up again of course; hard to\n>> avoid\n>> that.\n>>\n>> Right now of course it's really easy to double spend with the obvious\n>> low-fee/high-fee method as the min relay fee keeps shifting.\n>>\n>> >\n>> https://mempool.space/tx/397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c\n>> >\n>> > The block it was claimed in seems to have been about an hour after the\n>> > default mempool filled up:\n>> >\n>> > https://twitter.com/murchandamus/status/1592274621977477120\n>> >\n>> > That block actually seems to have included two\n>> > alice.btc.calendar.opentimestamps.org txs, the other paying $7.88\n>> > (309sat/vb):\n>> >\n>> >\n>> https://mempool.space/tx/ba9670109a6551458d5e1e23600c7bf2dc094894abdf59fe7aa020ccfead07cf\n>>\n>> The second is because I turned down the full-rbf reward to more normal fee\n>> levels. There's also another full-rbf double-spend from the Bob calendar,\n>> along\n>> the same lines:\n>> 7e76b351009326a574f3120164dbbe6d85e07e04a7bbdc40f0277fcb008d2cd2\n>>\n>> I double-spent the txin of the high fee tx that got mined. But I\n>> mistakenly had\n>> RBF enabled in that double-spend, so while it propagated initially, I\n>> believe\n>> it was replaced when something (someone?) rebroadcast the high-fee 397dcb\n>> tx.\n>>\n>> > Timeline (utc) to me looks like:\n>> >\n>> >  - 13:12 - block 763148 is mined: last one that had a min fee <\n>> 1.5sat/vb\n>> >  - 13:33 -\n>> f503868c64d454c472859b793f3ee7cdc8f519c64f8b1748d8040cd8ce6dc6e1\n>> >            is announced and propogates widely (1.2sat/vb)\n>> >  - 18:42 -\n>> 746daab9bcc331be313818658b4a502bb4f3370a691fd90015fabcd7759e0944\n>> >            is announced and propogates widely (1.2sat/vb)\n>> >  - 21:52 - ba967010 tx is announced and propogates widely, since\n>> >            conflicting tx 746daab9 has been removed from default\n>> >          mempools\n>> >  - 21:53 - murch tweets about default mempool filling up\n>> >  - 22:03 - 397dcbe4 tx is announced and propogates widely, since\n>> >            conflicting tx f503868 has already been removed from default\n>> >          mempools\n>>\n>> Is that 22:03 time for 397 from your node's logs? It was originally\n>> announced\n>> hours earlier. From one of my full-rbf nodes:\n>>\n>>     2022-11-14T14:08:37Z [mempool] replacing tx\n>> 764867062b67fea61810c3858d587da83a28290545e882935a32285028084317 with\n>> 397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c for\n>> 0.00468 additional fees, -1 delta bytes\n>>\n>> >  - 22:35 - block 763189 is mined\n>> >  - 22:39 - block 763190 is mined\n>> >  - 23:11 - block 763191 is mined\n>> >  - 23:17 - block 763192 is mined including 397dcbe4\n>> >\n>> > miningpool.observer reports both 397dcbe4 and ba967010 as missing in the\n>> > first three blocks, and gives similar mempool ages for those txs to what\n>> > my logs report:\n>> >\n>> >\n>> https://miningpool.observer/template-and-block/0000000000000000000436aba59d8430061e0e50592215f7f263bfb1073ccac7\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000005600404792bacfd8a164d2fe9843766afb2bfbd937309\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000004a3073f58c9eae40f251ea7aeaeac870daeac4b238fd1\n>> >\n>> > That presumably means those pools (AntPool twice and \"unknown\") are\n>> > running with large mempools that didn't kept the earlier 1.2sat/vb txs.\n>>\n>> To be clear, you think that AntPool and that other exchange is running\n>> with a\n>> larger than normal max mempool size limit? You mean those miners *did*\n>> keep the\n>> earlier 1.2sat/vb tx?\n>>\n>> > The txs were mined by Foundry:\n>> >\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000001382a226aedac822de80309cca2bf1253b35d4f8144f5\n>> >\n>> > This seems to be pretty good evidence that we currently don't have any\n>> > significant hashrate mining with fullrbf policies (<0.5% if there was a\n>> > high fee replacement available prior to every block having been mined),\n>> > despite the bounty having been collected.\n>>\n>> Oh, we can put much lower bounds on that. I've been running OTS calendars\n>> with\n>> full-rbf replacements for a few months without clear evidence of a\n>> full-rbf\n>> replacement.  While there was good reason to think some miners were mining\n>> full-rbf before a few years back, they probably didn't bother to reapply\n>> their\n>> patches each upgrade. `mempoolfullrbf=1` is much simpler to use.\n>>\n>> --\n>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/2bf5f021/attachment-0001.html>"
            },
            {
                "author": "El_Hoy",
                "date": "2022-12-06T04:48:07",
                "message_text_only": "On Mon, Dec 5, 2022 at 3:58 PM Erik Aronesty via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> note: if it was possible to enforce this, we wouldn't need proof of work\n> at all.   since it isn't possible, proof of work is strictly necessary.\n>\n\nIf making empty statements were enough to convince people, we would not\nneed to give good arguments to back our claims. Proof of work is \"strictly\nnecessary\" to build blocks that are accepted by the consensus rules, that\nare enforced by the validation nodes that propagate those blocks. If there\nare multiple valid blocks that are generated close enough and some of them\npropagate faster than the others, then validation nodes add some economic\nincentive against certain practices. Miners will obviously choose what\nvalidation nodes enforce or they will lose money.\n\nOn Mon, Dec 5, 2022 at 3:58 PM Michael Folkson via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n>\n> Daniel Lipshitz has been working on BSV apparently [0] so I guess anything\n> is possible with him.(...)\n>\n--\n> Michael Folkson\n\n\nYou are apparently making an Ad Hominem attack [1] so I guess your comment\nis not serious. Thanks for the context anyway.\n\n[1]: https://en.wikipedia.org/wiki/Ad_hominem\n\n--- Eloy\n\n\n> On Mon, Dec 5, 2022 at 9:53 AM Rijndael via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Good morning,\n>>\n>> That sounds like a very dangerous mode of operation. You can already hand\n>> a transaction to a miner privately. I hand a transaction to a miner with\n>> some reasonable fee, and then I go and broadcast a different transaction\n>> with a minimal fee that spends the same inputs. The whole network\n>> (including the miner I handed the tx to) could all be running with a strict\n>> first-seen mempool policy, but we can still have a situation where the\n>> miner creates a block with a different transaction from what you see in\n>> your mempool. If anytime this happens, the nodes running your proposed rule\n>> drop the block, then anyone can fork those nodes off the network whenever\n>> they want.\n>>\n>> Even outside of adversarial settings, Bitcoin doesn't (and doesn't\n>> attempt to) promise consistency across mempools. Making a consensus rule\n>> that enforces mempool consistency is a recipe for (unintended?)\n>> chainsplits.\n>>\n>> - rijndael\n>>\n>>\n>> On 12/5/22 7:20 AM, El_Hoy via bitcoin-dev wrote:\n>>\n>> The only option I see against the attack Peter Todd is doing to opt-in\n>> RBF and 0Conf bitcoin usage is working on a bitcoin core implementation\n>> that stops propagation of full-rbf replaced blocks. Running multiple of\n>> such nodes on the network will add a risk to miners that enable full-rbf\n>> that would work as an incentive against that.\n>>\n>> Obviously that would require adding an option on bitcoin core (that is\n>> not technically but politically difficult to implement as Petter Todd\n>> already have commit access to the main repository).\n>>\n>> That said, a sufficiently incentivized actor (like Daniel Lipshitz or\n>> Muun wallet developers) could work on a fork and run several nodes with\n>> such functionality. As far as I understand the percolation model, with 10\n>> to 20 nodes running such a rule would create a significant risk for\n>> full-rbf miners.\n>>\n>> Regards.\n>>\n>> ---  Eloy\n>>\n>>\n>> On Tue, Nov 15, 2022 at 11:43 AM Peter Todd via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>> On Tue, Nov 15, 2022 at 03:36:08PM +1000, Anthony Towns via bitcoin-dev\n>>> wrote:\n>>> > On Tue, Nov 08, 2022 at 01:16:13PM -0500, Peter Todd via bitcoin-dev\n>>> wrote:\n>>> > > FYI I've gotten a few hundred dollars worth of donations to this\n>>> effort, and\n>>> > > have raised the reward to about 0.02 BTC, or $400 USD at current\n>>> prices.\n>>> >\n>>> > Seems like this has been mostly claimed (0.014btc / $235, 9238sat/vb):\n>>>\n>>> I'm turning it back on when (if) the mempool settles down. I've got more\n>>> than\n>>> enough donations to give another run at it (the majority was donated\n>>> privately\n>>> FWIW). There's a risk of the mempool filling up again of course; hard to\n>>> avoid\n>>> that.\n>>>\n>>> Right now of course it's really easy to double spend with the obvious\n>>> low-fee/high-fee method as the min relay fee keeps shifting.\n>>>\n>>> >\n>>> https://mempool.space/tx/397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c\n>>> >\n>>> > The block it was claimed in seems to have been about an hour after the\n>>> > default mempool filled up:\n>>> >\n>>> > https://twitter.com/murchandamus/status/1592274621977477120\n>>> >\n>>> > That block actually seems to have included two\n>>> > alice.btc.calendar.opentimestamps.org txs, the other paying $7.88\n>>> > (309sat/vb):\n>>> >\n>>> >\n>>> https://mempool.space/tx/ba9670109a6551458d5e1e23600c7bf2dc094894abdf59fe7aa020ccfead07cf\n>>>\n>>> The second is because I turned down the full-rbf reward to more normal\n>>> fee\n>>> levels. There's also another full-rbf double-spend from the Bob\n>>> calendar, along\n>>> the same lines:\n>>> 7e76b351009326a574f3120164dbbe6d85e07e04a7bbdc40f0277fcb008d2cd2\n>>>\n>>> I double-spent the txin of the high fee tx that got mined. But I\n>>> mistakenly had\n>>> RBF enabled in that double-spend, so while it propagated initially, I\n>>> believe\n>>> it was replaced when something (someone?) rebroadcast the high-fee\n>>> 397dcb tx.\n>>>\n>>> > Timeline (utc) to me looks like:\n>>> >\n>>> >  - 13:12 - block 763148 is mined: last one that had a min fee <\n>>> 1.5sat/vb\n>>> >  - 13:33 -\n>>> f503868c64d454c472859b793f3ee7cdc8f519c64f8b1748d8040cd8ce6dc6e1\n>>> >            is announced and propogates widely (1.2sat/vb)\n>>> >  - 18:42 -\n>>> 746daab9bcc331be313818658b4a502bb4f3370a691fd90015fabcd7759e0944\n>>> >            is announced and propogates widely (1.2sat/vb)\n>>> >  - 21:52 - ba967010 tx is announced and propogates widely, since\n>>> >            conflicting tx 746daab9 has been removed from default\n>>> >          mempools\n>>> >  - 21:53 - murch tweets about default mempool filling up\n>>> >  - 22:03 - 397dcbe4 tx is announced and propogates widely, since\n>>> >            conflicting tx f503868 has already been removed from default\n>>> >          mempools\n>>>\n>>> Is that 22:03 time for 397 from your node's logs? It was originally\n>>> announced\n>>> hours earlier. From one of my full-rbf nodes:\n>>>\n>>>     2022-11-14T14:08:37Z [mempool] replacing tx\n>>> 764867062b67fea61810c3858d587da83a28290545e882935a32285028084317 with\n>>> 397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c for\n>>> 0.00468 additional fees, -1 delta bytes\n>>>\n>>> >  - 22:35 - block 763189 is mined\n>>> >  - 22:39 - block 763190 is mined\n>>> >  - 23:11 - block 763191 is mined\n>>> >  - 23:17 - block 763192 is mined including 397dcbe4\n>>> >\n>>> > miningpool.observer reports both 397dcbe4 and ba967010 as missing in\n>>> the\n>>> > first three blocks, and gives similar mempool ages for those txs to\n>>> what\n>>> > my logs report:\n>>> >\n>>> >\n>>> https://miningpool.observer/template-and-block/0000000000000000000436aba59d8430061e0e50592215f7f263bfb1073ccac7\n>>> >\n>>> https://miningpool.observer/template-and-block/00000000000000000005600404792bacfd8a164d2fe9843766afb2bfbd937309\n>>> >\n>>> https://miningpool.observer/template-and-block/00000000000000000004a3073f58c9eae40f251ea7aeaeac870daeac4b238fd1\n>>> >\n>>> > That presumably means those pools (AntPool twice and \"unknown\") are\n>>> > running with large mempools that didn't kept the earlier 1.2sat/vb txs.\n>>>\n>>> To be clear, you think that AntPool and that other exchange is running\n>>> with a\n>>> larger than normal max mempool size limit? You mean those miners *did*\n>>> keep the\n>>> earlier 1.2sat/vb tx?\n>>>\n>>> > The txs were mined by Foundry:\n>>> >\n>>> >\n>>> https://miningpool.observer/template-and-block/00000000000000000001382a226aedac822de80309cca2bf1253b35d4f8144f5\n>>> >\n>>> > This seems to be pretty good evidence that we currently don't have any\n>>> > significant hashrate mining with fullrbf policies (<0.5% if there was a\n>>> > high fee replacement available prior to every block having been mined),\n>>> > despite the bounty having been collected.\n>>>\n>>> Oh, we can put much lower bounds on that. I've been running OTS\n>>> calendars with\n>>> full-rbf replacements for a few months without clear evidence of a\n>>> full-rbf\n>>> replacement.  While there was good reason to think some miners were\n>>> mining\n>>> full-rbf before a few years back, they probably didn't bother to reapply\n>>> their\n>>> patches each upgrade. `mempoolfullrbf=1` is much simpler to use.\n>>>\n>>> --\n>>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221206/27143f53/attachment-0001.html>"
            },
            {
                "author": "El_Hoy",
                "date": "2022-12-05T17:25:29",
                "message_text_only": "You are doing quite big claims without explaining those, let me add a few\nquestions inline:\n\nOn Mon, Dec 5, 2022 at 10:39 AM Greg Sanders <gsanders87 at gmail.com> wrote:\n\nThis will greatly centralize the network as well as not actually achieve\n> the intended goal which is literally impossible.\n>\n\nWhy would this centralize the network? Adding more nodes that propagate\nvalid blocks on the network should be good. Also, I cannot see why you say\nit is \"literally impossible\", could you give any explanation for your words?\n\nOn Mon, Dec 5, 2022 at 11:53 AM Rijndael via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Good morning,\n>\n> That sounds like a very dangerous mode of operation. You can already hand\n> a transaction to a miner privately. I hand a transaction to a miner with\n> some reasonable fee, and then I go and broadcast a different transaction\n> with a minimal fee that spends the same inputs. The whole network\n> (including the miner I handed the tx to) could all be running with a strict\n> first-seen mempool policy, but we can still have a situation where the\n> miner creates a block with a different transaction from what you see in\n> your mempool. If anytime this happens, the nodes running your proposed rule\n> drop the block, then anyone can fork those nodes off the network whenever\n> they want.\n>\nI cannot see the danger you are talking about, sending a transaction\ndirectly to a miner does not sound like anyone can do (except a miner) and\nis not the main workflow, usually transactions propagate on the network and\nit is quite difficult to have different miners with different opt-out-rbb\ntransactions that spends the same input. In that strange scenario that you\nmention, the miner generated block might be lost if another miner creates\nan alternative block.\n\n> Even outside of adversarial settings, Bitcoin doesn't (and doesn't attempt\n> to) promise consistency across mempools. Making a consensus rule that\n> enforces mempool consistency is a recipe for (unintended?) chainsplits.\n>\nThat is not entirely true for opt-out rbf transactions, as most 0conf\nsetups are based on such consistency. And breaking a consensus rule always\nleads to a chainsplit. For example when a miner creates a block that\ndouble-spends an input, the normal bitcoin flow is a chain-split. That is\nnot an unintended chainsplit, is a consensus rule enforcement.\n\n> - rijndael\n>\n>\n> On 12/5/22 7:20 AM, El_Hoy via bitcoin-dev wrote:\n>\n> The only option I see against the attack Peter Todd is doing to opt-in RBF\n> and 0Conf bitcoin usage is working on a bitcoin core implementation that\n> stops propagation of full-rbf replaced blocks. Running multiple of such\n> nodes on the network will add a risk to miners that enable full-rbf that\n> would work as an incentive against that.\n>\n> Obviously that would require adding an option on bitcoin core (that is not\n> technically but politically difficult to implement as Petter Todd already\n> have commit access to the main repository).\n>\n> That said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun\n> wallet developers) could work on a fork and run several nodes with such\n> functionality. As far as I understand the percolation model, with 10 to 20\n> nodes running such a rule would create a significant risk for full-rbf\n> miners.\n>\n> Regards.\n>\n> ---  Eloy\n>\n>\n> On Tue, Nov 15, 2022 at 11:43 AM Peter Todd via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> On Tue, Nov 15, 2022 at 03:36:08PM +1000, Anthony Towns via bitcoin-dev\n>> wrote:\n>> > On Tue, Nov 08, 2022 at 01:16:13PM -0500, Peter Todd via bitcoin-dev\n>> wrote:\n>> > > FYI I've gotten a few hundred dollars worth of donations to this\n>> effort, and\n>> > > have raised the reward to about 0.02 BTC, or $400 USD at current\n>> prices.\n>> >\n>> > Seems like this has been mostly claimed (0.014btc / $235, 9238sat/vb):\n>>\n>> I'm turning it back on when (if) the mempool settles down. I've got more\n>> than\n>> enough donations to give another run at it (the majority was donated\n>> privately\n>> FWIW). There's a risk of the mempool filling up again of course; hard to\n>> avoid\n>> that.\n>>\n>> Right now of course it's really easy to double spend with the obvious\n>> low-fee/high-fee method as the min relay fee keeps shifting.\n>>\n>> >\n>> https://mempool.space/tx/397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c\n>> >\n>> > The block it was claimed in seems to have been about an hour after the\n>> > default mempool filled up:\n>> >\n>> > https://twitter.com/murchandamus/status/1592274621977477120\n>> >\n>> > That block actually seems to have included two\n>> > alice.btc.calendar.opentimestamps.org txs, the other paying $7.88\n>> > (309sat/vb):\n>> >\n>> >\n>> https://mempool.space/tx/ba9670109a6551458d5e1e23600c7bf2dc094894abdf59fe7aa020ccfead07cf\n>>\n>> The second is because I turned down the full-rbf reward to more normal fee\n>> levels. There's also another full-rbf double-spend from the Bob calendar,\n>> along\n>> the same lines:\n>> 7e76b351009326a574f3120164dbbe6d85e07e04a7bbdc40f0277fcb008d2cd2\n>>\n>> I double-spent the txin of the high fee tx that got mined. But I\n>> mistakenly had\n>> RBF enabled in that double-spend, so while it propagated initially, I\n>> believe\n>> it was replaced when something (someone?) rebroadcast the high-fee 397dcb\n>> tx.\n>>\n>> > Timeline (utc) to me looks like:\n>> >\n>> >  - 13:12 - block 763148 is mined: last one that had a min fee <\n>> 1.5sat/vb\n>> >  - 13:33 -\n>> f503868c64d454c472859b793f3ee7cdc8f519c64f8b1748d8040cd8ce6dc6e1\n>> >            is announced and propogates widely (1.2sat/vb)\n>> >  - 18:42 -\n>> 746daab9bcc331be313818658b4a502bb4f3370a691fd90015fabcd7759e0944\n>> >            is announced and propogates widely (1.2sat/vb)\n>> >  - 21:52 - ba967010 tx is announced and propogates widely, since\n>> >            conflicting tx 746daab9 has been removed from default\n>> >          mempools\n>> >  - 21:53 - murch tweets about default mempool filling up\n>> >  - 22:03 - 397dcbe4 tx is announced and propogates widely, since\n>> >            conflicting tx f503868 has already been removed from default\n>> >          mempools\n>>\n>> Is that 22:03 time for 397 from your node's logs? It was originally\n>> announced\n>> hours earlier. From one of my full-rbf nodes:\n>>\n>>     2022-11-14T14:08:37Z [mempool] replacing tx\n>> 764867062b67fea61810c3858d587da83a28290545e882935a32285028084317 with\n>> 397dcbe4e95ec40616e3dfc4ff8ffa158d2e72020b7d11fc2be29d934d69138c for\n>> 0.00468 additional fees, -1 delta bytes\n>>\n>> >  - 22:35 - block 763189 is mined\n>> >  - 22:39 - block 763190 is mined\n>> >  - 23:11 - block 763191 is mined\n>> >  - 23:17 - block 763192 is mined including 397dcbe4\n>> >\n>> > miningpool.observer reports both 397dcbe4 and ba967010 as missing in the\n>> > first three blocks, and gives similar mempool ages for those txs to what\n>> > my logs report:\n>> >\n>> >\n>> https://miningpool.observer/template-and-block/0000000000000000000436aba59d8430061e0e50592215f7f263bfb1073ccac7\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000005600404792bacfd8a164d2fe9843766afb2bfbd937309\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000004a3073f58c9eae40f251ea7aeaeac870daeac4b238fd1\n>> >\n>> > That presumably means those pools (AntPool twice and \"unknown\") are\n>> > running with large mempools that didn't kept the earlier 1.2sat/vb txs.\n>>\n>> To be clear, you think that AntPool and that other exchange is running\n>> with a\n>> larger than normal max mempool size limit? You mean those miners *did*\n>> keep the\n>> earlier 1.2sat/vb tx?\n>>\n>> > The txs were mined by Foundry:\n>> >\n>> >\n>> https://miningpool.observer/template-and-block/00000000000000000001382a226aedac822de80309cca2bf1253b35d4f8144f5\n>> >\n>> > This seems to be pretty good evidence that we currently don't have any\n>> > significant hashrate mining with fullrbf policies (<0.5% if there was a\n>> > high fee replacement available prior to every block having been mined),\n>> > despite the bounty having been collected.\n>>\n>> Oh, we can put much lower bounds on that. I've been running OTS calendars\n>> with\n>> full-rbf replacements for a few months without clear evidence of a\n>> full-rbf\n>> replacement.  While there was good reason to think some miners were mining\n>> full-rbf before a few years back, they probably didn't bother to reapply\n>> their\n>> patches each upgrade. `mempoolfullrbf=1` is much simpler to use.\n>>\n>> --\n>> https://petertodd.org 'peter'[:-1]@petertodd.org\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/3fd33525/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-06T05:39:40",
                "message_text_only": "On Mon, Dec 05, 2022 at 09:20:58AM -0300, El_Hoy wrote:\n> The only option I see against the attack Peter Todd is doing to opt-in RBF\n> and 0Conf bitcoin usage is working on a bitcoin core implementation that\n> stops propagation of full-rbf replaced blocks. Running multiple of such\n> nodes on the network will add a risk to miners that enable full-rbf that\n> would work as an incentive against that.\n> \n> Obviously that would require adding an option on bitcoin core (that is not\n> technically but politically difficult to implement as Petter Todd already\n> have commit access to the main repository).\n\nFor the record, I do not and have never had commit access to anything under\nhttps://github.com/bitcoin\n\nThe last time I contributed to Bitcoin Core was in Mar 1st 2017, and that was\nto add an explanatory comment. Pretty much the only reason why you know my name\nis I'm very good at argument and critique, I come up with some good ideas, and\nconference organizers love to put me on stage.\n\n> That said, a sufficiently incentivized actor (like Daniel Lipshitz or Muun\n> wallet developers) could work on a fork and run several nodes with such\n> functionality. As far as I understand the percolation model, with 10 to 20\n> nodes running such a rule would create a significant risk for full-rbf\n> miners.\n\nYou do not understand the percolation model.\n\n10 or 20 nodes is completely meaningless. Pools run nodes themselves, which by\ndefault connect to 8 outgoing peers. There's about 5000 IPv4 listening nodes on\nthe network. When a node learns of a new block, it tells all it's peers that\nthe new block exists.\n\nFor your censorship to work, there has to be a substantial propability that a\nminer *only* runs a single node (they don't), that has no incoming peers, and\nall 8 peers of that node happen to be one of your 20 censoring nodes.\nObviously, since the probability of a given peer being a censoring node is\n20/5000, all 8 being censored is extraordinarily unlikely.\n\nEven if you ran so many nodes that 20% of the entire network was censoring, the\nprobability of all 8 outgoing peers being censors is only 0.2^8 = 0.000256%\n\n\nThis is an example of information being hard to censor and easy to spread. In\nfact, for full-rbf this same math works in our favor: for a node to have a 50%\nchance of connecting to at least one full-rbf peer, just 8.3% of the network\nneeds to run full-rbf. 5000 IPv4 nodes * 8% = 400 nodes.\n\nThe percolation threshold doesn't need to be met for this to be succesful,\nbecause someone to just run a full-rbf node that connects to every single\nlistening node simultaneously.\n\n\nAnyway, as others' have pointed out, you're idea is also broken in other ways.\nBut I thought it'd be worth pointing out how futile it is to even try.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221206/1826ac5c/attachment-0001.sig>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-06T07:37:27",
                "message_text_only": "On Tue, Dec 06, 2022 at 12:39:40AM -0500, Peter Todd via bitcoin-dev wrote:\n> 10 or 20 nodes is completely meaningless. Pools run nodes themselves, which by\n> default connect to 8 outgoing peers. There's about 5000 IPv4 listening nodes on\n> the network. When a node learns of a new block, it tells all it's peers that\n> the new block exists.\n> \n> For your censorship to work, there has to be a substantial propability that a\n> miner *only* runs a single node (they don't), that has no incoming peers, and\n> all 8 peers of that node happen to be one of your 20 censoring nodes.\n> Obviously, since the probability of a given peer being a censoring node is\n> 20/5000, all 8 being censored is extraordinarily unlikely.\n> \n> Even if you ran so many nodes that 20% of the entire network was censoring, the\n> probability of all 8 outgoing peers being censors is only 0.2^8 = 0.000256%\n> \n> \n> This is an example of information being hard to censor and easy to spread. In\n> fact, for full-rbf this same math works in our favor: for a node to have a 50%\n> chance of connecting to at least one full-rbf peer, just 8.3% of the network\n> needs to run full-rbf. 5000 IPv4 nodes * 8% = 400 nodes.\n> \n> The percolation threshold doesn't need to be met for this to be succesful,\n> because someone to just run a full-rbf node that connects to every single\n> listening node simultaneously.\n\nFYI here's a percolation simulator for full-rbf:\n\nhttps://github.com/mzumsande/fullrbf_simulation\n\nIt finds similar results to my math above.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221206/3f1d55d9/attachment.sig>"
            },
            {
                "author": "0xB10C",
                "date": "2022-12-09T16:04:05",
                "message_text_only": "Hi AJ and list,\n\n> This seems to be pretty good evidence that we currently don't have any\n> significant hashrate mining with fullrbf policies (<0.5% if there was a\n> high fee replacement available prior to every block having been mined),\n> despite the bounty having been collected.\n\nFor further monitoring, I've set-up a mempoolfullrbf=1 node and are\nlogging replacement events with [0]. I filter the full-RBF replacements\nand list the replaced and replacement transactions here:\n\nhttps://fullrbf.mempool.observer/\n\nThis also tries to find out if either the replaced or replacement\ntransaction has been included in a block upon loading the site. The\nyellow mined-in-badges link to the block on miningpool.observer to a)\nshow the mining pool (if known) and b) see if the (mempoolfullrbf=0)\nminingpool-observer node thinks this transaction is extra / conflicts\nwith the mined transaction. This should be the case if a full-RBF\nreplacement transaction is mined.\n\nOver the last few days, I has mostly seen OP_RETURN transactions\n(presumably mostly by OpenTimestamps; but I haven't checked closely) and\na few other non-OP_RETURN transactions. None of the replacement\ntransactions have been mined yet.\n\n[0]: https://github.com/bitcoin/bitcoin/pull/26531#issuecomment-1333832906\n\nBest,\n0xB10C\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: OpenPGP_0x188CBB2648416AD5.asc\nType: application/pgp-keys\nSize: 6880 bytes\nDesc: OpenPGP public key\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221209/4c646fa1/attachment-0001.bin>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: OpenPGP_signature\nType: application/pgp-signature\nSize: 833 bytes\nDesc: OpenPGP digital signature\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221209/4c646fa1/attachment-0001.sig>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-09T21:16:20",
                "message_text_only": "On Fri, Dec 09, 2022 at 05:04:05PM +0100, 0xB10C via bitcoin-dev wrote:\n> Hi AJ and list,\n> \n> > This seems to be pretty good evidence that we currently don't have any\n> > significant hashrate mining with fullrbf policies (<0.5% if there was a\n> > high fee replacement available prior to every block having been mined),\n> > despite the bounty having been collected.\n> \n> For further monitoring, I've set-up a mempoolfullrbf=1 node and are\n> logging replacement events with [0]. I filter the full-RBF replacements\n> and list the replaced and replacement transactions here:\n\nQuestion: are you taking any special steps to peer that node with other\nfull-rbf nodes? I see you are in fact getting all the replacements I'd expect\nyou to get, so you must have good peering. I'm curious what it took (if\nanything) to achieve that. Also, is that node accepting incoming connections?\n\n> Over the last few days, I has mostly seen OP_RETURN transactions\n> (presumably mostly by OpenTimestamps; but I haven't checked closely) and\n> a few other non-OP_RETURN transactions. None of the replacement\n> transactions have been mined yet.\n\nThey are mostly OpenTimestamps transactions; I checked against the records from\nmy calendars and didn't find any OP_Return tx that wasn't one of mine.\n\nThe two calendars making full-rbf replacements are:\n\nhttps://alice.btc.calendar.opentimestamps.org/\nhttps://bob.btc.calendar.opentimestamps.org/\n\nThe status pages currently link to https://mempool.nixbitcoin.org, which is\nalso running mempoolfullrbf=1 As you can see, I've started the full-rbf bounty\nagain on Alice.\n\nhttps://blockstream.info also enabled full-rbf a few days ago. But currently\npropagation to their nodes is spotty, so replacements don't always show up.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221209/1104ff3e/attachment.sig>"
            },
            {
                "author": "0xB10C",
                "date": "2022-12-10T11:59:05",
                "message_text_only": "On 12/9/22 22:16, Peter Todd wrote:\n>> For further monitoring, I've set-up a mempoolfullrbf=1 node and are\n>> logging replacement events with [0]. I filter the full-RBF replacements\n>> and list the replaced and replacement transactions here:\n> Question: are you taking any special steps to peer that node with other\n> full-rbf nodes? I see you are in fact getting all the replacements I'd expect\n> you to get, so you must have good peering. I'm curious what it took (if\n> anything) to achieve that. Also, is that node accepting incoming connections?\nNo special steps like #25600 preferential peering or similar. I suspect\nI was lucky to have a full-RBF peer (or more than one) from the start or\nthere are more mempoolfullrbf=1 nodes than I'd think on the network. The\nnode accepts incoming connections on a non-default port and currently\nhas 45 inbound slots filled up. Mostly buy v23.0 and v24.0 nodes though,\nas older Bitcoin Core version usually don't connect to non-default port\npeers.\n>> Over the last few days, I has mostly seen OP_RETURN transactions\n>> (presumably mostly by OpenTimestamps; but I haven't checked closely) and\n>> a few other non-OP_RETURN transactions. None of the replacement\n>> transactions have been mined yet.\n> They are mostly OpenTimestamps transactions; I checked against the records from\n> my calendars and didn't find any OP_Return tx that wasn't one of mine.\n>\n> The two calendars making full-rbf replacements are:\n>\n> https://alice.btc.calendar.opentimestamps.org/\n> https://bob.btc.calendar.opentimestamps.org/\n>\n> The status pages currently link to https://mempool.nixbitcoin.org, which is\n> also running mempoolfullrbf=1 As you can see, I've started the full-rbf bounty\n> again on Alice.\n>\n> https://blockstream.info also enabled full-rbf a few days ago. But currently\n> propagation to their nodes is spotty, so replacements don't always show up.\n\nSince my last post, five full-RBF replacements have been mined in two\nblocks:\n\n766733 by Luxor:\n\n\u00a0\u00a0\u00a0 41d497d64bfa71390408ddb65c478a5400c721c71336fa51509929f19a5c8aa5 1x\nP2WPKH in -> 1x P2WPKH out (12.50 sat/vByte)\n\u00a0\u00a0\u00a0 3061eec0b57346c01419db091ce3af16094e796db91f4f3eb9b7ad42ce8f6e25\nOpenTimestamps Alice ~170 USD bounty (6424.72 sat/vByte)\n\u00a0\u00a0\u00a0 9000f73e818af9019d26b2edde6e8e11f67d6d6f35916dabd808bbdd314ce807 1x\nP2WPKH in -> 1x P2WPKH out\u00a0 (22.73 sat/vByte)\n\u00a0\u00a0\u00a0 3843e93a0ec5cf09d757fd497fdda8f15f5094c64b149624c5d343b24e675093\nOpenTimestamps Bob (108.25 sat/vByte)\n\nIt seems like Luxor (5.5 EH/s or 2.11% network hashrate in the last 7\ndays)[0] might have mempoolfullrbf=1 enabled.\n\n766736 by AntPool:\n\n\u00a0\u00a0 3c96fe8136de98a91d0add7e51fcacef813071d43feccc51987dc8378f6913e1\nOpenTimestamps Bob (4.25 sat/vByte)\n\nI'm not too sure if AntPool has full RBF enabled based on this one\ntransaction. 3c96fe.. is the first replacement of\n903f03b16e69f9f3fc6bb8d008338da37efc3f235fc5091ca767baae96834d95 (1.19\nsat/vByte) which they might not have seen (?). They have nearly 20% of\nthe network hashrate [0], so if the have mempoolfullrbf=1 set, we should\nsee them include more full-RBF replacements soonish. There was also\n1467e3dbf9e9f3d9cd8e7cc4009cd9c1457e164f0dd87525c72e921d7a27ab1f which\nbumped 3c96fe.. by 1.53 sat/vByte, but was only broadcast shortly before\nAntPool found the block. The might not have seen it yet.\n\nI've also updated the site to allow only showing the replacements that\nwere mined.\n\n[0]: https://btc.com/stats/pool?pool_mode=week\nfor future reference: https://archive.ph/TARhP\n\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: OpenPGP_0x188CBB2648416AD5.asc\nType: application/pgp-keys\nSize: 6880 bytes\nDesc: OpenPGP public key\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221210/7464f9d2/attachment.bin>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: OpenPGP_signature\nType: application/pgp-signature\nSize: 833 bytes\nDesc: OpenPGP digital signature\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221210/7464f9d2/attachment.sig>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-10T18:07:18",
                "message_text_only": "On Sat, Dec 10, 2022 at 12:59:05PM +0100, 0xB10C wrote:\n> On 12/9/22 22:16, Peter Todd wrote:\n> >> For further monitoring, I've set-up a mempoolfullrbf=1 node and are\n> >> logging replacement events with [0]. I filter the full-RBF replacements\n> >> and list the replaced and replacement transactions here:\n> > Question: are you taking any special steps to peer that node with other\n> > full-rbf nodes? I see you are in fact getting all the replacements I'd expect\n> > you to get, so you must have good peering. I'm curious what it took (if\n> > anything) to achieve that. Also, is that node accepting incoming connections?\n> No special steps like #25600 preferential peering or similar. I suspect\n> I was lucky to have a full-RBF peer (or more than one) from the start or\n> there are more mempoolfullrbf=1 nodes than I'd think on the network. The\n> node accepts incoming connections on a non-default port and currently\n> has 45 inbound slots filled up. Mostly buy v23.0 and v24.0 nodes though,\n> as older Bitcoin Core version usually don't connect to non-default port\n> peers.\n\nInteresting! I'm running a full-rbf node that is (manually) connected to a few\nhundred v24.0 nodes to ensure good propagation. But I'm only connected to\nstandard ports (I'm reusing the DNS seed list). So you must have a full-rbf\npeer purely by luck.\n\nCould you please grep your logs for which peer(s) are sending you replacements?\nI don't want to know the IP addresses. I'm just curious if you have exactly one\nfull-rbf peer or more.\n\nBTW I have Antoine's preferential peering patch ported to v24.0, along with a\nfew other minor fixes:\n\nhttps://github.com/petertodd/bitcoin/tree/full-rbf-v24.0\n\nI think it'd be reasonable for you to run that, as what's more interesting is\nthe replacements, not whether or not propagation happens to work out of the\nbox.\n\n> > https://blockstream.info also enabled full-rbf a few days ago. But currently\n> > propagation to their nodes is spotty, so replacements don't always show up.\n> \n> Since my last post, five full-RBF replacements have been mined in two\n> blocks:\n> \n> 766733 by Luxor:\n> \n> \u00a0\u00a0\u00a0 41d497d64bfa71390408ddb65c478a5400c721c71336fa51509929f19a5c8aa5 1x\n> P2WPKH in -> 1x P2WPKH out (12.50 sat/vByte)\n> \u00a0\u00a0\u00a0 3061eec0b57346c01419db091ce3af16094e796db91f4f3eb9b7ad42ce8f6e25\n> OpenTimestamps Alice ~170 USD bounty (6424.72 sat/vByte)\n> \u00a0\u00a0\u00a0 9000f73e818af9019d26b2edde6e8e11f67d6d6f35916dabd808bbdd314ce807 1x\n> P2WPKH in -> 1x P2WPKH out\u00a0 (22.73 sat/vByte)\n> \u00a0\u00a0\u00a0 3843e93a0ec5cf09d757fd497fdda8f15f5094c64b149624c5d343b24e675093\n> OpenTimestamps Bob (108.25 sat/vByte)\n> \n> It seems like Luxor (5.5 EH/s or 2.11% network hashrate in the last 7\n> days)[0] might have mempoolfullrbf=1 enabled.\n> \n> 766736 by AntPool:\n> \n> \u00a0\u00a0 3c96fe8136de98a91d0add7e51fcacef813071d43feccc51987dc8378f6913e1\n> OpenTimestamps Bob (4.25 sat/vByte)\n> \n> I'm not too sure if AntPool has full RBF enabled based on this one\n> transaction. 3c96fe.. is the first replacement of\n> 903f03b16e69f9f3fc6bb8d008338da37efc3f235fc5091ca767baae96834d95 (1.19\n> sat/vByte) which they might not have seen (?). They have nearly 20% of\n> the network hashrate [0], so if the have mempoolfullrbf=1 set, we should\n> see them include more full-RBF replacements soonish. There was also\n> 1467e3dbf9e9f3d9cd8e7cc4009cd9c1457e164f0dd87525c72e921d7a27ab1f which\n> bumped 3c96fe.. by 1.53 sat/vByte, but was only broadcast shortly before\n> AntPool found the block. The might not have seen it yet.\n\nSo according to my logs the replacement that AntPool mined, 3c96fe813, was the\nthird replacement in a row of four replacements:\n\n2022-12-10T07:46:09Z [mempool] AcceptToMemoryPool: peer=<snip>: accepted 903f03b16e69f9f3fc6bb8d008338da37efc3f235fc5091ca767baae96834d95 (poolsz 6320 txn, 90818 kB)\n2022-12-10T07:47:14Z [mempool] replacing tx 903f03b16e69f9f3fc6bb8d008338da37efc3f235fc5091ca767baae96834d95 with f8bef985457f9e5bbf5b583e33cca43d515a3a73e1bb6a2c5a11646632123aa2 for 0.00000234 additional fees, 0 delta bytes\n2022-12-10T08:01:09Z [mempool] replacing tx f8bef985457f9e5bbf5b583e33cca43d515a3a73e1bb6a2c5a11646632123aa2 with 3c96fe8136de98a91d0add7e51fcacef813071d43feccc51987dc8378f6913e1 for 0.00000234 additional fees, 0 delta bytes\n2022-12-10T08:06:06Z [mempool] replacing tx 3c96fe8136de98a91d0add7e51fcacef813071d43feccc51987dc8378f6913e1 with 1467e3dbf9e9f3d9cd8e7cc4009cd9c1457e164f0dd87525c72e921d7a27ab1f for 0.00000234 additional fees, 0 delta bytes\n\nThere's significant time between tx #2 and tx #3, and the block was found soon\nafter #4 reached my node, so it's quite possible that AntPool was in fact\nrunning full-rbf and they simply didn't see #4 in time.\n\nBig pools tend to run many different nodes at once, splitting up hash rate\nbetween them, so they could be simply running full-rbf on a subset of their\nhashing power to test it out. I noticed F2Pool mined a few full-rbf\nreplacements a few weeks ago too (they also mined a replacement that appeared\nto be due to them starting a new node, with an empty mempool).\n\nSimilarly, note how Luxor has mined a few blocks since #766733, without mining\nfull-rbf replacements.\n\n\nI'll also note that Foundry USA mined a doublespend,\nfab4df6b9b51dcfe94b366f17bccca50430f4ceb274a87f948a5493cd31a8551, which your\nsite shows. In that case according to my logs the two transactions were sent\nessentially simultaneously, so likely just an accident of propagation. But it's\ngood to remind people that such double-spends are easy. :)\n\n> I've also updated the site to allow only showing the replacements that\n> were mined.\n\nThanks! That's very useful.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221210/830652f9/attachment-0001.sig>"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-12-13T04:01:50",
                "message_text_only": "On Fri, Dec 09, 2022 at 05:04:05PM +0100, 0xB10C via bitcoin-dev wrote:\n> For further monitoring, I've set-up a mempoolfullrbf=1 node and are\n> logging replacement events with [0]. I filter the full-RBF replacements\n> and list the replaced and replacement transactions here:\n> https://fullrbf.mempool.observer/\n\nI think it would be helpful to list (a) how long ago the replaced\ntransaction was seen compared to the [full RBF event] timestamp, and (b)\nparticularly for cases where the replaced tx was the one that was mined,\nhow long after the [full RBF event] the block was received.\n\nMight be more hassle than it's worth, but you might consider grouping\nall related replacements together, so that you can see:\n\n2b771b7949e62434bf3002ad0d38f383a29b362cf2dc31627a35a883d0de36c3\n  [2601.19 sat/vb]\n9ce405ab14e8d68c7a43d190414e39564d90bbee21f23020f2ce45136927ce9b\n  [2448.25 sat/vb]\n1a5f239e7fc008f337605e0b405579234d0fecebaf6be966000dcfaf0bcb7beb\n  [2295.31 sat/vb]\n0500a3ca5e4998fb273be9b51a4c3a75780acf28b23409a54f4260e069441e32\n  [2142.37 sat/vb]\n955623c789eb0a7ca0848ce964325d6b2c7d1731a686d573018f6348de6c00a1\n  [1989.42 sat/vb]\n7838bc60405f9b38a79c94f4f045b8debaf41c0a5acfdeebc6a3904188b2bbc9\n  [1836.48 sat/vb]\n2d5e6b84602d45c5c834e0cad4db4dd8a9142ba7eff6bacdb34a97e5cfacb418\n  [1683.54 sat/vb]\n130851951a1d9270776852491bda3e17bb08b9309e5b76b206633f88a9341604\n  [1530.60 sat/vb]\n3c9b2530c02a22c966fa9ef60ec0acf17bd23a8b0b4c5202589c190ee770c880\n  [1377,66 sat/vb]\n49889043ec7dae7a4f1573c5feaca6a549d88e4fb306cf3b410155ba919da83d\n  [1224.72 sat/vb]\n861156e18ae0399cd458c6f7f7faed1a94142db45f1d879b9ae78cb11cd7e96c\n  [1071.78 sat/vb]\n961bf21f1fc35edacd4929e8db67b27a52c69a593d32aab5a024757503c0490b\n  [ 918.84 sat/vb]\n5cdb24e2ed30dfc55b23820676a9d47d158fec982e77dddadc648280f0b2c914\n  [ 765.90 sat/vb]\n159494115af33b414df77d3965de5eb191b4a3af1c1219509f3175abc5dcd132\n  [ 612.95 sat/vb]\ndcf4c0e688ee76188e9ef829d03cc66ee7da404717b9d56d74bcd75708612271\n  [ 460.01 sat/vb]\n1971d9122551a898bcbc5183d4ea79e273dea89aa4075d4e014f8f7dd4eb8321\n  [ 307.07 sat/vb]\nc43316d2e4bb12fbb408de01d64c4b480fd7d6875db4ebbf006fdc7579546d13\n  [ 154.13 sat/vb]\n8bbf6a0f3dd8358c6d8a81f0811216d7980288b14daeac82ff2f672ea8e4851d\n  [   1.19 sat/vb]\n  [mined in 767044]\n\nat a glance as a single block (ideally with timestamps).\n\nArguably, that might be interesting to see in general (ie for bip-125\nopt-in rbf txs as well), to see how common the \"offer a low fee, and\nraise it over time\" approach is in practice.\n\nCheers,\naj"
            }
        ],
        "thread_summary": {
            "title": "Announcement: Full-RBF Miner Bounty",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Michael Folkson",
                "Rijndael",
                "Anthony Towns",
                "Peter Todd",
                "El_Hoy",
                "0xB10C",
                "Erik Aronesty",
                "Greg Sanders"
            ],
            "messages_count": 14,
            "total_messages_chars_count": 76233
        }
    },
    {
        "title": "[bitcoin-dev] [Opt-in full-RBF] Zero-conf apps in immediate danger (angus)",
        "thread_messages": [
            {
                "author": "John Carvalho",
                "date": "2022-12-05T15:19:20",
                "message_text_only": ">\n> The perception seems to be that Core adding the full RBF option is\n> increasing the risk to zero-conf users, but I'm not convinced that that is\n> the case.\n\n\nIf this \"perception\" were not true, RBF & full-RBF would not be necessary\nat all. Think about it.\n\nIt's always been the risk of getting double-spent out of hundreds or\n> thousands of bitcoins that's worth seriously worrying about, which is much\n> more the kind of attack a determined attacker is able to carry out.\n\n\nThe risk exposure to merchants providing zero-conf acceptance as a service\nis finite, capped by their risk-tolerance, and capped by the current block\nexposure. Merchants cap their exposure to be an amount worth less than the\nvalue of this service.\n\nIt is highly inefficient and difficult for a miner to pull off an\nindustry-wide attack across diverse merchants to capture the current\nmaximum exposure in any given block, not to mention the enormous surface\narea of legal risk across jurisdictions...\n\nI don't think zero-conf opponents properly grasp that the risk exposure is\nexact and perfectly, trustlessly manageable. I would like the opportunity\nto spec the methods Bitrefill, Synonym, and most such merchants, use to\nmake it standard practice, as it is cheaper for merchants and more\nconvenient to Bitcoin consumers when merchants behave this way.\n\nAs has been pointed out by may others before, full RBF is aligned with\n> miner (and user) economic incentives\n\n\nThis is a theory, not a fact. I can refute this theory by pointing out\nseveral aspects:\n\n1.  RBF is actually a fee-minimization feature that allows users to game\nthe system to spend the *least* amount in fees that correlates to their\ntime-preference. Miners earn less when fees can be minimized (obviously).\nThis feature also comes at an expense (albeit small) to nodes providing\nreplacement service and propagation.\n\n2. Miners care about max fees per block, not slightly increased fees on a\nminority % of incidentally replaced txns when they happen to need it. They\nwant the most txns for the highest price per *block*. In order to qualify\nfor zero-conf acceptance, merchants require that the fee rate match or\nexceed an amount that makes the txn likely to be included in the very next\nblock. This creates a priority competition from users with high\ntime-preference. This creates not only more fees for miners, but more txns\nfrom more people using the chain for commerce. This is evidenced by stats\nprovided recently to this mailing list, but here are more numbers from\nBitrefill:\nhttps://github.com/bitcoin/bitcoin/pull/26525#issuecomment-1332823282\n\n3. Miners ultimately want what users want, as more users = more txns = more\nfees = higher BTC price. For all of Bitcoin's history, more users have\nwanted zero-conf than replacements. This is evidenced by first-seen policy\nthriving for years without disruption (until engineers actively disrupted\nit, using fallible theories as justification). This is also evidenced by\nthe UASF battle where miners capitulated to providing the type of blocks\nthat users demanded, to avoid uncertainty.\n\n4. A replaceable mempool is inherently less valuable than a first-seen\npolicy mempool in that Bitcoin is ultimately a ledger for a *payments*\nsystem where people are trying to pay and be paid with certainty. A\nfull-RBF system would result in more real-world doublespends to existing\nmerchants and p2p commerce, as it is impossible to fully teach all aspects\nof Bitcoin dynamics to users, particularly when they have enjoyed many\nyears of first-seen behavior as status quo.\n\nZero-conf and first-seen policies are clearly more\nincentive-compatible than RBF outright for these reasons.\n\nThe long-term 'what to do about it' is to use Lightning if you want fast\n> payments with risk-free instant settlement\n\n\nMany zero-conf proponents work on the bleeding edge of supporting\nLightning, including myself. Lightning is not risk-free and the base layer\nshould not be assuming it as a primary dependency for commercial payments.\nThe UX and complexity of supporting Lightning is still considerable,\nadoption is still very low, and there are many unsolved attack vectors and\nrisks that remain untested due to Lightning's low prevalence.\n\nFurther, zero-conf is also useful as a tool in improving Lightning\nonboarding, rebalancing, splicing, and UX overall. Bitcoin second-layers\nare only as good as the base layer, everything else is a tradeoff.\n\nBitcoin core 24 with the full RBF option is already out in the wild at\n> around 5%+ of running nodes and growing, so it's too late to kill it.\n\n\nThis is pure speculation. If Bitcoin Core publishes an update without the\nmistakenly-rushed feature, the mempoolfullrbf movement is likely to die on\nthe vine as users opt into the latest versions more and more, as evidenced\nby all older versions decreasing in usage over time. The incentive to run\nold versions, just to be able to force non-RBF txns to be treated as RBF,\nis lower than the incentive and likelihood of updating. Frankly, such an\nincentive is mostly obscure, vindictive, and perverse, IMO.\n\nWe should remove the mempoolfullrbf feature immediately from Bitcoin Core\ndistributions, as requested here:\nhttps://github.com/bitcoin/bitcoin/pull/26525\n\nThis mistake demands correction, and no one has provided a\nrational beneficial argument so far for breaking the user space and\ndisrupting mempool harmony.\n\nIf you would like further arguments and refutations of full-RBF, please\nread all of the posts in my PR thread:\nhttps://github.com/bitcoin/bitcoin/pull/26525\n\nThank you,\n\n--\nJohn Carvalho\nCEO, Synonym.to <http://synonym.to/>\n\n\n\nDate: Mon, 05 Dec 2022 12:21:44 +0000\n> From: angus <angus at toaster.cc>\n> To: Daniel Lipshitz <daniel at gap600.com>, Bitcoin Protocol Discussion\n>         <bitcoin-dev at lists.linuxfoundation.org>\n> Subject: [bitcoin-dev] [Opt-in full-RBF] Zero-conf apps in immediate\n>         danger\n> Message-ID:\n>\n> <-C_sX7ApYy_2MgXfl7e1ONddIi9gtET5jV4MTl_F_CstCvTuV0vTFfazF7tKBd53o6QbZ1xygayPIaCVjDyV-9yklnfk_t0IH23rw2LtqKQ=@toaster.cc>\n>\n> Content-Type: text/plain; charset=\"utf-8\"\n>\n> Core adding full RBF is a change of node policy that may be highly\n> inconvenient for zero-conf users, but there has always been and will always\n> be a risk of a double-spend for anyone that treats zero-confirmation\n> transactions as settled. It's literally in the name - this transaction has\n> zero confirmations and no guarantee it'll make it into a block, and so has\n> not yet settled.\n>\n> The perception seems to be that Core adding the full RBF option is\n> increasing the risk to zero-conf users, but I'm not convinced that that is\n> the case - someone wanting to double-spend attack you isn't going to be\n> bothered to do so over a few thousand sats (unless they can do it thousands\n> of times), and losing a few thousand sats to a double-spend isn't the\n> biggest deal.\n>\n> It's always been the risk of getting double-spent out of hundreds or\n> thousands of bitcoins that's worth seriously worrying about, which is much\n> more the kind of attack a determined attacker is able to carry out. Such a\n> determined attacker is much more likely to attempt and succeed at a sybil\n> attack, or directly colluding with a miner. So your zero-conf risk\n> increases non-linearly as the amount of bitcoin being transacted grows.\n> (caveat: this paragraph is opinion).\n>\n> There does, however, seem to be a legitimate business for providing\n> insurance/risk management for people that are willing to accept the\n> zero-conf risk - it is pretty similar to accepting credit cards with a\n> chargeback risk or any payment card with a capture risk, though there's\n> no-one to mediate a dispute. On-chain is final.\n>\n> But what doesn't make any sense is trying to avoid Bitcoin Core and nodes\n> from adopting a full RBF policy to try to protect this use case. As has\n> been pointed out by may others before, full RBF is aligned with miner (and\n> user) economic incentives and is a node policy, not consensus, so you can't\n> even tell which nodes are doing it nor can you prevent them from doing so.\n> Second, Bitcoin core 24 with the full RBF option is already out in the wild\n> at around 5%+ of running nodes and growing, so it's too late to kill it.\n>\n> So my point is that relying on node policy as part of your protection for\n> zero-conf transaction acceptance is fragile, and should not be relied upon.\n> The protocol rules have always tacitly allowed double-spending before a\n> confirmation, and it has always been clear that there's no consensus on\n> which transactions have occurred until they have in a block and have\n> at-least one confirmation.\n>\n> The long-term 'what to do about it' is to use Lightning if you want fast\n> payments with risk-free instant settlement, or as above, accept the\n> zero-conf risk and cover yourself with an insurance premium (e.g. a margin\n> on transactions that goes into an insurance fund, and limiting max\n> transaction amount so you're not exposed to uncoverable losses if you do\n> get double-spend attacked)\n>\n> Angus\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/f3d67ada/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-12-05T21:14:03",
                "message_text_only": ">\n>\n>\n> Many zero-conf proponents work on the bleeding edge of supporting\n> Lightning, including myself. Lightning is not risk-free and the base layer\n> should not be assuming it as a primary dependency for commercial payments.\n>\n\nfor low-value payments, lightning is the only workable version because the\ncurrent low-fee environment is not scalable and never will be\n\nfor high valued payments, zero conf was never valuable or useful and never\ncan be - it was always the beneficence of users you are relying on   low\nfee/high fee double spends of a zero conf with no rbf flag has\nbeen demonstrated, repeatedly ad nauseum.\n\n... so there is no long term scenario where zero conf is valuable.\n\nright *now* with low fees it might \"seem nice\", but really it just\nincentivises network-wide surveillance, increased peer burden on nodes, and\nunsustainable practices that are akin to a \"mev\" bounty hanging over\nmerchant's heads.\n\nalso, i've been using bitcoin for years without zero conf.   selling and\nbuying online.   operating merchants with millions in transactions.   the\n20 minute wait before i ship is meaningless, and the only risk i take on is\nthat a user replaces a transaction with a different destination.   which\ni've never observed.   even with the flag on (which i dont care about, and\nnever have).\n\nand if i do observe it ... i just won't ship.   it was easy to code up.\n the user will have to initiate a new tx.   i have no objection to a user\nbeing able to cancel their order.   why would i?\n\n\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/9b947dc5/attachment-0001.html>"
            },
            {
                "author": "angus",
                "date": "2022-12-09T15:58:37",
                "message_text_only": "I think the fundamental disagreement here that's causing the controversy and impasse is this:\n\n\n\nThose in favour of Full RBF see trusting and relying on predictable mempool policy as a fundamentally flawed\u00a0bad idea. Node policy is not a consensus rule - a miner has always been allowed to produce a block in the way a Full RBF node now would. An otherwise valid block that contains a tx that your not-full-RBF node ignored because it double-spent an earlier lower fee tx that didn't opt in to RBF is still a valid block. Knowing this, we conclude that it doesn't matter how useful or widely used Zero Conf is, it is fundamentally unsafe and should be\u00a0actively discouraged, and changing mempool policy is a way to do this. The existence of Lightning as an alternative for immediate settlement makes this case stronger.\n\n\n\n(As I see it) those that oppose Full RBF and want Zero Conf use to continue argue that node mempool policy\u00a0can\u00a0and\u00a0has\u00a0been relied upon for a long time already, and argue (rightly) that Zero Conf acceptance is already widely used and useful for both customers and merchants. Further arguing that Full RBF can be sucessfully unshipped, which requires that majority of node operators don't particularly care about it. Lastly, that neither miners nor users have an economic incentive to switch to Full RBF from the current core First-Seen policy. (Am I missing something else?)\n\n\n\n---\n\n\n\nI have sympathy for the utility argument, but to me it's completely overpowered by the \"node policy is not consensus and not trustworthy\" argument. Zero Conf acceptance rests on trusting that nodes are running with a first-seen policy. Just because this has worked out OK so far, doesn't mean that you won't get got bigtime in the future. You can accept this risk if you want to, but it shouldn't be a soft-rule that everyone else running a node should please help reduce that risk for you.\n\nSure, if I'm selling something on eBay or whatever for 100k sats and someone wants to pay in BTC in person, I'll accept with zero confirmations because there's a degree of trust and the risk isn't unbearable. If I'm accepting BTC as a company though, no, I'm not considering zero-confirmation transactions as settled.\n\n\n\nI don't think the economic incentive argument currently matters all that much - miners want to maximise fees, users want to minimise, it's hard to tell which policy would have the higher overall fees for miners, and who wins miners-vs-users. This would also seem to depend on how wallets do or don't make use of the new RBF option (particularly hard for multisig). There is still an obvious incentive for someone to double-spend attack a Zero-Conf merchant, though.\n\n\n\nI could be convinced to reverse my stance and oppose Full RBF if there was a strong economic argument that miners (better still, miners and users) should oppose it, because that would imply first-seen is incentive aligned. Aligning policy with incentives feels like the correct principle.\n\n\n\nBut for now, I want to run a Full RBF node because I see it as ultimately making Bitcoin stronger. It eliminates a use-case that takes risk. Accepting Zero Conf changes from \"hrm, you shouldn't really do that but it works most of the time\" to \"no, really don't do that, you will probably lose money\". Perhaps this is actually somewhat \"vindictive, and perverse\" as John said, but Bitcoin is money for enemies.\n\n\n\nThanks,\n\nAngus\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221209/12161097/attachment-0001.html>\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 249 bytes\nDesc: OpenPGP digital signature\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221209/12161097/attachment-0001.sig>"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-12-13T12:55:08",
                "message_text_only": "On Fri, Dec 09, 2022 at 03:58:37PM +0000, angus via bitcoin-dev wrote:\n> Those in favour of Full RBF see trusting and relying on predictable\n> mempool policy as a fundamentally flawed\u00a0bad idea.\n\nI don't believe that claim is true, at least in general: the motivation\nfor the -mempoolfullrbf PR was to make mempool policy behave in a way\nthat was (believed to be) more reliable and predictable than the current\nbehaviour.\n\nIn particular, if you can't rely on predictable relay/mempool policy,\nyou can't build \"fraud proof\" protocols on top of the blockchain: whether\nthat be like lightning today, which relies on people being able to get a\npenalty transaction mined in a reasonable amount of time, or lightning in\nthe future which in an eltoo world relies on getting an update transaction\nmined in a similar amount of time, or optimistic rollups that offer the\nability for people to challenge with a fraud proof.\n\nI think the basis for the fullrbf vision is more that fullrbf advocates\nthink miners will always want to optimise fees in the short term: that is,\ngiven two conflicting transactions H and L, if including H in the block\ngives a higher total reward for that block than including L, they will\nalways want to include H. Presuming that is a common attitude amongst\nminers, fullrbf is a natural outcome: those miners will advertise how\nto connect to their nodes, and anyone who prefers H over L will send H\nto them directly, and H will be mined and L will not be.\n\nI think it's fair to say that's what people mean when they talk about\n\"incentive compatible\" -- miners want to see the highest fee alternative\nof a transaction, and are \"incentivised\" by fees to do so, so relaying\nthat transaction is \"incentive compatible\" while relaying lower fee\nalternatives is \"incentive incompatible\".\n\nThat can be a stable outcome too: if it's common to have multiple\ntransactions like that, then the pools that take the higher fee\ntransactions will give higher payouts per hashrate, and owners of mining\nhardware will switch to those pools, so that the amount of hashrate\naccepting replacements will tend towards 100%. That scenario is already\nthe case for opt-in RBF.\n\nHowever, expecting pools/miners to optimise fees in the short term is an\nassumption, not the economic fact of life that some seem to assume it is.\n\nIt's also possible that owners of ASICs or pool operators will decide that\nthey're in this for the long term, and therefore that it's smarter to look\nat fee income over multiple blocks, rather than taking each block as its\nown entity. Similar to treating the prisoner's dilemma as a one-off game\n(where the dominant strategy is to always defect) versus an iterated game\n(where cooperation or tit-for-tat may be better strategies).\n\nIn particular, the outcome of fullrbf might not simply be the rosy\nscenario:\n\n  + there are just as many txs paying similar fees as there now,\n    except that\n  + it's easy for people to cancel mistakes, and\n  + people stop complaining to wallet authors when their opt-in \n    rbf tx takes longer to confirm than they expected\n\nbut might instead be either:\n\n  + everyone using BTC for payments switches to lightning, causing\n  - on-chain traffic to drop and fee income to drop with it\n\nor\n\n  - everyone paying for goods/services online with cryptocurrency\n    switches to stablecoins or ETH or Liquid or RSK,\n  - bitcoin traffic and tx fees drop substantially as a result,\n  - and bitcoin price drops too as people switch to hodling their\n    hot wallet balances in stablecoins and ETH\n\nwhich pool operators or hashrate owners might consider to not be in\ntheir best interests.\n\nSergej's numbers at\nhttps://github.com/bitcoin/bitcoin/pull/26525#issuecomment-1332823282\nsuggest bitefill's zeroconf txs alone account for something like 0.5%\nof on-chain txs. I'm not really sure how to interpret the numbers Daniel\nLipshitz/Max Krupyshev reported; \"700+ inputs a month\" doesn't sound like\nvery many, but \"300k incoming transactions\" would be 35 years worth of\n700 inputs per month, so something doesn't add up... The gap600 webpage\nfrom 2018 cites 3 million Bitcoin txs over about 13 months, which would\nbe about 230k/month, which would be roughly 3% of on-chain txs at the\nmoment.\n\nIt's not clear to me what that adds up to; is reducing tx volume\nby perhaps 5% or 10% a big deal? Given fee income is maybe 2% of the\nblock reward at the best of times, reducing it by 5% (to 1.9%) probably\ndoesn't matter directly, but then, nor would increasing it by 5%. So\nif there's a negative effect on demand for bitcoin because it becomes\nslower and less widely accepted, driving its price down, though, that\nprobably dominates. Is that likely to be signficant? No idea. Is there\nsome counterveiling effect where mempoolfullrbf would make bitcoin more\ndesirable, increasing demand and hence increasing its price? I can't\nsee one.\n\n(The original reasoning for the mempoolfullrbf option was that it\nwould allow new use cases, namely collaborative funding of coinjoins or\nlightning channels with less risk of getting your utxo stuck without\nbeing able to blame whoever was causing it to get stuck, which would\nhave added a potential for both more fees from additional txs, and more\ndemand due to those use cases.  Without that actually working as hoped,\nwe just have fewer on chain txs and worse demand in every scenario,\nas far as I can see)\n\n\nThis isn't necessarily an incredibly stable equilibrium: once somewhere\naround 10%-30% of hashrate is mining with fullrbf, presumably that\nwould make it too easy to cheat anyone willing to accept txs signalling\nfirst-seen-final with 0 confirmations and they'll stop doing that, and if\nthe consequences are that everyone switches to lightning or stablecoins\nand ETH, then that's all there is to it; it doesn't really matter what\nthe remaining 70%-90% of hashrate does, so at that point they might as\nwell do fullrbf as well, even if it only gets them a few pennies more.\n\nBut it's certainly possible for 95%+ of hashrate to decide that continuing\nto ignore high fee replacements is in their best interests over the\nlong term -- that's how things are working currently, and how they've\nworked for some years now. It's also how we'll want things to work if\nwe want anti-pinning schemes like those proposed for version-3 relay to\nbe effective.\n\n\nOne reason we might hope that miners will take a long-term view and\n(presuming the long-term view is actually in favour of zeroconf) decide to\nkeep supporting zeroconf, even if we don't care about zeroconf ourselves,\nis that miners prioritising long term income is arguably one of plausible\nways we can prevent 51% attacks from being a dominant strategy. If miners\nare only focussing on immediate revenue, then case #4 in section 3.1 of\n[0] applies, so 51% attacks are likely to be possible and profitable,\nwhereas if miners are focussing on bitcoin's long term value proposition,\nthen reorgs due to successful 51% attacks can be expected to trigger a\ndecline in the value of their investment in mining equipment, causing\ncase #4 not to apply. This is a similar argument to that presented in\nsection 2.3 of [1].\n\n[0] https://www.nber.org/papers/w24717\n[1] https://uncommoncore.co/wp-content/uploads/2019/10/A-model-for-Bitcoins-security-and-the-declining-block-subsidy-v1.02.pdf\n\nOf course, that only needs perhaps 30%-50% of hashpower to be thinking\nlong term, rather than 70%-90%, and a lack of regular reorgs is probably\na clearer benefit than zeroconf transactions. Which is a bit of a win-win:\nsuccess at keeping zeroconf going should give confidence that miners will\nhelp prevent 51% attacks; but failure at keeping zeroconf going doesn't\nmean they won't be of help. And, of course it assumes that there is a\nnegative impact on either BTC price or block reward from killing off\nzeroconf, which might not be true.\n\n> I have sympathy for the utility argument, but to me it's completely\n> overpowered by the \"node policy is not consensus and not trustworthy\"\n> argument.\n\nAnyway, in summary: consistent and predictable relay policy across nodes\nremains important and possible whether or not that's a relay policy of\nfirst seen is final, or highest fee rate wins, or something else.\n\n> But for now, I want to run a Full RBF node because I see it as ultimately making Bitcoin stronger. It eliminates a use-case that takes risk.\n\nIt seems strange to advocate for preventing other people from voluntarily\ntaking on a small risk, that's demonstrably quite easily managed, and\nalso already quite easily avoided.\n\n> Bitcoin is money for enemies.\n\nI mean, if you want to live in a world where everyone's trying to help\nsomeone else steal your money from you, it seems like the existing\nbanking system already had you covered?\n\nIf everyone's actually your enemy, your payments are going to get 51%\nattacked, nodes are going to blacklist your utxos, miners are going\nto ignore your penalty transactions so you'll lose all your L2 funds,\non-ramps and off-ramps will run KYC and put a hold on all your withdrawals\nand confiscate your deposits, and in general Bitcoin isn't going to work\nfor you.\n\nThe point of \"money for enemies\" isn't that we need to treat other\nBitcoiners as enemies and stop them from doing things we dislike; it's\nthat to be a Bitcoiner you only need to agree on a few things, almost\nnone of which are the things that usually cause people to become enemies.\n\nAn alternative aphorism might be: Bitcoin is the money of the honest\nmajority.\n\nThat is, it puts the power in the hands of everyone running a node,\noperating a miner, or holding their own private keys, rather than in a\nfew regulators or people with printing presses -- trusting an eclectic\nmajority rather than an elite minority, perhaps on the basis that you're\nmore likely to have a few dishonest people getting power out of a mass\nof upstanding ordinary folks, rather than the reverse.\n\nYMMV, of course, but I know how I'd prefer to view fellow Bitcoiners,\neven the ones that disagree with me. (OTOH, if you claim we're enemies,\nand I claim you're honest, where's that end up?)\n\nCheers,\naj"
            },
            {
                "author": "ZmnSCPxj",
                "date": "2022-12-12T02:27:31",
                "message_text_only": "Good morning John, et al,\n\n\n> > As has been pointed out by may others before, full RBF is aligned with miner (and user) economic incentives\n> \n> \n> This is a theory, not a fact. I can refute this theory by pointing out several aspects:\n> 1. RBF is actually a fee-minimization feature that allows users to game the system to spend the *least* amount in fees that correlates to their time-preference. Miners earn less when fees can be minimized (obviously). This feature also comes at an expense (albeit small) to nodes providing replacement service and propagation.\n\nIt is helpful to remember that the fees are a price on confirmation.\nAnd in economics, there is a \"price theory\":\n\n* As price goes down, demand goes up.\n* As price goes up, net-earning-per-unit goes up.\n\nThe combination of both forces causes a curve where *total* earnings vs price has a peak somewhere, an \"optimum price\", and that peak is *unlikely* to be at the maximum possible price you might deem reasonable.\nAnd this optimum price may very well be *lower* than the prevailing market price of a good.\n\nThus, saying \"RBF is actually a fee-minimization feature\" neglects the economics of the situation.\nIf more people could use RBF onchain, more people would use Bitcoin and increase the value to miners.\n\nRather than a fee-minimization feature, RBF is really an optimization to *speed up* the discovery of the optimum price, and is thus desirable.\n\nUnfortunately many 0-conf acceptors outright reject opt-in-RBF, despite the improved discovery of the optimum price, and thus there is a need for full-RBF to improve price discovery of blockspace when such acceptors are too prevalent.\n\nRegards,\nZmnSCPxj"
            },
            {
                "author": "John Carvalho",
                "date": "2022-12-12T09:57:37",
                "message_text_only": "Zman,\n\nPrice Theory simply explains the relationship between supply & demand. Your\npost makes some logical leaps in that you are implying that demand follows\nsupply, which of course is not true, nor is that a claim of Price Theory.\nIf Bitcoin has less utility, it will have less demand, regardless of\nwhether it is well-optimized to allow for capacity saturation.\n\nI do agree that there is an optimal state, and that such state is not\nlikely to be at the maximum price, because price maximization is exclusive.\n(Whether I deem any of this as \"reasonable,\" as you say, is irrelevant\nother than whether I personally, subjectively choose to participate.)\n\nThe optimal state (most fees earned), would surely be a result of the most\nvalue provided (per blockspace, per time period). While we must do our best\nto make sure txns have the smallest footprint, and that people have ways to\npay a fee proportional to their time preference, there is always a maximum\nquantity of demand willing to pay any given fee. My arguments express how\nzero-conf currently creates added demand for blockspace, by\nmerchants/consumers, and additionally, demand for *next-block* inclusion\n(maximum time preference) due to merchants qualifying fee rates to be\neligible for zero-conf acceptance.\n\nSo, me saying that RBF is fee-minimization, which you have conceded, is\napt, in that we should probably not trade off something like zero-conf\nutility (demand) for something like mempoolfullrbf (blanket replaceability\nthat overrides status quo use cases).\n\nYour statement of \"If more people could use RBF onchain, more people would\nuse Bitcoin and increase the value to miners.\" is not economically rational\nunless you truly can prove that supply creates demand. This is observably\nfalse, as blocks are not full.\n\nAlso, you stated \"Unfortunately many 0-conf acceptors outright reject\nopt-in-RBF, despite the improved discovery of the optimum price, and thus\nthere is a need for full-RBF to improve price discovery of blockspace when\nsuch acceptors are too prevalent.\" This is also irrational and incorrect.\nFirst, merchants do not \"outright reject\" opt-in RBF, they simply make the\ncustomer wait 1 conf. Second, full-rbf has no positive effect on price\ndiscovery for blockspace if it results in less people using Bitcoin for\nactual trade.\n\n~John\n\n\n\nIt is helpful to remember that the fees are a price on confirmation.\n> And in economics, there is a \"price theory\":\n>\n> * As price goes down, demand goes up.\n> * As price goes up, net-earning-per-unit goes up.\n>\n> The combination of both forces causes a curve where *total* earnings vs\n> price has a peak somewhere, an \"optimum price\", and that peak is *unlikely*\n> to be at the maximum possible price you might deem reasonable.\n> And this optimum price may very well be *lower* than the prevailing market\n> price of a good.\n>\n> Thus, saying \"RBF is actually a fee-minimization feature\" neglects the\n> economics of the situation.\n> If more people could use RBF onchain, more people would use Bitcoin and\n> increase the value to miners.\n>\n> Rather than a fee-minimization feature, RBF is really an optimization to\n> *speed up* the discovery of the optimum price, and is thus desirable.\n>\n> Unfortunately many 0-conf acceptors outright reject opt-in-RBF, despite\n> the improved discovery of the optimum price, and thus there is a need for\n> full-RBF to improve price discovery of blockspace when such acceptors are\n> too prevalent.\n>\n> Regards,\n> ZmnSCPxj\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221212/742f87ad/attachment.html>"
            }
        ],
        "thread_summary": {
            "title": "Zero-conf apps in immediate danger (angus)",
            "categories": [
                "bitcoin-dev",
                "Opt-in full-RBF"
            ],
            "authors": [
                "Anthony Towns",
                "John Carvalho",
                "angus",
                "ZmnSCPxj",
                "Erik Aronesty"
            ],
            "messages_count": 6,
            "total_messages_chars_count": 30209
        }
    },
    {
        "title": "[bitcoin-dev] bitcoin-dev Digest, Vol 91, Issue 5",
        "thread_messages": [
            {
                "author": "John Carvalho",
                "date": "2022-12-05T17:26:14",
                "message_text_only": "Antoine,\n\n\n> In the direction of removing the current option from Bitcoin Core, I think\n> the prerequisite to address are the qualification of enough economic flows\n> at risk and the presence of a sizable loss in miners income.\n\n\nAre such prerequisites for feature removal published somewhere? I don't see\nany reason why removing a controversial change should be harder than adding\none. Generally, it is impossible to definitively attribute any change in\nnetwork condition to one thing in such a complex system, and also difficult\nto know how much time is required to express negative effects. The whole\nargument here is to prevent disruption of the status quo that has lasted\nthe whole history of Bitcoin, to avoid taking a speculative risk that\nfull-RBF, at the expense of zero-conf, is maybe better for miners... or\nsomething.\n\nFurther, I feel the mempoolfullrbf feature was rushed through while this\ncontroversy was growing, specifically to attempt to achieve this imaginary\nprotection of \"sorry, that ship has sailed\" which indicates an agenda that\nis counter to greater social consensus and status quo. We should not\nincentivize such behavior further by allowing this sort of feature\nsainthood.\n\nBeyond that, I think there is still the open question if we (we, as the\n> Bitcoin protocol development community, with all its stakeholders) should\n> restrain user choice in policy settings in the name of preserving mining\n> income and established use-case stability.\n\n\nRemoving the mempoolfullrbf feature is the opposite of restraining user\nchoice.\n\nFirst, any incentivized user can still create and distribute patches for\nany given mempool policy, regardless of whether we remove the feature from\nCore, but it is important to note that extremely few have felt the need to\ndo so in the past.\n\nSecond, the very debate here is about how it is mempoolfullrbf that removes\nthe user choice of zero-conf services. With a first-seen policy in place,\nusers have *more* options, and Bitcoin is thus more useful, and thus more\nvaluable to everyone. This is evident in that the feature of full-rbf is\nthat it overrides any ability for users to signal intent of how they wish\ntheir transaction to be handled by nodes and miners. This is useful info to\nminers, as they make more money by facilitating use cases than by\nfee-minimizers painting everything as RBF. User-signaling is a useful\nfeature for the mempool, full-RBF removes that feature.\n\nThird, when Bitcoin Core adds special support for specific policies, it\npositions itself as a political authority and influencer. It is not Core's\nplace to support one subjective policy more than another, particularly when\nit conflicts with years of status quo and breaks the current user space,\nand likely resulting in more doublespent user experiences.\n\nTo recall, the original technical motivation of this option, and the wider\n> smoother deployment was to address a DoS vector affecting another class of\n> use-case: multi-party transactions like coinjoin and contracting protocols\n> like Lightning [2] [3]. All of them expect to generate economic flows and\n> corresponding mining income. Since then, alternative paths to solve this\n> DoS vector have been devised, all with their own trade-offs and conceptual\n> issues [4] [5].\n\n\nI am particularly skeptical that users sending Bitcoin to themselves\n(coinjoin) could ever be more incentive-compatible than fast-paced commerce\n& priority competition. I am also skeptical that mempoolfullrbf actually\nsolves LN risks any better than opt-in RBF by default by LN implementations\nand wallets.\n\nFurther, zero-conf support reduces friction for LN adoption by allowing us\nto make instant, seamless UX within wallets when onboarding, rebalancing,\nand splicing.\n\n--\nJohn Carvalho\nCEO, Synonym.to <http://synonym.to/>\n\n\n\n>\n> Date: Fri, 2 Dec 2022 17:35:39 -0500\n> From: Antoine Riard <antoine.riard at gmail.com>\n> To: Bitcoin Protocol Discussion\n>         <bitcoin-dev at lists.linuxfoundation.org>\n> Subject: [bitcoin-dev] Fwd: [Opt-in full-RBF] Zero-conf apps in\n>         immediate       danger\n> Message-ID:\n>         <\n> CALZpt+HFFwY4XECNZj3XLqnaumPeDjrwvnCsRa3vsGQfuXn8wA at mail.gmail.com>\n> Content-Type: text/plain; charset=\"utf-8\"\n>\n> Hi Daniel,\n>\n> >From my understanding of GAP600, you're operating a zero-conf risk\n> analysis\n> business, which is integrated and leveraged by payment processors/liquidity\n> providers and merchants. A deployment of fullrbf by enough full-node\n> operators and a subset of the mining hashrate would lower the cost of\n> double-spend attack by lamda users, therefore increasing the risk exposure\n> of your users. This increased risk exposure could lead you to alter the\n> acceptance of incoming zero-conf transactions, AFAICT in a similar\n> reasoning as exposed by Bitrefill earlier this year [0].\n>\n> About the statistics you're asking for considerations, few further\n> questions, on those 1.5M transactions per month, a) how many are\n> Bitcoin-only (as I understand to be multi-cryptocurrencies), b) how many\n> are excluded from zeroconf due to factors like RBF, long-chain of\n> unconfirmed ancestors or too high-value and c) what has been the average\n> feerate (assuming a standard size of 200 bytes) ?\n>\n> My personal position on fullrbf is still the same as expressed in #26525\n> [1]. As a community, I think we still don't have conceptual consensus on\n> deploying full-rbf, nor to remove it. In the direction of removing the\n> current option from Bitcoin Core, I think the prerequisite to address are\n> the qualification of enough economic flows at risk and the presence of a\n> sizable loss in miners income. Beyond that, I think there is still the open\n> question if we (we, as the Bitcoin protocol development community, with all\n> its stakeholders) should restrain user choice in policy settings in the\n> name of preserving mining income and established use-case stability.\n>\n> To recall, the original technical motivation of this option, and the wider\n> smoother deployment was to address a DoS vector affecting another class of\n> use-case: multi-party transactions like coinjoin and contracting protocols\n> like Lightning [2] [3]. All of them expect to generate economic flows and\n> corresponding mining income. Since then, alternative paths to solve this\n> DoS vector have been devised, all with their own trade-offs and conceptual\n> issues [4] [5].\n>\n> Best,\n> Antoine\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/e84af625/attachment.html>"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-12-06T04:06:34",
                "message_text_only": "Hi John,\n\nThanks for expressing your thoughts on the current state of\n`-mempoolfullrbf`, from the perspective of a merchant and zero-conf\nproponent. First and foremost, we're dealing with a nuanced and rich topic,\nimplying not only the inner workings of Bitcoin Core mempool policy rules,\nthe current topology of the peer-to-peer network and transactions\npropagation across it, the miner block construction strategy, but even\nfurther the consequences on multiple class of use-cases such as on-chain\npayments, Ligthning and coinjoins.\n\nIn the present case, and as always, I'm only speaking for myself, based on\nmy years-long experience contributing to Bitcoin Core, the wider Lightning\necosystem and few other open-source projects. While there is a\nself-awareness of the scope of my statements expressed in one of my (rough)\ndomains of expertise, as usual I invite anyone to reason by oneself and\ncheck my saying for opinions and wrongs.\n\nThat disclaimer said, in matters of feature removal, to the best of my\nknowledge the Bitcoin Core's \"decision-making\" process should be followed\nlike any other code change, as documented by the CONTRIBUTING.md [0]. In\nthe conceptual appreciation of the change in soundness, of course the\necosystem impacts or utility are lawfully decision grounds, as we've done\nin the past for many Lightning/L2-related PRs.\n\nW.r.t `mempoolfullrbf`, it has been argued on one-side it would a benefit\nfor some wallets usage (i.e replace non-signaling transactions from legacy\nsoftware [1]) and multi-party applications/ contracting protocols (i.e\nremove a DoS vector [2]). On the other hand, it would change the security\nmodel expectations of the 0confs operators. Whatever the evaluation one can\nhave of the soundness of those expectations, I think there is a lowering of\nthe technical bar one should reach to accomplish a double-spend.\n\nDuring the last months of discussions, we had a mempool policy design\nphilosophy proposed aiming to accommodate all the Bitcoin use-cases alive\non the network, under the conditions they're not harming the network\ninterests [3]. Under this paradigm, we could have a policy regime for each\nuse-case, and we can devise another special rule to solve the DoS vector\naffecting multi-party applications/contracting protocols have been proposed\n[4].\n\nWith that in consideration, there is still the open question if this\nmempool policy design philosophy proposed is sound enough in face of miner\nincentives and won't generate asymmetries in mining incomes. Not only now,\nbut also in a future world where fee reward is most of miners income. To\nthe best of my understanding, there isn't an established and practical\nmodel of miner incentives, at least among the Bitcoin Core developers. To\nunderscore, from my perspective this is where the conceptual discussion is\nblocked, and where it would be opportune to spend time and energy on.\nAnyone is invited to contribute on that front.\n\nZooming out, I believe the lack of current fullrbf hashrate shouldn't be a\ndisqualification that this mempool policy rule is not miner incentive\ncompatible. In the realm of science, the value of a model is its\nperformance to predict events, even if with a macro-system like Bitcoin\nmining it might take years for the empirical confirmation to happen (namely\nthe exhaustion of mining reward). As we're seeing in physics, some lessons\nof Einstein's general relativity expressed in the 1900 were only confirmed\nby observation of solar eclipse in 1919.\n\nIn the meantime, as `mempoolfullrbf` is altering the security expectations\nof the 0conf operators and on the other side the Lightning/coinjoins folks\nhave expressed low sensibility to the DoS vector [5], following a \"first,\ndo not harm\" philosophy, I think as an ecosystem we're better off to remove\nthe \"risk-induction\" `mempoolfullrbf` feature. Renewing here my position\npreviously expressed in #26438 [6] and #26525 [7].\n\nQualifying the existence of a harm in the eyes of the community, I think\nthis is valuable to have more merchants/services operators producing\neffective usage data, from the past years, as Bitrefill has done as an\nexample [8]. Minding the lack of a verifiable process to attest the\nauthenticity of such merchant claims raises a methodological issue in the\ndiscussion (and we could so in the future with cool ZKPs based on on-chain\ndata!)\n\nOf course, I think we shouldn't lose sight of the existence of a\n`mempoolfullrbf` patch, now widely disseminated across the ecosystem could\nlead to a situation where only a minority of node operators using it would\ndamage the safety of the 0confs use-case. There is not that much the\nBitcoin Core project could do in that regard. While I think the project\naims to maximize the safety of the peer-to-peer network as a design\nprinciple, including when we might have to restrain user choice, policy\nrules are \"soft\" rules and the autonomy to modify them is only a function\nof one's technical ability.\n\nOn the qualification of the Bitcoin Core as a political process, I think\nthis is an ignorance of the practice of day-to-day Core's process, where\nthe best code and reasonings are winning based on scientific and\nengineering standards, even if we've always had a margin of improvements.\nPeople are striving their best to ensure we follow an idea meritocracy\naccording to best open-source practice, and I think the project (and\nBitcoin itself in its 10+ years of history) wouldn't have survived so far\nif it has been otherwise.\n\nFinally, I can understand we have no economical data yet for the\nmulti-party funded and p2p coinjoins use-cases, as the specification\nenabling them is still WIP and have not been implemented by all LN\nsoftwares. I also fully understand the skepticism on how mempoolfullrbf\nwould solve a DoS vector for LN multi-party funded transactions, even if\nI've done my best to describe the issue previously. I'm staying available\nto demonstrate the pinning against a mainnet LN dual-funding flow if that\nwould convince you further, and then explain how the wide deployment of\nmempoolfullrbf would block the DoS. I agree with you that instant channel\nopening or splicing is very valuable, but there are a lot of additional\nsolutions that operators could deploy to have more fine-grained\nrisk-management.\n\nAll that said, I appreciate when anyone in the community raises the voice\nto check-and-balance the work of Bitcoin Core contributors, this is really\nneeded for the health of the development process, as long as it's done in a\nrespectful and patient way.\n\nSincerely,\nAntoine\n\n[0] https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md\n[1] https://github.com/bitcoin/bitcoin/pull/26438#issuecomment-1304370679\n[2]\nhttps://lists.linuxfoundation.org/pipermail/lightning-dev/2021-May/003033.html\n[3]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-October/021135.html\n[4]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021144.html\n[5]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021183.html\n[6] https://github.com/bitcoin/bitcoin/pull/26438#issuecomment-1305042950\n[7] https://github.com/bitcoin/bitcoin/pull/26525#issuecomment-1319499006\n[8] https://github.com/bitcoin/bitcoin/pull/26525#issuecomment-1332823282\n\nLe lun. 5 d\u00e9c. 2022 \u00e0 12:26, John Carvalho <john at synonym.to> a \u00e9crit :\n\n> Antoine,\n>\n>\n>> In the direction of removing the current option from Bitcoin Core, I\n>> think the prerequisite to address are the qualification of enough economic\n>> flows at risk and the presence of a sizable loss in miners income.\n>\n>\n> Are such prerequisites for feature removal published somewhere? I don't\n> see any reason why removing a controversial change should be harder than\n> adding one. Generally, it is impossible to definitively attribute any\n> change in network condition to one thing in such a complex system, and also\n> difficult to know how much time is required to express negative effects.\n> The whole argument here is to prevent disruption of the status quo that has\n> lasted the whole history of Bitcoin, to avoid taking a speculative risk\n> that full-RBF, at the expense of zero-conf, is maybe better for miners...\n> or something.\n>\n> Further, I feel the mempoolfullrbf feature was rushed through while this\n> controversy was growing, specifically to attempt to achieve this imaginary\n> protection of \"sorry, that ship has sailed\" which indicates an agenda that\n> is counter to greater social consensus and status quo. We should not\n> incentivize such behavior further by allowing this sort of feature\n> sainthood.\n>\n> Beyond that, I think there is still the open question if we (we, as the\n>> Bitcoin protocol development community, with all its stakeholders) should\n>> restrain user choice in policy settings in the name of preserving mining\n>> income and established use-case stability.\n>\n>\n> Removing the mempoolfullrbf feature is the opposite of restraining user\n> choice.\n>\n> First, any incentivized user can still create and distribute patches for\n> any given mempool policy, regardless of whether we remove the feature from\n> Core, but it is important to note that extremely few have felt the need to\n> do so in the past.\n>\n> Second, the very debate here is about how it is mempoolfullrbf that\n> removes the user choice of zero-conf services. With a first-seen policy in\n> place, users have *more* options, and Bitcoin is thus more useful, and thus\n> more valuable to everyone. This is evident in that the feature of full-rbf\n> is that it overrides any ability for users to signal intent of how they\n> wish their transaction to be handled by nodes and miners. This is useful\n> info to miners, as they make more money by facilitating use cases than by\n> fee-minimizers painting everything as RBF. User-signaling is a useful\n> feature for the mempool, full-RBF removes that feature.\n>\n> Third, when Bitcoin Core adds special support for specific policies, it\n> positions itself as a political authority and influencer. It is not Core's\n> place to support one subjective policy more than another, particularly when\n> it conflicts with years of status quo and breaks the current user space,\n> and likely resulting in more doublespent user experiences.\n>\n> To recall, the original technical motivation of this option, and the wider\n>> smoother deployment was to address a DoS vector affecting another class of\n>> use-case: multi-party transactions like coinjoin and contracting protocols\n>> like Lightning [2] [3]. All of them expect to generate economic flows and\n>> corresponding mining income. Since then, alternative paths to solve this\n>> DoS vector have been devised, all with their own trade-offs and conceptual\n>> issues [4] [5].\n>\n>\n> I am particularly skeptical that users sending Bitcoin to themselves\n> (coinjoin) could ever be more incentive-compatible than fast-paced commerce\n> & priority competition. I am also skeptical that mempoolfullrbf actually\n> solves LN risks any better than opt-in RBF by default by LN implementations\n> and wallets.\n>\n> Further, zero-conf support reduces friction for LN adoption by allowing us\n> to make instant, seamless UX within wallets when onboarding, rebalancing,\n> and splicing.\n>\n> --\n> John Carvalho\n> CEO, Synonym.to <http://synonym.to/>\n>\n>\n>\n>>\n>> Date: Fri, 2 Dec 2022 17:35:39 -0500\n>> From: Antoine Riard <antoine.riard at gmail.com>\n>> To: Bitcoin Protocol Discussion\n>>         <bitcoin-dev at lists.linuxfoundation.org>\n>> Subject: [bitcoin-dev] Fwd: [Opt-in full-RBF] Zero-conf apps in\n>>         immediate       danger\n>> Message-ID:\n>>         <\n>> CALZpt+HFFwY4XECNZj3XLqnaumPeDjrwvnCsRa3vsGQfuXn8wA at mail.gmail.com>\n>> Content-Type: text/plain; charset=\"utf-8\"\n>>\n>> Hi Daniel,\n>>\n>> >From my understanding of GAP600, you're operating a zero-conf risk\n>> analysis\n>> business, which is integrated and leveraged by payment\n>> processors/liquidity\n>> providers and merchants. A deployment of fullrbf by enough full-node\n>> operators and a subset of the mining hashrate would lower the cost of\n>> double-spend attack by lamda users, therefore increasing the risk exposure\n>> of your users. This increased risk exposure could lead you to alter the\n>> acceptance of incoming zero-conf transactions, AFAICT in a similar\n>> reasoning as exposed by Bitrefill earlier this year [0].\n>>\n>> About the statistics you're asking for considerations, few further\n>> questions, on those 1.5M transactions per month, a) how many are\n>> Bitcoin-only (as I understand to be multi-cryptocurrencies), b) how many\n>> are excluded from zeroconf due to factors like RBF, long-chain of\n>> unconfirmed ancestors or too high-value and c) what has been the average\n>> feerate (assuming a standard size of 200 bytes) ?\n>>\n>> My personal position on fullrbf is still the same as expressed in #26525\n>> [1]. As a community, I think we still don't have conceptual consensus on\n>> deploying full-rbf, nor to remove it. In the direction of removing the\n>> current option from Bitcoin Core, I think the prerequisite to address are\n>> the qualification of enough economic flows at risk and the presence of a\n>> sizable loss in miners income. Beyond that, I think there is still the\n>> open\n>> question if we (we, as the Bitcoin protocol development community, with\n>> all\n>> its stakeholders) should restrain user choice in policy settings in the\n>> name of preserving mining income and established use-case stability.\n>>\n>> To recall, the original technical motivation of this option, and the wider\n>> smoother deployment was to address a DoS vector affecting another class of\n>> use-case: multi-party transactions like coinjoin and contracting protocols\n>> like Lightning [2] [3]. All of them expect to generate economic flows and\n>> corresponding mining income. Since then, alternative paths to solve this\n>> DoS vector have been devised, all with their own trade-offs and conceptual\n>> issues [4] [5].\n>>\n>> Best,\n>> Antoine\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221205/96090561/attachment-0001.html>"
            }
        ],
        "thread_summary": {
            "title": "bitcoin-dev Digest, Vol 91, Issue 5",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Antoine Riard",
                "John Carvalho"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 20685
        }
    },
    {
        "title": "[bitcoin-dev] Nondeterministic Programming and Hints in Bitcoin Script",
        "thread_messages": [
            {
                "author": "Robin Linus",
                "date": "2022-12-08T01:14:54",
                "message_text_only": "TL;DR: Bitcoin Script supports a lot more opcodes than previously assumed. We just have to apply nondeterministic programming, which is a concept from ZKP circuit design.\n\nGood morning Mailinglist,\n\nthe Taproot update dropped the restrictions for script sizes, so in theory a TX can now have a script with millions of instructions. While exploring the new possibilities I noticed that we can apply to Bitcoin Script a programming concept from zero-knowledge proofs named nondeterministic programming. Whenever possible, the prover computes the result of an expensive operation and then gives that result to the verifier, who only verifies the correctness of the result, which is often much more efficient than computing it.\n\nFor example, we can represent integer division efficiently in Bitcoin Script if the result is given to us in the unlocking script. This is because multiplication with a constant is relatively cheap.\n\nHere is a most simple example implementing integer division by 2. We use that multiplication by 2 is simply OP_DUP OP_ADD, which is cheap.\n\n```\n\n# Integer division by 2 with the help of a hint\n# In this example, we divide 119 by 2.\n# In the unlocking script the prover provides the result\n# as a hint 119//2 = 59, which we verify.\n\nbtcdeb \"[\n\n  119             # Some arbitrary input is on the stack\n  OP_OVER         # Copy the hint to the top of the stack\n\n  OP_DUP OP_ADD   # Multiply the hint by 2\n  OP_SUB          # Subtract that from the 119\n\n  # Now the remainder should be on the stack\n  # We verify that it is exactly 0 or 1\n\n  OP_DUP          # Make a copy\n  OP_0NOTEQUAL    # Returns 0 if the input is 0. 1 otherwise.\n  OP_EQUALVERIFY\n\n# ]\" 59           # The hint provided is 59 = 119/2\n\n```\n\nHere you can find more complex examples of opcodes using hints:\nhttps://github.com/coins/bitcoin-scripts/blob/master/composite-opcodes.md#op_2div\n\nHere is even a script for a bitwise rotation of a 32-bit word. It requires about 100 instructions. I think that suggests it might be possible to implement something like sha256 in about 200-300k opcodes.\nhttps://github.com/coins/bitcoin-scripts/blob/master/op_rotate.md\n\nFurthermore, I wondered if it might be possible to implement a ZKP verifier in Bitcoin script. However, that would probably need some hack to make multiplications much cheaper.\n\nMaybe others also find it exciting to explore the new solution spaces enabled by the Taproot update and maybe nondeterministic programming inspires some new ways of thinking about Bitcoin Script.\n\nHave a good day everyone!\nRobin\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221208/ee09d2fb/attachment.html>"
            }
        ],
        "thread_summary": {
            "title": "Nondeterministic Programming and Hints in Bitcoin Script",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Robin Linus"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 2738
        }
    },
    {
        "title": "[bitcoin-dev] Rethinking \u201cIncentive Compatibility\u201d Within the Bitcoin Protocol",
        "thread_messages": [
            {
                "author": "John Carvalho",
                "date": "2022-12-10T12:10:24",
                "message_text_only": "As we debate mempoolfullrbf, and I familiarize myself with related PRs from\nengineers trying to reign in all of the possible behaviors that make it\ninconsistent, I can\u2019t help but think about how I see people using the term\n\u201cincentive-compatible\u201d and how it seems to be awfully presumptive.\n\nThe idea that a single Bitcoin transaction can be \u201cincentive-compatible\u201d by\nsimply restricting it to having a higher fee or fee rate is theoretical,\nlikely narrow, and not totally objective. RBF is inherently a\nfee-minimization tool, which as a concept, as I understand\n\u201cincentive-compatibility\u201d to be about miners in this context, makes RBF to\nbe anti-incentives; miners are fee maximizers.\n\nMiners want the most fees per block, and per lifetime, do they not? If\nminers, and the mempool, are prioritizing for the smallest txns with the\nhighest fees, over the longest acceptable amount of time, this may conflict\nwith extra-mempool behaviors that result in more txns per block / per\nlifetime.\n\nIf this isn\u2019t making sense yet, let me summarize by how such a problem\nwould express: a per-transaction fee-minimized, fully replaceable mempool\nas policy, that appears to always require the highest fee per txn, but\nultimately includes less txns per block and less fees per lifetime.\nBasically, less use cases, less users, less txns \u2014 all to enforce a\nmisunderstood theory and predictive speculation of what people want out of\nthe system and what miners will do about it.\n\nSimply, we probably want designs that fill blocks, and we don\u2019t need to do\nanything at all to facilitate bidding on a use case like replacement.\n\nBidding does not require protocol enforcement, it is miner-subjective. So\nwhy are we pursuing it? Why do we even have RBF? Why are we trying to clean\nup all of the mess RBF creates with more and more code? If bidding is\nalready accepted as incentive-compatible, and Bitcoin already allows\nsetting a fee, then replacement requires no special code at all.\n\nI would think a holistic definition of what is incentive-compatible would\nbe something more like what is \u201cmarket compatible\u201d and enables the\ncomplementary goals & incentives of every user in the system to make it\nthrive.\n\nIt has been shown that users control Bitcoin (UASF) and thus ultimately\nminers would be incentivized to do what users want, up to the point of\ninability or loss. Correct?\n\nSo, in contrast, how would the opposite, a user-compatible design, express?\nWell, I think the idea of txns being able to signal intent and desired\nbehavior is more interesting (more useful) than a mempool that overrides\nall intent with RBF, and possibly more incentive-compatible than\nmempoolfullrbf as concept.\n\nSince we can\u2019t be sure what the market wants, but we can be sure that the\nmore users we have, making the most possible txns, at the highest possible\nprices, will yield the most valuable Bitcoin, and thus the most hashpower,\nwe could entertain giving users the most ways to express their intent, the\nmost flexibility.\n\nThe most basic design would be to simply have no mempool policy at all, and\nlet market incentives emerge on their own, but we have a status quo to\nconsider, and most users do not have the technical expertise to express\ntheir own policies with misc patches and hacks of their Bitcoin Core\nsoftware.\n\nI know this is a bit of a high-level abstract perspective, but I think it\nis important to respect such dynamics when making smaller decisions. It\ncertainly is not our charge to prioritize what miners want any more than\nany other user type, nor is it within our ability to predict the future or\nfully model incentives of all players across all use cases.\n\nI know some of you may scoff at my bias for use cases like zero-conf, but\nwhat I am trying to convey is a possible folly in active management,\nspeculation, and misapplied game theory that may permeate many Bitcoin Core\ndecisions and designs, even beyond the mempoolrbf / zero-conf debate.\n\nSo, what to do?\n\n\u2014\n\nJohn Carvalho\nCEO, Synonym.to\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221210/e221c0b5/attachment.html>"
            },
            {
                "author": "Michael Folkson",
                "date": "2022-12-11T13:58:29",
                "message_text_only": "Hey John\n\nThere was a discussion [0] started by Lisa on the mailing list last year on whether there is any point to a full node maintaining a mempool last year which you may find interesting. I also recommend Gloria's presentation [1] from Adopting Bitcoin last year on transaction relay policy.\n\nI think those are better resources than anything I could write. But I guess I'd summarize it like this. The job of the P2P/mempool/policy protocol devs in setting defaults is to ensure anyone can effectively propagate a consensus valid transaction across the network ultimately making its way into miners' mempools without harming network health (full node uptime, DoS attacks etc) and to give higher layers built on top of the Bitcoin network the best chance to succeed. If they totally screwed up that job with the defaults or they were unable to cater for a particular use case within default policy then there is always the alternative of submitting consensus valid transactions directly to miners bypassing the P2P network entirely. But clearly it is much better if the P2P network functions smoothly and every transaction isn't forced to be directly submitted to a miner. It is policy too of course rather than consensus so if the full node operator wants to change from the defaults they are free to do so without risking being forked off the network or risking a chain split.\n\n> I know some of you may scoff at my bias for use cases like zero-conf, but what I am trying to convey is a possible folly in active management, speculation, and misapplied game theory that may permeate many Bitcoin Core decisions and designs, even beyond the mempoolrbf / zero-conf debate.\n\nThis stuff is difficult to follow and understand especially for people who haven't been into Bitcoin for long or are trying to build Bitcoin businesses full time, there are lots of subtleties. I've certainly struggled at many points in my learning journey and I'm sure I will continue to do so in future. So there is no scoffing (from me at least) at individuals trying to learn and businesses trying to thrive and provide services to their customers. Unfortunately there are occasionally scenarios where trade-offs have to be weighed up and decisions have to be made where some people aren't happy. You may disagree but I'm a lot more comfortable delegating responsibility for policy defaults to those who have worked full time in this area for years than say consensus changes where I think we all have a responsibility to ensure suboptimal or worse harmful changes aren't made to the consensus rules. I thought your input on the CTV discussion earlier in the year was really positive for example. On this topic though I think you could do with doing some more reading as there is a lot\u200b of past discussion. I'm sure those who work in this area full time would be happy to answer any questions you have if you do.\n\nThanks\nMichael\n\n[0]: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-October/019572.html\n[1]: https://btctranscripts.com/adopting-bitcoin/2021/2021-11-16-gloria-zhao-transaction-relay-policy/\n\n--\nMichael Folkson\nEmail: michaelfolkson at [protonmail.com](http://protonmail.com/)\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n\n------- Original Message -------\nOn Saturday, December 10th, 2022 at 14:10, John Carvalho via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> As we debate mempoolfullrbf, and I familiarize myself with related PRs from engineers trying to reign in all of the possible behaviors that make it inconsistent, I can\u2019t help but think about how I see people using the term \u201cincentive-compatible\u201d and how it seems to be awfully presumptive.\n>\n> The idea that a single Bitcoin transaction can be \u201cincentive-compatible\u201d by simply restricting it to having a higher fee or fee rate is theoretical, likely narrow, and not totally objective. RBF is inherently a fee-minimization tool, which as a concept, as I understand \u201cincentive-compatibility\u201d to be about miners in this context, makes RBF to be anti-incentives; miners are fee maximizers.\n>\n> Miners want the most fees per block, and per lifetime, do they not? If miners, and the mempool, are prioritizing for the smallest txns with the highest fees, over the longest acceptable amount of time, this may conflict with extra-mempool behaviors that result in more txns per block / per lifetime.\n>\n> If this isn\u2019t making sense yet, let me summarize by how such a problem would express: a per-transaction fee-minimized, fully replaceable mempool as policy, that appears to always require the highest fee per txn, but ultimately includes less txns per block and less fees per lifetime. Basically, less use cases, less users, less txns\u200a\u2014\u200aall to enforce a misunderstood theory and predictive speculation of what people want out of the system and what miners will do about it.\n>\n> Simply, we probably want designs that fill blocks, and we don\u2019t need to do anything at all to facilitate bidding on a use case like replacement.\n>\n> Bidding does not require protocol enforcement, it is miner-subjective. So why are we pursuing it? Why do we even have RBF? Why are we trying to clean up all of the mess RBF creates with more and more code? If bidding is already accepted as incentive-compatible, and Bitcoin already allows setting a fee, then replacement requires no special code at all.\n>\n> I would think a holistic definition of what is incentive-compatible would be something more like what is \u201cmarket compatible\u201d and enables the complementary goals & incentives of every user in the system to make it thrive.\n>\n> It has been shown that users control Bitcoin (UASF) and thus ultimately miners would be incentivized to do what users want, up to the point of inability or loss. Correct?\n>\n> So, in contrast, how would the opposite, a user-compatible design, express? Well, I think the idea of txns being able to signal intent and desired behavior is more interesting (more useful) than a mempool that overrides all intent with RBF, and possibly more incentive-compatible than mempoolfullrbf as concept.\n>\n> Since we can\u2019t be sure what the market wants, but we can be sure that the more users we have, making the most possible txns, at the highest possible prices, will yield the most valuable Bitcoin, and thus the most hashpower, we could entertain giving users the most ways to express their intent, the most flexibility.\n>\n> The most basic design would be to simply have no mempool policy at all, and let market incentives emerge on their own, but we have a status quo to consider, and most users do not have the technical expertise to express their own policies with misc patches and hacks of their Bitcoin Core software.\n>\n> I know this is a bit of a high-level abstract perspective, but I think it is important to respect such dynamics when making smaller decisions. It certainly is not our charge to prioritize what miners want any more than any other user type, nor is it within our ability to predict the future or fully model incentives of all players across all use cases.\n>\n> I know some of you may scoff at my bias for use cases like zero-conf, but what I am trying to convey is a possible folly in active management, speculation, and misapplied game theory that may permeate many Bitcoin Core decisions and designs, even beyond the mempoolrbf / zero-conf debate.\n>\n> So, what to do?\n>\n> \u2014\n>\n> John Carvalho\n> CEO, Synonym.to\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221211/e7e913a6/attachment-0001.html>"
            },
            {
                "author": "John Carvalho",
                "date": "2022-12-11T14:56:24",
                "message_text_only": "While I appreciate your reference links, and will check them out (thanks!),\nI do not appreciate your repeated takes about my character or quality of\nexperience. I have been in Bitcoin for 10 years, I build with it, I manage\na Bitcoin company with 8 engineers, and, modesty aside, there aren't very\nmany non-engineers that grasp how Bitcoin works as well as I do. I put lots\nof time into Bitcoin, and do my best to scrutinize all concepts presented\nto me.\n\nWhen I post in github, you mention I should be banned and you ignore my\nsubstantive arguments. If I post on the list here, you imply I am a noob,\nhave difficulty understanding, and that I'm biased by business. This is not\nuseful other than some, probably false, notion that maybe you can position\nyourself as superior or myself as dismissable.\n\nMy post is an analysis on incentives and how we understand them when\ndesigning for Bitcoin. You explained a bit about what the mempool is for,\nand some dynamics about it, but you may notice that doing something like\nmempoolfullrbf is actually inconsistent with a goal of mempool harmony. It\nis a disruptive change, therefore a tradeoff. The arguments for making that\ntradeoff use some oversimplified concepts, in my opinion.\n\nSo, I am questioning the quality of current theory, and showing how it\nmight be insufficient.\n\n- Do you think it is possible that a fully replaceable mempool, and\nobsoletion of zero-conf (merchant/consumer) use cases could result in less\noverall mining income? If not, why not?\n- Could this, and other active management by Bitcoin Core engineers, result\nin an overall less valuable, less useful Bitcoin, and is that bad for\nminers/security?\n- Do you think it is inconsistent that on one hand, Bitcoiners argue that\nminers do not control Bitcoin, yet Bitcoin Core is biasing decisions to\ncater to mining incentives over user incentives? Should miners do what\nusers want, and might that be their actual incentive?\n- Do you think it is Core's place to influence or steer policy based on\nspeculation about what may happen in the future, even when it conflicts\nwith the present and past?\n\n*These* are the interesting questions. Do you have reasoned answers?\n\nYou suggest you are comfortable outsourcing your understanding and\ndecisions to others, well I am not, and my post was meant to show some\nreasons why. It is important that Bitcoiners question how, when, and\nwhether Bitcoin software is changed, regardless of their ability to create\nor audit code.\n\nPlease analyze my ideas instead of me, thank you. Or, you could stay out of\nit and outsource that to someone else as well.\n\n~John\n\nOn Sun, Dec 11, 2022 at 1:58 PM Michael Folkson <\nmichaelfolkson at protonmail.com> wrote:\n\n> Hey John\n>\n> There was a discussion [0] started by Lisa on the mailing list last year\n> on whether there is any point to a full node maintaining a mempool last\n> year which you may find interesting. I also recommend Gloria's presentation\n> [1] from Adopting Bitcoin last year on transaction relay policy.\n>\n> I think those are better resources than anything I could write. But I\n> guess I'd summarize it like this. The job of the P2P/mempool/policy\n> protocol devs in setting defaults is to ensure anyone can effectively\n> propagate a consensus valid transaction across the network ultimately\n> making its way into miners' mempools without harming network health (full\n> node uptime, DoS attacks etc) and to give higher layers built on top of the\n> Bitcoin network the best chance to succeed. If they totally screwed up that\n> job with the defaults or they were unable to cater for a particular use\n> case within default policy then there is always the alternative of\n> submitting consensus valid transactions directly to miners bypassing the\n> P2P network entirely. But clearly it is much better if the P2P network\n> functions smoothly and every transaction isn't forced to be directly\n> submitted to a miner. It is policy too of course rather than consensus so\n> if the full node operator wants to change from the defaults they are free\n> to do so without risking being forked off the network or risking a chain\n> split.\n>\n> > I know some of you may scoff at my bias for use cases like zero-conf,\n> but what I am trying to convey is a possible folly in active management,\n> speculation, and misapplied game theory that may permeate many Bitcoin Core\n> decisions and designs, even beyond the mempoolrbf / zero-conf debate.\n>\n> This stuff is difficult to follow and understand especially for people who\n> haven't been into Bitcoin for long or are trying to build Bitcoin\n> businesses full time, there are lots of subtleties. I've certainly\n> struggled at many points in my learning journey and I'm sure I will\n> continue to do so in future. So there is no scoffing (from me at least) at\n> individuals trying to learn and businesses trying to thrive and provide\n> services to their customers. Unfortunately there are occasionally scenarios\n> where trade-offs have to be weighed up and decisions have to be made where\n> some people aren't happy. You may disagree but I'm a lot more comfortable\n> delegating responsibility for policy defaults to those who have worked full\n> time in this area for years than say consensus changes where I think we all\n> have a responsibility to ensure suboptimal or worse harmful changes aren't\n> made to the consensus rules. I thought your input on the CTV discussion\n> earlier in the year was really positive for example. On this topic though I\n> think you could do with doing some more reading as there is *a lot*\u200b of\n> past discussion. I'm sure those who work in this area full time would be\n> happy to answer any questions you have if you do.\n>\n> Thanks\n> Michael\n>\n> [0]:\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-October/019572.html\n> [1]:\n> https://btctranscripts.com/adopting-bitcoin/2021/2021-11-16-gloria-zhao-transaction-relay-policy/\n>\n> --\n> Michael Folkson\n> Email: michaelfolkson at protonmail.com\n> Keybase: michaelfolkson\n> PGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n>\n> ------- Original Message -------\n> On Saturday, December 10th, 2022 at 14:10, John Carvalho via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n> As we debate mempoolfullrbf, and I familiarize myself with related PRs\n> from engineers trying to reign in all of the possible behaviors that make\n> it inconsistent, I can\u2019t help but think about how I see people using the\n> term \u201cincentive-compatible\u201d and how it seems to be awfully presumptive.\n>\n> The idea that a single Bitcoin transaction can be \u201cincentive-compatible\u201d\n> by simply restricting it to having a higher fee or fee rate is theoretical,\n> likely narrow, and not totally objective. RBF is inherently a\n> fee-minimization tool, which as a concept, as I understand\n> \u201cincentive-compatibility\u201d to be about miners in this context, makes RBF to\n> be anti-incentives; miners are fee maximizers.\n>\n> Miners want the most fees per block, and per lifetime, do they not? If\n> miners, and the mempool, are prioritizing for the smallest txns with the\n> highest fees, over the longest acceptable amount of time, this may conflict\n> with extra-mempool behaviors that result in more txns per block / per\n> lifetime.\n>\n> If this isn\u2019t making sense yet, let me summarize by how such a problem\n> would express: a per-transaction fee-minimized, fully replaceable mempool\n> as policy, that appears to always require the highest fee per txn, but\n> ultimately includes less txns per block and less fees per lifetime.\n> Basically, less use cases, less users, less txns \u2014 all to enforce a\n> misunderstood theory and predictive speculation of what people want out of\n> the system and what miners will do about it.\n>\n> Simply, we probably want designs that fill blocks, and we don\u2019t need to do\n> anything at all to facilitate bidding on a use case like replacement.\n>\n> Bidding does not require protocol enforcement, it is miner-subjective. So\n> why are we pursuing it? Why do we even have RBF? Why are we trying to clean\n> up all of the mess RBF creates with more and more code? If bidding is\n> already accepted as incentive-compatible, and Bitcoin already allows\n> setting a fee, then replacement requires no special code at all.\n>\n> I would think a holistic definition of what is incentive-compatible would\n> be something more like what is \u201cmarket compatible\u201d and enables the\n> complementary goals & incentives of every user in the system to make it\n> thrive.\n>\n> It has been shown that users control Bitcoin (UASF) and thus ultimately\n> miners would be incentivized to do what users want, up to the point of\n> inability or loss. Correct?\n>\n> So, in contrast, how would the opposite, a user-compatible design,\n> express? Well, I think the idea of txns being able to signal intent and\n> desired behavior is more interesting (more useful) than a mempool that\n> overrides all intent with RBF, and possibly more incentive-compatible than\n> mempoolfullrbf as concept.\n>\n> Since we can\u2019t be sure what the market wants, but we can be sure that the\n> more users we have, making the most possible txns, at the highest possible\n> prices, will yield the most valuable Bitcoin, and thus the most hashpower,\n> we could entertain giving users the most ways to express their intent, the\n> most flexibility.\n>\n> The most basic design would be to simply have no mempool policy at all,\n> and let market incentives emerge on their own, but we have a status quo to\n> consider, and most users do not have the technical expertise to express\n> their own policies with misc patches and hacks of their Bitcoin Core\n> software.\n>\n> I know this is a bit of a high-level abstract perspective, but I think it\n> is important to respect such dynamics when making smaller decisions. It\n> certainly is not our charge to prioritize what miners want any more than\n> any other user type, nor is it within our ability to predict the future or\n> fully model incentives of all players across all use cases.\n>\n> I know some of you may scoff at my bias for use cases like zero-conf, but\n> what I am trying to convey is a possible folly in active management,\n> speculation, and misapplied game theory that may permeate many Bitcoin Core\n> decisions and designs, even beyond the mempoolrbf / zero-conf debate.\n>\n> So, what to do?\n>\n> \u2014\n>\n> John Carvalho\n> CEO, Synonym.to\n>\n>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221211/6f4effae/attachment.html>"
            },
            {
                "author": "Michael Folkson",
                "date": "2022-12-11T15:44:08",
                "message_text_only": "I think it best I leave this discussion to others then as something I've written has obviously offended you. I'll also leave it to others to assess whether I was disrespectful or attacking your character or quality of experience in that email. Someone working on the P2P or mempool part of the Bitcoin Core codebase for years is going to understand the code and the subtle trade-offs of mempool policy defaults better than you or I. I hate to break it to you. Just like you are going to understand Synonym's business and technology better than that P2P/mempool developer. We all have different skillsets and different experiences.\n\n> When I post in github, you mention I should be banned and you ignore my substantive arguments.\n\nPull requests on Bitcoin Core's GitHub repository are for technical review of the concept, approach and code contained within that pull request. Submitting your Concept (N)ACK and reasoning is perfectly fine as is opening a pull request with the same changes. But the general high level discussion (back and forth etc) you seem to want to have is much better suited here than on a Bitcoin Core pull request. It is impossible for the Bitcoin Core project to operate if the world's population aren't willing to follow project norms and want to have discussions on subjects that aren't within the scope of that pull request. I and others requested you go here and you initially refused and said you struggled to use this forum.\n\nBut yeah I'm not interested in engaging a shouting match. So with regards to your questions I'll leave it to others to discuss them with you.\n\nThanks\nMichael\n--\nMichael Folkson\nEmail: michaelfolkson at [protonmail.com](http://protonmail.com/)\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n\n------- Original Message -------\nOn Sunday, December 11th, 2022 at 16:56, John Carvalho <john at synonym.to> wrote:\n\n> While I appreciate your reference links, and will check them out (thanks!), I do not appreciate your repeated takes about my character or quality of experience. I have been in Bitcoin for 10 years, I build with it, I manage a Bitcoin company with 8 engineers, and, modesty aside, there aren't very many non-engineers that grasp how Bitcoin works as well as I do. I put lots of time into Bitcoin, and do my best to scrutinize all concepts presented to me.\n>\n> When I post in github, you mention I should be banned and you ignore my substantive arguments. If I post on the list here, you imply I am a noob, have difficulty understanding, and that I'm biased by business. This is not useful other than some, probably false, notion that maybe you can position yourself as superior or myself as dismissable.\n>\n> My post is an analysis on incentives and how we understand them when designing for Bitcoin. You explained a bit about what the mempool is for, and some dynamics about it, but you may notice that doing something like mempoolfullrbf is actually inconsistent with a goal of mempool harmony. It is a disruptive change, therefore a tradeoff. The arguments for making that tradeoff use some oversimplified concepts, in my opinion.\n>\n> So, I am questioning the quality of current theory, and showing how it might be insufficient.\n>\n> - Do you think it is possible that a fully replaceable mempool, and obsoletion of zero-conf (merchant/consumer) use cases could result in less overall mining income? If not, why not?\n> - Could this, and other active management by Bitcoin Core engineers, result in an overall less valuable, less useful Bitcoin, and is that bad for miners/security?\n> - Do you think it is inconsistent that on one hand, Bitcoiners argue that miners do not control Bitcoin, yet Bitcoin Core is biasing decisions to cater to mining incentives over user incentives? Should miners do what users want, and might that be their actual incentive?\n> - Do you think it is Core's place to influence or steer policy based on speculation about what may happen in the future, even when it conflicts with the present and past?\n>\n> *These* are the interesting questions. Do you have reasoned answers?\n>\n> You suggest you are comfortable outsourcing your understanding and decisions to others, well I am not, and my post was meant to show some reasons why. It is important that Bitcoiners question how, when, and whether Bitcoin software is changed, regardless of their ability to create or audit code.\n>\n> Please analyze my ideas instead of me, thank you. Or, you could stay out of it and outsource that to someone else as well.\n>\n> ~John\n>\n> On Sun, Dec 11, 2022 at 1:58 PM Michael Folkson <michaelfolkson at protonmail.com> wrote:\n>\n>> Hey John\n>>\n>> There was a discussion [0] started by Lisa on the mailing list last year on whether there is any point to a full node maintaining a mempool last year which you may find interesting. I also recommend Gloria's presentation [1] from Adopting Bitcoin last year on transaction relay policy.\n>>\n>> I think those are better resources than anything I could write. But I guess I'd summarize it like this. The job of the P2P/mempool/policy protocol devs in setting defaults is to ensure anyone can effectively propagate a consensus valid transaction across the network ultimately making its way into miners' mempools without harming network health (full node uptime, DoS attacks etc) and to give higher layers built on top of the Bitcoin network the best chance to succeed. If they totally screwed up that job with the defaults or they were unable to cater for a particular use case within default policy then there is always the alternative of submitting consensus valid transactions directly to miners bypassing the P2P network entirely. But clearly it is much better if the P2P network functions smoothly and every transaction isn't forced to be directly submitted to a miner. It is policy too of course rather than consensus so if the full node operator wants to change from the defaults they are free to do so without risking being forked off the network or risking a chain split.\n>>\n>>> I know some of you may scoff at my bias for use cases like zero-conf, but what I am trying to convey is a possible folly in active management, speculation, and misapplied game theory that may permeate many Bitcoin Core decisions and designs, even beyond the mempoolrbf / zero-conf debate.\n>>\n>> This stuff is difficult to follow and understand especially for people who haven't been into Bitcoin for long or are trying to build Bitcoin businesses full time, there are lots of subtleties. I've certainly struggled at many points in my learning journey and I'm sure I will continue to do so in future. So there is no scoffing (from me at least) at individuals trying to learn and businesses trying to thrive and provide services to their customers. Unfortunately there are occasionally scenarios where trade-offs have to be weighed up and decisions have to be made where some people aren't happy. You may disagree but I'm a lot more comfortable delegating responsibility for policy defaults to those who have worked full time in this area for years than say consensus changes where I think we all have a responsibility to ensure suboptimal or worse harmful changes aren't made to the consensus rules. I thought your input on the CTV discussion earlier in the year was really positive for example. On this topic though I think you could do with doing some more reading as there is a lot\u200b of past discussion. I'm sure those who work in this area full time would be happy to answer any questions you have if you do.\n>>\n>> Thanks\n>> Michael\n>>\n>> [0]: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-October/019572.html\n>> [1]: https://btctranscripts.com/adopting-bitcoin/2021/2021-11-16-gloria-zhao-transaction-relay-policy/\n>>\n>> --\n>> Michael Folkson\n>> Email: michaelfolkson at [protonmail.com](http://protonmail.com/)\n>> Keybase: michaelfolkson\n>> PGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n>>\n>> ------- Original Message -------\n>> On Saturday, December 10th, 2022 at 14:10, John Carvalho via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>> As we debate mempoolfullrbf, and I familiarize myself with related PRs from engineers trying to reign in all of the possible behaviors that make it inconsistent, I can\u2019t help but think about how I see people using the term \u201cincentive-compatible\u201d and how it seems to be awfully presumptive.\n>>>\n>>> The idea that a single Bitcoin transaction can be \u201cincentive-compatible\u201d by simply restricting it to having a higher fee or fee rate is theoretical, likely narrow, and not totally objective. RBF is inherently a fee-minimization tool, which as a concept, as I understand \u201cincentive-compatibility\u201d to be about miners in this context, makes RBF to be anti-incentives; miners are fee maximizers.\n>>>\n>>> Miners want the most fees per block, and per lifetime, do they not? If miners, and the mempool, are prioritizing for the smallest txns with the highest fees, over the longest acceptable amount of time, this may conflict with extra-mempool behaviors that result in more txns per block / per lifetime.\n>>>\n>>> If this isn\u2019t making sense yet, let me summarize by how such a problem would express: a per-transaction fee-minimized, fully replaceable mempool as policy, that appears to always require the highest fee per txn, but ultimately includes less txns per block and less fees per lifetime. Basically, less use cases, less users, less txns\u200a\u2014\u200aall to enforce a misunderstood theory and predictive speculation of what people want out of the system and what miners will do about it.\n>>>\n>>> Simply, we probably want designs that fill blocks, and we don\u2019t need to do anything at all to facilitate bidding on a use case like replacement.\n>>>\n>>> Bidding does not require protocol enforcement, it is miner-subjective. So why are we pursuing it? Why do we even have RBF? Why are we trying to clean up all of the mess RBF creates with more and more code? If bidding is already accepted as incentive-compatible, and Bitcoin already allows setting a fee, then replacement requires no special code at all.\n>>>\n>>> I would think a holistic definition of what is incentive-compatible would be something more like what is \u201cmarket compatible\u201d and enables the complementary goals & incentives of every user in the system to make it thrive.\n>>>\n>>> It has been shown that users control Bitcoin (UASF) and thus ultimately miners would be incentivized to do what users want, up to the point of inability or loss. Correct?\n>>>\n>>> So, in contrast, how would the opposite, a user-compatible design, express? Well, I think the idea of txns being able to signal intent and desired behavior is more interesting (more useful) than a mempool that overrides all intent with RBF, and possibly more incentive-compatible than mempoolfullrbf as concept.\n>>>\n>>> Since we can\u2019t be sure what the market wants, but we can be sure that the more users we have, making the most possible txns, at the highest possible prices, will yield the most valuable Bitcoin, and thus the most hashpower, we could entertain giving users the most ways to express their intent, the most flexibility.\n>>>\n>>> The most basic design would be to simply have no mempool policy at all, and let market incentives emerge on their own, but we have a status quo to consider, and most users do not have the technical expertise to express their own policies with misc patches and hacks of their Bitcoin Core software.\n>>>\n>>> I know this is a bit of a high-level abstract perspective, but I think it is important to respect such dynamics when making smaller decisions. It certainly is not our charge to prioritize what miners want any more than any other user type, nor is it within our ability to predict the future or fully model incentives of all players across all use cases.\n>>>\n>>> I know some of you may scoff at my bias for use cases like zero-conf, but what I am trying to convey is a possible folly in active management, speculation, and misapplied game theory that may permeate many Bitcoin Core decisions and designs, even beyond the mempoolrbf / zero-conf debate.\n>>>\n>>> So, what to do?\n>>>\n>>> \u2014\n>>>\n>>> John Carvalho\n>>> CEO, Synonym.to\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221211/d69ce1a1/attachment-0001.html>"
            },
            {
                "author": "Daniel Edgecumbe",
                "date": "2022-12-11T15:30:14",
                "message_text_only": "I've been on the sidelines for a while reading these e-mails but it's become rather frustrating to read as of late.\n\nAs far as I see it the fundamental principle is that the blockchain, via subsequent confirmations, is the way that security against double spends is provided in Bitcoin.\n\nThe application of proof of work to achieve that is the primary innovation of the system that seperates it from simply using digital signatures.\n\nRBF doesn't actually materially affect that at all. Regardless of what happens in the mempool, if you rely on an N-conf transaction being final, and N blocks get reversed, either by an inadvertant chain split or by some sort of short term 51% attack behaviour, you're SOL.\n\nZeroconf goes even beyond that - if you rely on a transaction in the mempool, a miner can choose to mine a conflicting one regardless of what the relay policy in Core is. The only cost to them is the fee difference between the two transactions, which in the vast majority of cases will be zero or in the favour of the miner.\n\nIf we're going to talk about incentive compatibility - in this case the incentive compatible thing, perhaps even a design decision, is that miners just create a backchannel that ignores your censoring of transactions in the mempool.\n\nThe debate itself feels like bikeshedding to me for that reason. It doesn't matter what colour we paint the zeroconf shed, it doesn't have a roof and it's made of cardboard.\n\nDaniel Edgecumbe | esotericnonsense\nd at esotericnonsense.com | https://esotericnonsense.com\n\nOn Sat, Dec 10, 2022, at 12:10, John Carvalho via bitcoin-dev wrote:\n> As we debate mempoolfullrbf, and I familiarize myself with related PRs \n> from engineers trying to reign in all of the possible behaviors that \n> make it inconsistent, I can\u2019t help but think about how I see people \n> using the term \u201cincentive-compatible\u201d and how it seems to be awfully \n> presumptive.\n>\n> The idea that a single Bitcoin transaction can be \n> \u201cincentive-compatible\u201d by simply restricting it to having a higher fee \n> or fee rate is theoretical, likely narrow, and not totally objective. \n> RBF is inherently a fee-minimization tool, which as a concept, as I \n> understand \u201cincentive-compatibility\u201d to be about miners in this \n> context, makes RBF to be anti-incentives; miners are fee maximizers.\n>\n> Miners want the most fees per block, and per lifetime, do they not? If \n> miners, and the mempool, are prioritizing for the smallest txns with \n> the highest fees, over the longest acceptable amount of time, this may \n> conflict with extra-mempool behaviors that result in more txns per \n> block / per lifetime.\n>\n> If this isn\u2019t making sense yet, let me summarize by how such a problem \n> would express: a per-transaction fee-minimized, fully replaceable \n> mempool as policy, that appears to always require the highest fee per \n> txn, but ultimately includes less txns per block and less fees per \n> lifetime. Basically, less use cases, less users, less txns\u200a\u2014\u200aall to \n> enforce a misunderstood theory and predictive speculation of what \n> people want out of the system and what miners will do about it.\n>\n> Simply, we probably want designs that fill blocks, and we don\u2019t need to \n> do anything at all to facilitate bidding on a use case like replacement.\n>\n> Bidding does not require protocol enforcement, it is miner-subjective. \n> So why are we pursuing it? Why do we even have RBF? Why are we trying \n> to clean up all of the mess RBF creates with more and more code? If \n> bidding is already accepted as incentive-compatible, and Bitcoin \n> already allows setting a fee, then replacement requires no special code \n> at all.\n>\n> I would think a holistic definition of what is incentive-compatible \n> would be something more like what is \u201cmarket compatible\u201d and enables \n> the complementary goals & incentives of every user in the system to \n> make it thrive.\n>\n> It has been shown that users control Bitcoin (UASF) and thus ultimately \n> miners would be incentivized to do what users want, up to the point of \n> inability or loss. Correct?\n>\n> So, in contrast, how would the opposite, a user-compatible design, \n> express? Well, I think the idea of txns being able to signal intent and \n> desired behavior is more interesting (more useful) than a mempool that \n> overrides all intent with RBF, and possibly more incentive-compatible \n> than mempoolfullrbf as concept.\n>\n> Since we can\u2019t be sure what the market wants, but we can be sure that \n> the more users we have, making the most possible txns, at the highest \n> possible prices, will yield the most valuable Bitcoin, and thus the \n> most hashpower, we could entertain giving users the most ways to \n> express their intent, the most flexibility.\n>\n> The most basic design would be to simply have no mempool policy at all, \n> and let market incentives emerge on their own, but we have a status quo \n> to consider, and most users do not have the technical expertise to \n> express their own policies with misc patches and hacks of their Bitcoin \n> Core software.\n>\n> I know this is a bit of a high-level abstract perspective, but I think \n> it is important to respect such dynamics when making smaller decisions. \n> It certainly is not our charge to prioritize what miners want any more \n> than any other user type, nor is it within our ability to predict the \n> future or fully model incentives of all players across all use cases.\n>\n> I know some of you may scoff at my bias for use cases like zero-conf, \n> but what I am trying to convey is a possible folly in active \n> management, speculation, and misapplied game theory that may permeate \n> many Bitcoin Core decisions and designs, even beyond the mempoolrbf / \n> zero-conf debate.\n>\n> So, what to do?\n>\n> \u2014\n>\n> John Carvalho\n> CEO, Synonym.to\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "Rethinking \u201cIncentive Compatibility\u201d Within the Bitcoin Protocol",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Daniel Edgecumbe",
                "John Carvalho",
                "Michael Folkson"
            ],
            "messages_count": 5,
            "total_messages_chars_count": 40683
        }
    },
    {
        "title": "[bitcoin-dev] A proposal for Full RBF to not exclude Zero Conf use case",
        "thread_messages": [
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-11T20:24:00",
                "message_text_only": "Intro\nCurrently there is a significant use case of 0-Conf acceptance of\ntransactions. Merchants and service providers are fully aware of the risks\nrelated to 0-conf. Full RBF if it would be significantly enabled would most\nlikely make 0-conf not possible and significantly limit this current use\ncase. A primary motivation for full RBF is to enable an increase of fee of\ntrxs and enable faster acceptance in Block should it be required.\n\nMotivation\nTo enable full RBF adoption without this impeding the 0-conf use case. This\ncan be done by enabling the primary use of case full RBF i.e increase the\nfee, while keeping the outputs of TRX1 to be included within TRX2.\n\nMethod\nTRX1 is the trx first published and held in Mempool, TRX2 is the trx which\ncomes to replace TRX1.\n\nIn order for a TRX2 to  replace TRX1 in the Mempool it will require the\nfollowing\n\n   - 1. Outputs (addresses and amounts) are the same TRX1 and TRX2\n\nOr\n\n\n   - 2. TRX2 Outputs include Outputs of TRX1 i.e TRX2 has additional\n   Outputs to TRX1\n\nBoth cases would require the addition of at least one Input in order to\nincrease the fee.\n\nIn such a case 0-conf acceptance of TRX1 will result in a harmless double\nspend since TRX1 will not be included in the valid UTXO set; however\nthe address beneficiaries of TRX1 will still be credited by TRX2.\n\nThis rule would enable the increasing of network fees post publication of\ntrx without the loss of 0-conf use case.\n\nDrawbacks\nDoes require access to another Input inorder to take advantage of Full RBF.\n\n\nSummary\nAccess to OptinRBF and FullRBF(with above limitation) would give actors\nfull access to increasing fees as an option. The 0-conf whose risks are\nvery much understood in the market can continue to exist as is, with the\n0-conf ongoing choices being continuing to be available to actors.\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221211/8df6a99e/attachment.html>"
            },
            {
                "author": "Yuval Kogman",
                "date": "2022-12-13T04:20:22",
                "message_text_only": "https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-13T08:08:59",
                "message_text_only": "Thank you for bringing that to my attention, apologies for not being aware\nof it.\n\nFirst-seen-safe replace-by-fee as detailed here\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\nby Peter Todd  seems to be a very suitable option and route which balances\nFullRBF while retaining  the significant 0-conf use case.\n\nThis would seem like a good way forward.\n\n\n\n________________________________\n\n\n\nOn Tue, Dec 13, 2022 at 6:20 AM Yuval Kogman <nothingmuch at woobling.org>\nwrote:\n\n>\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/c757eb76/attachment-0001.html>"
            },
            {
                "author": "John Carvalho",
                "date": "2022-12-13T09:59:36",
                "message_text_only": "Why wasn't this solution put in place back then? Are there problems with\nthe design?\n\nWhile I still think there are unhealthy side-effects of Full-RBF (like more\ndoublespending at unknowing merchants, after years of FSS protection) I\nthink discussion of this FSS-RBF feature is worth considering.\n\n--\nJohn Carvalho\nCEO, Synonym.to <http://synonym.to/>\n\n\nOn Tue, Dec 13, 2022 at 8:09 AM Daniel Lipshitz <daniel at gap600.com> wrote:\n\n> Thank you for bringing that to my attention, apologies for not being aware\n> of it.\n>\n> First-seen-safe replace-by-fee as detailed here\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n> by Peter Todd  seems to be a very suitable option and route\n> which balances FullRBF while retaining  the significant 0-conf use case.\n>\n> This would seem like a good way forward.\n>\n>\n>\n> ________________________________\n>\n>\n>\n> On Tue, Dec 13, 2022 at 6:20 AM Yuval Kogman <nothingmuch at woobling.org>\n> wrote:\n>\n>>\n>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/c18094a9/attachment-0001.html>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-13T11:33:00",
                "message_text_only": "I dont think there was anything technical with the implementation and as\nfar as I can tell this is well developed and ready.\n\nThe reasons I can find for not being adopted are listed here -\nhttps://bitcoincore.org/en/faq/optin_rbf/ under - Why not First-seen-safe\nReplace-by-fee\n\n Those reasons do not seem pertinent here - given OptinRBF already exists\nas an option and the added benefit of continuing to be able to support\n0-conf.\n\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n\n\nOn Tue, Dec 13, 2022 at 11:59 AM John Carvalho <john at synonym.to> wrote:\n\n> Why wasn't this solution put in place back then? Are there problems with\n> the design?\n>\n> While I still think there are unhealthy side-effects of Full-RBF (like\n> more doublespending at unknowing merchants, after years of FSS protection)\n> I think discussion of this FSS-RBF feature is worth considering.\n>\n> --\n> John Carvalho\n> CEO, Synonym.to <http://synonym.to/>\n>\n>\n> On Tue, Dec 13, 2022 at 8:09 AM Daniel Lipshitz <daniel at gap600.com> wrote:\n>\n>> Thank you for bringing that to my attention, apologies for not being\n>> aware of it.\n>>\n>> First-seen-safe replace-by-fee as detailed here\n>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>> by Peter Todd  seems to be a very suitable option and route\n>> which balances FullRBF while retaining  the significant 0-conf use case.\n>>\n>> This would seem like a good way forward.\n>>\n>>\n>>\n>> ________________________________\n>>\n>>\n>>\n>> On Tue, Dec 13, 2022 at 6:20 AM Yuval Kogman <nothingmuch at woobling.org>\n>> wrote:\n>>\n>>>\n>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>>\n>>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/6f6bc8d1/attachment-0001.html>"
            },
            {
                "author": "Lucas Ontivero",
                "date": "2022-12-13T14:00:26",
                "message_text_only": "Some wallets like Electrum would be affected by that because they use RBF\nto batch transactions so, outputs cannot be exactly the same as before.\n\nOn Tue, Dec 13, 2022 at 10:09 AM Daniel Lipshitz via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> I dont think there was anything technical with the implementation and as\n> far as I can tell this is well developed and ready.\n>\n> The reasons I can find for not being adopted are listed here -\n> https://bitcoincore.org/en/faq/optin_rbf/ under - Why not First-seen-safe\n> Replace-by-fee\n>\n>  Those reasons do not seem pertinent here - given OptinRBF already exists\n> as an option and the added benefit of continuing to be able to support\n> 0-conf.\n>\n> ________________________________\n>\n> Daniel Lipshitz\n> GAP600| www.gap600.com\n> Phone: +44 113 4900 117\n> Skype: daniellipshitz123\n> Twitter: @daniellipshitz\n>\n>\n> On Tue, Dec 13, 2022 at 11:59 AM John Carvalho <john at synonym.to> wrote:\n>\n>> Why wasn't this solution put in place back then? Are there problems with\n>> the design?\n>>\n>> While I still think there are unhealthy side-effects of Full-RBF (like\n>> more doublespending at unknowing merchants, after years of FSS protection)\n>> I think discussion of this FSS-RBF feature is worth considering.\n>>\n>> --\n>> John Carvalho\n>> CEO, Synonym.to <http://synonym.to/>\n>>\n>>\n>> On Tue, Dec 13, 2022 at 8:09 AM Daniel Lipshitz <daniel at gap600.com>\n>> wrote:\n>>\n>>> Thank you for bringing that to my attention, apologies for not being\n>>> aware of it.\n>>>\n>>> First-seen-safe replace-by-fee as detailed here\n>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>> by Peter Todd  seems to be a very suitable option and route\n>>> which balances FullRBF while retaining  the significant 0-conf use case.\n>>>\n>>> This would seem like a good way forward.\n>>>\n>>>\n>>>\n>>> ________________________________\n>>>\n>>>\n>>>\n>>> On Tue, Dec 13, 2022 at 6:20 AM Yuval Kogman <nothingmuch at woobling.org>\n>>> wrote:\n>>>\n>>>>\n>>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>>>\n>>> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/22889b45/attachment.html>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-13T14:08:10",
                "message_text_only": "This would not effect optinrbf only fullRBF\n\nOn Tue, 13 Dec 2022 at 16:00 Lucas Ontivero <lucasontivero at gmail.com> wrote:\n\n> Some wallets like Electrum would be affected by that because they use RBF\n> to batch transactions so, outputs cannot be exactly the same as before.\n>\n> On Tue, Dec 13, 2022 at 10:09 AM Daniel Lipshitz via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> I dont think there was anything technical with the implementation and as\n>> far as I can tell this is well developed and ready.\n>>\n>> The reasons I can find for not being adopted are listed here -\n>> https://bitcoincore.org/en/faq/optin_rbf/ under - Why not\n>> First-seen-safe Replace-by-fee\n>>\n>>  Those reasons do not seem pertinent here - given OptinRBF already exists\n>> as an option and the added benefit of continuing to be able to support\n>> 0-conf.\n>>\n>> ________________________________\n>>\n>> Daniel Lipshitz\n>> GAP600| www.gap600.com\n>> Phone: +44 113 4900 117\n>> Skype: daniellipshitz123\n>> Twitter: @daniellipshitz\n>>\n>>\n>> On Tue, Dec 13, 2022 at 11:59 AM John Carvalho <john at synonym.to> wrote:\n>>\n>>> Why wasn't this solution put in place back then? Are there problems with\n>>> the design?\n>>>\n>>> While I still think there are unhealthy side-effects of Full-RBF (like\n>>> more doublespending at unknowing merchants, after years of FSS protection)\n>>> I think discussion of this FSS-RBF feature is worth considering.\n>>>\n>>> --\n>>> John Carvalho\n>>> CEO, Synonym.to <http://synonym.to/>\n>>>\n>>>\n>>> On Tue, Dec 13, 2022 at 8:09 AM Daniel Lipshitz <daniel at gap600.com>\n>>> wrote:\n>>>\n>>>> Thank you for bringing that to my attention, apologies for not being\n>>>> aware of it.\n>>>>\n>>>> First-seen-safe replace-by-fee as detailed here\n>>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>>> by Peter Todd  seems to be a very suitable option and route\n>>>> which balances FullRBF while retaining  the significant 0-conf use case.\n>>>>\n>>>> This would seem like a good way forward.\n>>>>\n>>>>\n>>>>\n>>>> ________________________________\n>>>>\n>>>>\n>>>>\n>>>> On Tue, Dec 13, 2022 at 6:20 AM Yuval Kogman <nothingmuch at woobling.org>\n>>>> wrote:\n>>>>\n>>>>>\n>>>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>>>>\n>>>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> --\n________________________________\nDaniel Lipshitz\nGAP600\nwww.Gap600.com\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/2d2e901c/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-13T21:41:44",
                "message_text_only": "On Tue, Dec 13, 2022 at 01:33:00PM +0200, Daniel Lipshitz wrote:\n> I dont think there was anything technical with the implementation and as\n> far as I can tell this is well developed and ready.\n\nThere are lots of problems with my first-seen-safe proposal. The only reason I\nproposed it in 2015 was as a political compromise.\n\n> The reasons I can find for not being adopted are listed here -\n> https://bitcoincore.org/en/faq/optin_rbf/ under - Why not First-seen-safe\n> Replace-by-fee\n> \n>  Those reasons do not seem pertinent here - given OptinRBF already exists\n> as an option and the added benefit of continuing to be able to support\n> 0-conf.\n\nFirst-seen-safe is incompatible with the #1 reason why mempoolfullrbf was\nmerged into Bitcoin Core: multi-party transactions.\n\nWith multi-party transactions such as coinjoins and multi-party lightning\nchannels, we want full-rbf behavior because it avoids accidental double-spends\nholding up progress in these protocols. Second, for intentional DoS attacks, it\nmakes those attacks much more expensive by forcing the attacker to use\ntx-pinning.\n\nNothing less than full-rbf without restritions on outputs works for this\nuse-case. The only compromise possible is Antoine Riard's spent-nVersion\nsignalling proposal\u00b9, which has a significant, negative, privacy impact\u00b2. It\nalso increases costs and time in many cases, as you often have to create new\noutputs to flag full-rbf.\n\nThus we have a political tradeoff between a handful of centralized services\nsuch as yours that benefit from the first-seen status quo, and the much larger\ngroup of users that use Lightning and coinjoins. We've already been through\nsuch a political tradeoff before with the blocksize debate - again, the\ncentralized payment providers lost the debate.\n\n\nAnyway, my advice to you is to either change your business model to make use of\nscalable instant payment tech such as Lightning. Or give up on Bitcoin and\nexpand your business with other chians, such as BSV\u00b3. The fact is some hashing\npower is already beginning to run with full-rbf\u2074, and I fully expect that % to\nincrease over time.\n\n1) https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021144.html\n2) https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-December/021250.html\n3) https://www.gap600.com/bitcoin/gap600-supports-bsv/\n4) https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-December/021260.html\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/0da664f7/attachment-0001.sig>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-13T21:58:31",
                "message_text_only": "On Tue, 13 Dec 2022 at 23:41 Peter Todd <pete at petertodd.org> wrote:\n\n> On Tue, Dec 13, 2022 at 01:33:00PM +0200, Daniel Lipshitz wrote:\n> > I dont think there was anything technical with the implementation and as\n> > far as I can tell this is well developed and ready.\n>\n> There are lots of problems with my first-seen-safe proposal. The only\n> reason I\n> proposed it in 2015 was as a political compromise.\n>\n> > The reasons I can find for not being adopted are listed here -\n> > https://bitcoincore.org/en/faq/optin_rbf/ under - Why not\n> First-seen-safe\n> > Replace-by-fee\n> >\n> >  Those reasons do not seem pertinent here - given OptinRBF already exists\n> > as an option and the added benefit of continuing to be able to support\n> > 0-conf.\n>\n> First-seen-safe is incompatible with the #1 reason why mempoolfullrbf was\n> merged into Bitcoin Core: multi-party transactions.\n>\n> With multi-party transactions such as coinjoins and multi-party lightning\n> channels, we want full-rbf behavior because it avoids accidental\n> double-spends\n> holding up progress in these protocols.\n\nwhat is meant by accidental double spends ? And do you have any data as to\nhow often these occur and would cause harm?\n\nSecond, for intentional DoS attacks, it\n> makes those attacks much more expensive by forcing the attacker to use\n> tx-pinning.\n\nhow are these Dos attacks mitigated today if Full RBF is not in place ?\n\n>\n>\n> Nothing less than full-rbf without restritions on outputs works for this\n> use-case. The only compromise possible is Antoine Riard's spent-nVersion\n> signalling proposal\u00b9, which has a significant, negative, privacy impact\u00b2.\n> It\n> also increases costs and time in many cases, as you often have to create\n> new\n> outputs to flag full-rbf.\n>\n> Thus we have a political tradeoff between a handful of centralized services\n> such as yours that benefit from the first-seen status quo, and the much\n> larger\n> group of users that use Lightning and coinjoins.\n\nHow many users are currently using Lightning and coinjoins today ?\n\n> We've already been through\n> such a political tradeoff before with the blocksize debate - again, the\n> centralized payment providers lost the debate.\n\nI don\u2019t think this has anything to do with block size debate or\ndecentralisation just looking to protect a significant use case that has\nbeen in place - GAP600 is by no means the only service provider is this\nplace there are many merchants who do 0-conf on there own.\n\n>\n>\n>\n> Anyway, my advice to you is to either change your business model to make\n> use of\n> scalable instant payment tech such as Lightning. Or give up on Bitcoin and\n> expand your business with other chians, such as BSV\u00b3. The fact is some\n> hashing\n> power is already beginning to run with full-rbf\u2074, and I fully expect that\n> % to\n> increase over time.\n>\n> 1)\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021144.html\n> 2)\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-December/021250.html\n> 3) https://www.gap600.com/bitcoin/gap600-supports-bsv/\n> 4)\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-December/021260.html\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-- \n________________________________\nDaniel Lipshitz\nGAP600\nwww.Gap600.com\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/5169f876/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-16T21:14:33",
                "message_text_only": "On Tue, Dec 13, 2022 at 11:58:31PM +0200, Daniel Lipshitz wrote:\n> > With multi-party transactions such as coinjoins and multi-party lightning\n> > channels, we want full-rbf behavior because it avoids accidental\n> > double-spends\n> > holding up progress in these protocols.\n> \n> what is meant by accidental double spends ? And do you have any data as to\n> how often these occur and would cause harm?\n\nA double-spend of an input to a multiparty transaction that isn't maximally\ntrying to exploit transaction pinning. For example, Wasabi has found many cases\nof users imported the same seed into different wallets. This is quite hard to\navoid in decentralized wallets.\n\n> Second, for intentional DoS attacks, it\n> > makes those attacks much more expensive by forcing the attacker to use\n> > tx-pinning.\n> \n> how are these Dos attacks mitigated today if Full RBF is not in place ?\n\nThey aren't. During congested mempool conditions an attacker could cause\nsignificant delays to multi-party transactions without full-rbf. Fortunately,\nthe mempool regularly empties right now. But that has not been true in the\npast, we can not guarantee that, and for Bitcoin to remain secure without\ninflation or demmurage in the future, we have to operate under full-mempools\nwith significant backlogs of transactions.\n\n> > Thus we have a political tradeoff between a handful of centralized services\n> > such as yours that benefit from the first-seen status quo, and the much\n> > larger\n> > group of users that use Lightning and coinjoins.\n> \n> How many users are currently using Lightning and coinjoins today ?\n\nWallet of Satoshi, one of many Lightning wallets, claims to be performing\n12,500 transactions/day: https://twitter.com/kerooke/status/1603812141966016520\n\nBitcoin as a whole currently does about 300,000 transactions per day(1). So that\none single Lightning wallet represents roughly 4% of the total payment volume\nof Bitcoin. Wallet of Satoshi, BlueWallet, and SBW all have 100K+ downloads on\nthe Google Play store. So a reasonable guess is they're equally popular. Which\nmeans they collectively represent 12% of the total number of transactions on\nBitcoin. You claimed GAP600 was queried for 900,000 unique tx hashes per\nmonth(2), or about 10% of total transactions.\n\n\nI don't have statistics for number of coinjoin transactions per day, or the\nblockspace used. But Wasabi have published (reproducable) data showing that\ncurrently about 750BTC/day are entering Wasabi 2.0 coinjoins:\nhttps://mobile.twitter.com/wasabiwallet/status/1603366008437325828\n\nYou claimed GAP600 was responsible for USD $220 million of transaction\nvolume(2), significantly less than the ~$400 million / month that Wasabi\ncoinjoins alone represent. And of course, Wasabi is just one of three main\ncoinjoin implementations.\n\n> > We've already been through\n> > such a political tradeoff before with the blocksize debate - again, the\n> > centralized payment providers lost the debate.\n> \n> I don\u2019t think this has anything to do with block size debate or\n> decentralisation just looking to protect a significant use case that has\n> been in place - GAP600 is by no means the only service provider is this\n> place there are many merchants who do 0-conf on there own.\n\nYou claimed that GAP600 handled about 10% of all transactions. Obviously, if\nthat is true, that indicates a very high degree of centralization. It is\nextremely undesirable for Bitcoin for one single entity with, as I understand\nit, AML/KYC to handle 10% of all transactions. Probably an even higher\npercentage when you take into account that only a minority of transactions are\nmerchant payment-type transactions where unconfirmed transactions would have\nany relevance at all.\n\nYou claim that there are \"many merchants\" who do 0-conf on their own. Can you\nlist more examples of those merchants? Surely if there are \"many\" of them, you\ncould easily give us four or five more examples so this list can evaluate what\nkinds of security guarantees they're actually relying on.\n\n1) https://ycharts.com/indicators/bitcoin_transactions_per_day\n2) https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-December/021239.html\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221216/800096da/attachment.sig>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-18T08:06:15",
                "message_text_only": "GAP600 is not a trxs processor or liquidity provider we service merchants,\npayment processors & non-custodial liquidity providers - our service is\npurely the 0-conf enabling our clients to accept 0-conf. Clients access our\nservice via API - sending us the Trx hash & output address. Our service is\nnot based on AML/KYC it is purely an analysis of the Bitcoin network.\n\nI am not at liberty to share names of other services which have developed\ntheir own 0-conf service - they include a payment processor on a gambling\nplatform which services multiple gambling operators, a standalone gaming\npayment processor, and a payment processor recently I have come across. We\nalso do not have a significant presence in Asia - so I don't have\nvisibility there.\n\nI see from the Wallet of Satoshis website that they are a custodial wallet\nprovider.\n\nI don't see it being necessarily an either/or approach here. The risk\nlooking to be mitigated with FullRBF seems to be able to be mitigated with\nFullRBF but with a swop limitation of at least the Inputs of Trx1 being in\nTrx2 - no flagging required. Added to this all these trxs always have the\nOptinRBF so if these platforms need to be able to recreate completely their\ntrxs they have that option as well. The option to Swop out or bump up trxs\nseems to be well covered under those two options.\n\nThe case of creating multiple wallets with the same seeds seems to be an\nedge case - and to do that and then recreate accidental double spends as a\nresult sounds like an extreme edge case which I would not think should be a\nprotocol consideration.\n\n________________________________\n\nDaniel Lipshitz\nGAP600| www.gap600.com\nPhone: +44 113 4900 117\nSkype: daniellipshitz123\nTwitter: @daniellipshitz\n\n\nOn Fri, Dec 16, 2022 at 11:14 PM Peter Todd <pete at petertodd.org> wrote:\n\n> On Tue, Dec 13, 2022 at 11:58:31PM +0200, Daniel Lipshitz wrote:\n> > > With multi-party transactions such as coinjoins and multi-party\n> lightning\n> > > channels, we want full-rbf behavior because it avoids accidental\n> > > double-spends\n> > > holding up progress in these protocols.\n> >\n> > what is meant by accidental double spends ? And do you have any data as\n> to\n> > how often these occur and would cause harm?\n>\n> A double-spend of an input to a multiparty transaction that isn't maximally\n> trying to exploit transaction pinning. For example, Wasabi has found many\n> cases\n> of users imported the same seed into different wallets. This is quite hard\n> to\n> avoid in decentralized wallets.\n>\n> > Second, for intentional DoS attacks, it\n> > > makes those attacks much more expensive by forcing the attacker to use\n> > > tx-pinning.\n> >\n> > how are these Dos attacks mitigated today if Full RBF is not in place ?\n>\n> They aren't. During congested mempool conditions an attacker could cause\n> significant delays to multi-party transactions without full-rbf.\n> Fortunately,\n> the mempool regularly empties right now. But that has not been true in the\n> past, we can not guarantee that, and for Bitcoin to remain secure without\n> inflation or demmurage in the future, we have to operate under\n> full-mempools\n> with significant backlogs of transactions.\n>\n> > > Thus we have a political tradeoff between a handful of centralized\n> services\n> > > such as yours that benefit from the first-seen status quo, and the much\n> > > larger\n> > > group of users that use Lightning and coinjoins.\n> >\n> > How many users are currently using Lightning and coinjoins today ?\n>\n> Wallet of Satoshi, one of many Lightning wallets, claims to be performing\n> 12,500 transactions/day:\n> https://twitter.com/kerooke/status/1603812141966016520\n>\n> Bitcoin as a whole currently does about 300,000 transactions per day(1).\n> So that\n> one single Lightning wallet represents roughly 4% of the total payment\n> volume\n> of Bitcoin. Wallet of Satoshi, BlueWallet, and SBW all have 100K+\n> downloads on\n> the Google Play store. So a reasonable guess is they're equally popular.\n> Which\n> means they collectively represent 12% of the total number of transactions\n> on\n> Bitcoin. You claimed GAP600 was queried for 900,000 unique tx hashes per\n> month(2), or about 10% of total transactions.\n>\n>\n> I don't have statistics for number of coinjoin transactions per day, or the\n> blockspace used. But Wasabi have published (reproducable) data showing that\n> currently about 750BTC/day are entering Wasabi 2.0 coinjoins:\n> https://mobile.twitter.com/wasabiwallet/status/1603366008437325828\n>\n> You claimed GAP600 was responsible for USD $220 million of transaction\n> volume(2), significantly less than the ~$400 million / month that Wasabi\n> coinjoins alone represent. And of course, Wasabi is just one of three main\n> coinjoin implementations.\n>\n> > > We've already been through\n> > > such a political tradeoff before with the blocksize debate - again, the\n> > > centralized payment providers lost the debate.\n> >\n> > I don\u2019t think this has anything to do with block size debate or\n> > decentralisation just looking to protect a significant use case that has\n> > been in place - GAP600 is by no means the only service provider is this\n> > place there are many merchants who do 0-conf on there own.\n>\n> You claimed that GAP600 handled about 10% of all transactions. Obviously,\n> if\n> that is true, that indicates a very high degree of centralization. It is\n> extremely undesirable for Bitcoin for one single entity with, as I\n> understand\n> it, AML/KYC to handle 10% of all transactions. Probably an even higher\n> percentage when you take into account that only a minority of transactions\n> are\n> merchant payment-type transactions where unconfirmed transactions would\n> have\n> any relevance at all.\n>\n> You claim that there are \"many merchants\" who do 0-conf on their own. Can\n> you\n> list more examples of those merchants? Surely if there are \"many\" of them,\n> you\n> could easily give us four or five more examples so this list can evaluate\n> what\n> kinds of security guarantees they're actually relying on.\n>\n> 1) https://ycharts.com/indicators/bitcoin_transactions_per_day\n> 2)\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-December/021239.html\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221218/134b4266/attachment-0001.html>"
            },
            {
                "author": "Daniel Lipshitz",
                "date": "2022-12-14T08:12:30",
                "message_text_only": "A 0-conf double spend caused by FSS-RBF would be harmless since the\noriginal output (address and amounts) remain in the double spending trx.\n\nSo all a merchant would need to do is monitor  block inclusion for the\nrelevant output. Addition of some wallet logic would resolve it easily.\n\nTechnically the only difference is that a FSS-RBF requires an additional\ninput trx to be included in the second trx.\n\nNot clear to me, why the limitation of adding an additional input hinders\nthe added value of FullRBF and how significant that hinderance is.\n\n\n\nOn Tue, 13 Dec 2022 at 11:59 John Carvalho <john at synonym.to> wrote:\n\n> Why wasn't this solution put in place back then? Are there problems with\n> the design?\n>\n> While I still think there are unhealthy side-effects of Full-RBF (like\n> more doublespending at unknowing merchants, after years of FSS protection)\n> I think discussion of this FSS-RBF feature is worth considering.\n>\n> --\n> John Carvalho\n> CEO, Synonym.to <http://synonym.to/>\n>\n>\n> On Tue, Dec 13, 2022 at 8:09 AM Daniel Lipshitz <daniel at gap600.com> wrote:\n>\n>> Thank you for bringing that to my attention, apologies for not being\n>> aware of it.\n>>\n>> First-seen-safe replace-by-fee as detailed here\n>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>> by Peter Todd  seems to be a very suitable option and route\n>> which balances FullRBF while retaining  the significant 0-conf use case.\n>>\n>> This would seem like a good way forward.\n>>\n>>\n>>\n>> ________________________________\n>>\n>>\n>>\n>> On Tue, Dec 13, 2022 at 6:20 AM Yuval Kogman <nothingmuch at woobling.org>\n>> wrote:\n>>\n>>>\n>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>>\n>> --\n________________________________\nDaniel Lipshitz\nGAP600\nwww.Gap600.com\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221214/aa2e6d65/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-12-14T17:41:17",
                "message_text_only": "NACK\n\nsupport for 0-conf is harmful for reasons already stated ad nauseum\n\n\n\nOn Wed, Dec 14, 2022 at 4:58 AM Daniel Lipshitz via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> A 0-conf double spend caused by FSS-RBF would be harmless since the\n> original output (address and amounts) remain in the double spending trx.\n>\n> So all a merchant would need to do is monitor  block inclusion for the\n> relevant output. Addition of some wallet logic would resolve it easily.\n>\n> Technically the only difference is that a FSS-RBF requires an additional\n> input trx to be included in the second trx.\n>\n> Not clear to me, why the limitation of adding an additional input hinders\n> the added value of FullRBF and how significant that hinderance is.\n>\n>\n>\n> On Tue, 13 Dec 2022 at 11:59 John Carvalho <john at synonym.to> wrote:\n>\n>> Why wasn't this solution put in place back then? Are there problems with\n>> the design?\n>>\n>> While I still think there are unhealthy side-effects of Full-RBF (like\n>> more doublespending at unknowing merchants, after years of FSS protection)\n>> I think discussion of this FSS-RBF feature is worth considering.\n>>\n>> --\n>> John Carvalho\n>> CEO, Synonym.to <http://synonym.to/>\n>>\n>>\n>> On Tue, Dec 13, 2022 at 8:09 AM Daniel Lipshitz <daniel at gap600.com>\n>> wrote:\n>>\n>>> Thank you for bringing that to my attention, apologies for not being\n>>> aware of it.\n>>>\n>>> First-seen-safe replace-by-fee as detailed here\n>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>> by Peter Todd  seems to be a very suitable option and route\n>>> which balances FullRBF while retaining  the significant 0-conf use case.\n>>>\n>>> This would seem like a good way forward.\n>>>\n>>>\n>>>\n>>> ________________________________\n>>>\n>>>\n>>>\n>>> On Tue, Dec 13, 2022 at 6:20 AM Yuval Kogman <nothingmuch at woobling.org>\n>>> wrote:\n>>>\n>>>>\n>>>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008248.html\n>>>>\n>>> --\n> ________________________________\n> Daniel Lipshitz\n> GAP600\n> www.Gap600.com\n>\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221214/5b534adb/attachment-0001.html>"
            }
        ],
        "thread_summary": {
            "title": "A proposal for Full RBF to not exclude Zero Conf use case",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Lucas Ontivero",
                "Yuval Kogman",
                "John Carvalho",
                "Peter Todd",
                "Erik Aronesty",
                "Daniel Lipshitz"
            ],
            "messages_count": 13,
            "total_messages_chars_count": 32874
        }
    },
    {
        "title": "[bitcoin-dev] Bitcoin Contracting Primitives WG 2nd Meeting, Tuesday 20 Dec. 18:00 UTC",
        "thread_messages": [
            {
                "author": "Antoine Riard",
                "date": "2022-12-12T16:13:07",
                "message_text_only": "Hi list,\n\nI'm proposing Tuesday 20th December at 18:00 UTC, i.e 1 week from now for\nthe 2nd Bitcoin contracting primitives WG meeting.\n\nAs a soft proposal for an agenda, the first part could be to roam over all\nthe contracting protocol use-cases and corresponding primitives, to ensure\nthere is exhaustivity of the R&D effort w.r.t known ideas issued by the\ncommunity during the past years. If you have been working on a primitive\nand corresponding use-cases, and it's missing in the current listing, feel\nfree to open a PR or bump me to do so.\n\nThe second part could be to take time to listen to everyone blockers in\ntheir contracting primitives/covenant research, if someone would like more\nreview on their proposals, or if someone would like to work on a code\nimplementation and it misses familiarity with Bitcoin Core Script\ninterpreter, or if someone would like to experiment a minimal use-case on\nbitcoin-inquisition, or if someone has conceptual questions on the\nprimitive design approach, or if someone thinking to propose a new\ncryptosystem at the consensus-level for Bitcoin, or whatever [0].\n\nCommunication venue is #bitcoin-contracting-primitives-wg on Libera Chat.\nLogs of the previous session are available here [1].\n\nLet it know if you have more questions or feedback.\n\nCheers,\nAntoine\n\n[0] My own goal is to keep rolling the ball on a taproot annex\nimplementation (https://github.com/bitcoin-inquisition/bitcoin/pull/9) as\nit could be useful as a fee-bumping primitive/constrained amount\nmalleability extension for multi-party channels, and potentially other uses.\n\n[1]\nhttps://github.com/ariard/bitcoin-contracting-primitives-wg/blob/main/meetings/meetings-15-11.md\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221212/b0d0efab/attachment.html>"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-12-20T02:35:04",
                "message_text_only": "Reminder: this is happening this _upcoming_ Tuesday.\n\nLooking forward to the second session to roam over all the contracting\nprotocol use-cases and primitives and then listen to everyone doing\nresearch in the contracting primitives/covenant spaces, where they would\nlike more brain power!\n\nBest,\nAntoine\n\n\n\nLe lun. 12 d\u00e9c. 2022 \u00e0 16:13, Antoine Riard <antoine.riard at gmail.com> a\n\u00e9crit :\n\n> Hi list,\n>\n> I'm proposing Tuesday 20th December at 18:00 UTC, i.e 1 week from now for\n> the 2nd Bitcoin contracting primitives WG meeting.\n>\n> As a soft proposal for an agenda, the first part could be to roam over all\n> the contracting protocol use-cases and corresponding primitives, to ensure\n> there is exhaustivity of the R&D effort w.r.t known ideas issued by the\n> community during the past years. If you have been working on a primitive\n> and corresponding use-cases, and it's missing in the current listing, feel\n> free to open a PR or bump me to do so.\n>\n> The second part could be to take time to listen to everyone blockers in\n> their contracting primitives/covenant research, if someone would like more\n> review on their proposals, or if someone would like to work on a code\n> implementation and it misses familiarity with Bitcoin Core Script\n> interpreter, or if someone would like to experiment a minimal use-case on\n> bitcoin-inquisition, or if someone has conceptual questions on the\n> primitive design approach, or if someone thinking to propose a new\n> cryptosystem at the consensus-level for Bitcoin, or whatever [0].\n>\n> Communication venue is #bitcoin-contracting-primitives-wg on Libera Chat.\n> Logs of the previous session are available here [1].\n>\n> Let it know if you have more questions or feedback.\n>\n> Cheers,\n> Antoine\n>\n> [0] My own goal is to keep rolling the ball on a taproot annex\n> implementation (https://github.com/bitcoin-inquisition/bitcoin/pull/9) as\n> it could be useful as a fee-bumping primitive/constrained amount\n> malleability extension for multi-party channels, and potentially other uses.\n>\n> [1]\n> https://github.com/ariard/bitcoin-contracting-primitives-wg/blob/main/meetings/meetings-15-11.md\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221220/7f7e84b6/attachment.html>"
            }
        ],
        "thread_summary": {
            "title": "Bitcoin Contracting Primitives WG 2nd Meeting, Tuesday 20 Dec. 18:00 UTC",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Antoine Riard"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 4187
        }
    },
    {
        "title": "[bitcoin-dev] Full-RBF Peering Bitcoin Core v24.0.1 Released",
        "thread_messages": [
            {
                "author": "Peter Todd",
                "date": "2022-12-12T20:41:57",
                "message_text_only": "Available from: https://github.com/petertodd/bitcoin/tree/full-rbf-v24.0.1\n\neg:\n\n    git clone -b full-rbf-v24.0.1 https://github.com/petertodd/bitcoin.git\n\nWhat is this? It's Bitcoin Core v24.0.1, with Antoine Riard's full-rbf peering\ncode, and some additional minor updates to it. This does two things for\nfull-rbf nodes:\n\n1) Advertises a FULL_RBF service bit when mempoolfullrbf=1 is set.\n2) Connects to four additional FULL_RBF peers.\n\nDoing this ensures that a core group of nodes are reliably propagating full-rbf\nreplacements. We don't need everyone to run this. But it'd be helpful if more\npeople did.\n\nRight now I'd estimate that there are ~30 reliable nodes accepting incoming\nconnections and running the v24.0 version of this branch. Additionally there\nare another ~50 reliable Bitcoin Knots nodes accepting incoming connections;\nKnots advertises the service bit, but doesn't have the peering code.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221212/a83ed4c9/attachment.sig>"
            }
        ],
        "thread_summary": {
            "title": "Full-RBF Peering Bitcoin Core v24.0.1 Released",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Peter Todd"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 1236
        }
    },
    {
        "title": "[bitcoin-dev] libsecp256k1 version 0.2.0 released",
        "thread_messages": [
            {
                "author": "Pieter Wuille",
                "date": "2022-12-12T22:47:08",
                "message_text_only": "Hi,\n\nAfter not even 10 years of development, we'd like to announce the first tagged release of libsecp256k1, version 0.2.0:\n\n\u00a0 \u00a0 https://github.com/bitcoin-core/secp256k1/releases/tag/v0.2.0\n\nFor a long time, libsecp256k1's development only had a master branch, creating unclarity about API compatibility and stability. Going forward, we will be creating tagged releases when relevant improvements are merged, following a semantic versioning scheme. This is not yet a version 1.0.0 as there are some important improvements we'd like to make before that point. We do reserve the ability to introduce API breaks, but promise clear documentation of such changes.\n\nWe're skipping version 0.1.0 because this version number was set in our autotools build scripts for years, and does not uniquely identify a set of source files. We will not be creating binary releases, but will take expected ABI compatibility issues into account for release notes and versioning.\n\nThe release tag is signed with my PGP key: https://bitcoin.sipa.be/sipa.asc\n\nGrab it while it's hot. We welcome suggestions for the release process going forward.\n\nCheers,\n\n-- \nthe libsecp256k1 maintainers"
            }
        ],
        "thread_summary": {
            "title": "libsecp256k1 version 0.2.0 released",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Pieter Wuille"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 1164
        }
    },
    {
        "title": "[bitcoin-dev] bitcoin-inquistion 23.0: evaluating soft forks on signet",
        "thread_messages": [
            {
                "author": "Anthony Towns",
                "date": "2022-12-13T04:42:18",
                "message_text_only": "Hi *,\n\nBitcoin Inquisition 23.0 is tagged:\n\n  https://github.com/bitcoin-inquisition/bitcoin/releases/tag/inq-v23.0\n\nIt includes support for BIP 118 (ANYPREVOUT) and BIP 119\n(CHECKTEMPLATEVERIFY) on regtest and signet.\n\nAs previously discussed, the hope is that this will allow more\nexperimentation and building a greater understanding of the risks,\nbenefits, and tradeoffs of proposals like BIP 118 and BIP 119.\n\nFor an initial trial period, we've switched to mining 100% of blocks on\nthe default global signet using this patchset. However should a problem\noccur (eg the node software crashing, or some unintended hard fork being\ntriggered), the signet miners are configured to automatically fall back to\nusing bitcoin core nodes to ensure that signet continues to be available.\n\nIn order to more reliably relay transactions using the new soft forks,\nyou may wish to manually connect to a node that supports these features;\nyou can do so by specifying:\n\n  addnode=inquisition.bitcoin-signet.net\n  addnode=phfrpeh47vpjvoi2dgpngfk6ynl7vbnxwekwtcpg3zancixnnjvq.b32.i2p\n\nIf you are trying to do experiments with signet and would like a\nlarger budget than the various faucets will give you, please join the\n#bitcoin-signet IRC channel on Libera, and let us know. That applies\nwhether or not you're making use of inquisition-y features!\n\nIf you wish to enable these soft forks on a custom signet, you should mine\na block with version 0x60007600 (BIP 118) and/or version 0x60007700 (BIP\n119), then monitor activation using `bitcoin-cli getdeploymentinfo`. The\ninquisition node software should also correctly validate/relay CTV\ntransactions on the existing ctv signet (ctvsignet.com).\n\nAs one simple bit of experimentation, block rewards are currently being\nsent to the address\n\n  tb1pwzv7fv35yl7ypwj8w7al2t8apd6yf4568cs772qjwper74xqc99sk8x7tk\n\nThis is a taproot address with an ANYPREVOUT script path (\"OP_1\nOP_CHECKSIG\"), which has an example spend splitting 1000 sBTC into 900\nsBTC for Kalle's mining wallet and 100 sBTC into mine:\n\n  https://mempool.space/signet/tx/2ba88276dee53abdff23258b7f5b8d41005c69f03dc9a5bb9d5cb7b7f41f3e45\n\nBecause this transaction was signed with an ANYPREVOUTANYSCRIPT|ALL\nsignature, that signature can be replayed with other utxos of that pubkey,\neg in the following transaction:\n\n  https://mempool.space/signet/tx/ef8b3351def1163da97f51b8d2cba53c9671dfbd69ae4b1278506b9282bfbdea\n\nThat transaction was generated by setting up a watchonly wallet to\nmonitor that address:\n\n  $ bitcoin-cli -signet createwallet testapo true false '' false true true\n  $ bitcoin-cli -signet -rpcwallet=testapo importdescriptors '[{\"desc\":\"addr(tb1pwzv7fv35yl7ypwj8w7al2t8apd6yf4568cs772qjwper74xqc99sk8x7tk)#30t3uj6k\", \"active\":false, \"timestamp\":1670803200}]'\n\nthen manually putting together sufficient inputs to fund the required\nsigned outputs (with the excess going to fees, and hence back to the\noriginal address since that's where mining payouts are being sent)\nand adding the same witness data once for each input:\n\n  $ (X=20; printf \"020000000001%02x\" $X;\n     bitcoin-cli -signet -rpcwallet=testapo listunspent | jq -j '.[] | (.txid, \" \", .vout, \"\\n\")' | head -n$X |\n       while read txid vout; do\n         rtxid=$(echo $txid | sed 's/../& /g' | tr ' ' '\\n' | tac | tr -d '\\n');\n         printf \"%s%02x%06x00ffffffff\" \"$rtxid\" \"$vout\";\n       done;\n       printf \"0200046bf41400000016001481113cad52683679a83e76f76f84a4cfe36f750100e40b54020000001600141b94e6a88e7bfb3a552d6888b102c4f615dc2f56\";\n       for a in `seq 1 $X`; do\n         printf \"034189d888393f0c46872fbd002b3523cf58dd474ab86014096bdf69e5248cc06cd6f4b5a223053eb97a708b47ed1d25ad26be7f197536af86ad3389cb1d53a0e643c10251ac21c0624aa2e3277b1f5d667c5acc0ec58eccad8c8be7c7815e122d2b65127f8b0e28\";\n       done; \n       echo \"00000000\"\n     )  | sed 's/^/[\"/;s/$/\"]/' | bitcoin-cli -stdin -signet testmempoolaccept\n\nThat should be something anyone running an inquisition client can\nduplicate (err, if you can handle the awesomeness of my shell one-liners);\nthough doing more than just testmempoolaccept will be naturally rate\nlimited as it spends 20 blocks worth of reward. There shouldn't be any\nway of turning it into a profit, or much of a denial-of-service attack,\nbut if you find one, that's probably new information about BIP 118! (One\nthing you could do is use it as a way of creating an excessively high\nCPFP feerate, though without package relay, and on signet, that's probably\nnot terribly useful)\n\nFinally, yes this is based on Bitcoin Core version 23.0 when 24.0.1\nhas just been released. The plan in general is to keep inquisition\nfocussed on released versions of core to minimise rebasing, and more\nconcretely, to start forward porting the current patches to that now\nthat it has been released, and possibly consider including support for\nadditional BIPs (ideas so far include: defining annex interpretation and\npackage rbf). Discussion of those ideas welcome (on list, on the repo,\nor #bitcoin-signet or #bitcoin-contracting-primitives-wg are probably\ngood choices).\n\nLinks:\n - Original proposal: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-September/020921.html\n - Wiki: https://github.com/bitcoin-inquisition/bitcoin/wiki\n - PRs: https://github.com/bitcoin-inquisition/bitcoin/pulls?q=is%3Apr\n - discussion about testing segwit on testnet:\n    https://www.erisian.com.au/bitcoin-core-dev/log-2016-06-23.html#l-280\n\nCheers,\naj"
            }
        ],
        "thread_summary": {
            "title": "bitcoin-inquistion 23.0: evaluating soft forks on signet",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Anthony Towns"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 5426
        }
    },
    {
        "title": "[bitcoin-dev] Bitcoin Core 24.0.1 Released",
        "thread_messages": [
            {
                "author": "Michael Ford",
                "date": "2022-12-13T12:06:47",
                "message_text_only": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA256\n\nDue to last-minute issues (https://github.com/bitcoin/bitcoin/pull/26616),\n24.0, although tagged, was never fully announced or released.\n\nBitcoin Core version 24.0.1 is now available from:\n\n  https://bitcoincore.org/bin/bitcoin-core-24.0.1/\n\nOr through BitTorrent:\n\n\n magnet:?xt=urn:btih:d7604a67c8ed6e3b35da15138f8ac81d7618788c&dn=bitcoin-core-24.0.1&tr=udp%3A%2F%\n2Ftracker.openbittorrent.com%3A80&tr=udp%3A%2F%2Ftracker.opentrackr.org\n%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.coppersurfer.tk\n%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.leechers-paradise.org\n%3A6969%2Fannounce&tr=udp%3A%2F%2Fexplodie.org%3A6969%2Fannounce&tr=udp%3A%2F%\n2Ftracker.torrent.eu.org%3A451%2Fannounce&tr=udp%3A%2F%\n2Ftracker.bitcoin.sprovoost.nl%3A6969\n\nThis release includes new features, various bug fixes and performance\nimprovements, as well as updated translations.\n\nPlease report bugs using the issue tracker at GitHub:\n\n  <https://github.com/bitcoin/bitcoin/issues>\n\nTo receive security and update notifications, please subscribe to:\n\n  <https://bitcoincore.org/en/list/announcements/join/>\n\nHow to Upgrade\n==============\n\nIf you are running an older version, shut it down. Wait until it has\ncompletely\nshut down (which might take a few minutes in some cases), then run the\ninstaller (on Windows) or just copy over `/Applications/Bitcoin-Qt` (on\nmacOS)\nor `bitcoind`/`bitcoin-qt` (on Linux).\n\nUpgrading directly from a version of Bitcoin Core that has reached its EOL\nis\npossible, but it might take some time if the data directory needs to be\nmigrated. Old\nwallet versions of Bitcoin Core are generally supported.\n\nCompatibility\n==============\n\nBitcoin Core is supported and extensively tested on operating systems\nusing the Linux kernel, macOS 10.15+, and Windows 7 and newer.  Bitcoin\nCore should also work on most other Unix-like systems but is not as\nfrequently tested on them.  It is not recommended to use Bitcoin Core on\nunsupported systems.\n\nNotice of new option for transaction replacement policies\n=========================================================\n\nThis version of Bitcoin Core adds a new `mempoolfullrbf` configuration\noption which allows users to change the policy their individual node\nwill use for relaying and mining unconfirmed transactions.  The option\ndefaults to the same policy that was used in previous releases and no\nchanges to node policy will occur if everyone uses the default.\n\nSome Bitcoin services today expect that the first version of an\nunconfirmed transaction that they see will be the version of the\ntransaction that ultimately gets confirmed---a transaction acceptance\npolicy sometimes called \"first-seen\".\n\nThe Bitcoin Protocol does not, and cannot, provide any assurance that\nthe first version of an unconfirmed transaction seen by a particular\nnode will be the version that gets confirmed.  If there are multiple\nversions of the same unconfirmed transaction available, only the miner\nwho includes one of those transactions in a block gets to decide which\nversion of the transaction gets confirmed.\n\nDespite this lack of assurance, multiple merchants and services today\nstill make this assumption.\n\nThere are several benefits to users from removing this *first-seen*\nsimplification.  One key benefit, the ability for the sender of a\ntransaction to replace it with an alternative version paying higher\nfees, was realized in [Bitcoin Core 0.12.0][] (February 2016) with the\nintroduction of [BIP125][] opt-in Replace By Fee (RBF).\n\nSince then, there has been discussion about completely removing the\nfirst-seen simplification and allowing users to replace any of their\nolder unconfirmed transactions with newer transactions, a feature called\n*full-RBF*.  This release includes a `mempoolfullrbf` configuration\noption that allows enabling full-RBF, although it defaults to off\n(allowing only opt-in RBF).\n\nSeveral alternative node implementations have already enabled full-RBF by\ndefault for years, and several contributors to Bitcoin Core are\nadvocating for enabling full-RBF by default in a future version of\nBitcoin Core.\n\nAs more nodes that participate in relay and mining begin enabling\nfull-RBF, replacement of unconfirmed transactions by ones offering higher\nfees may rapidly become more reliable.\n\nContributors to this project strongly recommend that merchants and services\nnot accept unconfirmed transactions as final, and if they insist on doing\nso,\nto take the appropriate steps to ensure they have some recourse or plan for\nwhen their assumptions do not hold.\n\n[Bitcoin Core 0.12.0]:\nhttps://bitcoincore.org/en/releases/0.12.0/#opt-in-replace-by-fee-transactions\n[bip125]: https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki\n\nNotable changes\n===============\n\nP2P and network changes\n- - -----------------------\n\n- - - To address a potential denial-of-service, the logic to download\nheaders\nfrom peers\n  has been reworked.  This is particularly relevant for nodes starting up\nfor the\n  first time (or for nodes which are starting up after being offline for a\nlong time).\n\n  Whenever headers are received from a peer that have a total chainwork\nthat is either\n  less than the node's `-minimumchainwork` value or is sufficiently below\nthe work at\n  the node's tip, a \"presync\" phase will begin, in which the node will\ndownload the\n  peer's headers and verify the cumulative work on the peer's chain, prior\nto storing\n  those headers permanently. Once that cumulative work is verified to be\nsufficiently high,\n  the headers will be redownloaded from that peer and fully validated and\nstored.\n\n  This may result in initial headers sync taking longer for new nodes\nstarting up for\n  the first time, both because the headers will be downloaded twice, and\nbecause the effect\n  of a peer disconnecting during the presync phase (or while the node's\nbest headers chain has less\n  than `-minimumchainwork`), will result in the node needing to use the\nheaders presync mechanism\n  with the next peer as well (downloading the headers twice, again).\n(#25717)\n\n- - - With I2P connections, a new, transient address is used for each\noutbound\n  connection if `-i2pacceptincoming=0`. (#25355)\n\nUpdated RPCs\n- - ------------\n\n- - - The `-deprecatedrpc=softforks` configuration option has been removed.\nThe\n  RPC `getblockchaininfo` no longer returns the `softforks` field, which was\n  previously deprecated in 23.0. (#23508) Information on soft fork status is\n  now only available via the `getdeploymentinfo` RPC.\n\n- - - The `deprecatedrpc=exclude_coinbase` configuration option has been\nremoved.\n  The `receivedby` RPCs (`listreceivedbyaddress`, `listreceivedbylabel`,\n  `getreceivedbyaddress` and `getreceivedbylabel`) now always return results\n  accounting for received coins from coinbase outputs, without an option to\n  change that behaviour. Excluding coinbases was previously deprecated in\n23.0.\n  (#25171)\n\n- - - The `deprecatedrpc=fees` configuration option has been removed. The\ntop-level\n  fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees` are\nno\n  longer returned by RPCs `getmempoolentry`, `getrawmempool(verbose=true)`,\n  `getmempoolancestors(verbose=true)` and\n`getmempooldescendants(verbose=true)`.\n  The same fee fields can be accessed through the `fees` object in the\nresult.\n  The top-level fee fields were previously deprecated in 23.0. (#25204)\n\n- - - The `getpeerinfo` RPC has been updated with a new `presynced_headers`\nfield,\n  indicating the progress on the presync phase mentioned in the\n  \"P2P and network changes\" section above.\n\nChanges to wallet related RPCs can be found in the Wallet section below.\n\nNew RPCs\n- - --------\n\n- - - The `sendall` RPC spends specific UTXOs to one or more recipients\n  without creating change. By default, the `sendall` RPC will spend\n  every UTXO in the wallet. `sendall` is useful to empty wallets or to\n  create a changeless payment from select UTXOs. When creating a payment\n  from a specific amount for which the recipient incurs the transaction\n  fee, continue to use the `subtractfeefromamount` option via the\n  `send`, `sendtoaddress`, or `sendmany` RPCs. (#24118)\n\n- - - A new `gettxspendingprevout` RPC has been added, which scans the\nmempool to find\n  transactions spending any of the given outpoints. (#24408)\n\n- - - The `simulaterawtransaction` RPC iterates over the inputs and outputs\nof the given\n  transactions, and tallies up the balance change for the given wallet.\nThis can be\n  useful e.g. when verifying that a coin join like transaction doesn't\ncontain unexpected\n  inputs that the wallet will then sign for unintentionally. (#22751)\n\nUpdated REST APIs\n- - -----------------\n\n- - - The `/headers/` and `/blockfilterheaders/` endpoints have been updated\nto use\n  a query parameter instead of path parameter to specify the result count.\nThe\n  count parameter is now optional, and defaults to 5 for both endpoints.\nThe old\n  endpoints are still functional, and have no documented behaviour change.\n\n  For `/headers`, use\n  `GET /rest/headers/<BLOCK-HASH>.<bin|hex|json>?count=<COUNT=5>`\n  instead of\n  `GET /rest/headers/<COUNT>/<BLOCK-HASH>.<bin|hex|json>` (deprecated)\n\n  For `/blockfilterheaders/`, use\n  `GET\n/rest/blockfilterheaders/<FILTERTYPE>/<BLOCK-HASH>.<bin|hex|json>?count=<COUNT=5>`\n  instead of\n  `GET\n/rest/blockfilterheaders/<FILTERTYPE>/<COUNT>/<BLOCK-HASH>.<bin|hex|json>`\n(deprecated)\n\n  (#24098)\n\nBuild System\n- - ------------\n\n- - - Guix builds are now reproducible across architectures (x86_64 &\naarch64). (#21194)\n\nNew settings\n- - ------------\n\n- - - A new `mempoolfullrbf` option has been added, which enables the\nmempool\nto\n  accept transaction replacement without enforcing BIP125 replaceability\n  signaling. (#25353)\n\nWallet\n- - ------\n\n- - - The `-walletrbf` startup option will now default to `true`. The\n  wallet will now default to opt-in RBF on transactions that it creates.\n(#25610)\n\n- - - The `replaceable` option for the `createrawtransaction` and\n  `createpsbt` RPCs will now default to `true`. Transactions created\n  with these RPCs will default to having opt-in RBF enabled. (#25610)\n\n- - - The `wsh()` output descriptor was extended with Miniscript support.\nYou\ncan import Miniscript\n  descriptors for P2WSH in a watchonly wallet to track coins, but you can't\nspend from them using\n  the Bitcoin Core wallet yet.\n  You can find more about Miniscript on the [reference website](\nhttps://bitcoin.sipa.be/miniscript/). (#24148)\n\n- - - The `tr()` output descriptor now supports multisig scripts through the\n`multi_a()` and\n  `sortedmulti_a()` functions. (#24043)\n\n- - - To help prevent fingerprinting transactions created by the Bitcoin\nCore\nwallet, change output\n  amounts are now randomized. (#24494)\n\n- - - The `listtransactions`, `gettransaction`, and `listsinceblock`\n  RPC methods now include a wtxid field (hash of serialized transaction,\n  including witness data) for each transaction. (#24198)\n\n- - - The `listsinceblock`, `listtransactions` and `gettransaction` output\nnow contain a new\n  `parent_descs` field for every \"receive\" entry. (#25504)\n\n- - - A new optional `include_change` parameter was added to the\n`listsinceblock` command.\n\n- - - RPC `getreceivedbylabel` now returns an error, \"Label not found\n  in wallet\" (-4), if the label is not in the address book. (#25122)\n\nMigrating Legacy Wallets to Descriptor Wallets\n- - ---------------------------------------------\n\nAn experimental RPC `migratewallet` has been added to migrate Legacy\n(non-descriptor) wallets to\nDescriptor wallets. More information about the migration process is\navailable in the\n[documentation](\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/managing-wallets.md#migrating-legacy-wallets-to-descriptor-wallets\n).\n\nGUI changes\n- - -----------\n\n- - - A new menu item to restore a wallet from a backup file has been added\n(gui#471).\n\n- - - Configuration changes made in the bitcoin GUI (such as the pruning\nsetting,\nproxy settings, UPNP preferences) are now saved to `<datadir>/settings.json`\nfile rather than to the Qt settings backend (windows registry or unix\ndesktop\nconfig files), so these settings will now apply to bitcoind, instead of\nbeing\nignored. (#15936, gui#602)\n\n- - - Also, the interaction between GUI settings and `bitcoin.conf` settings\nis\nsimplified. Settings from `bitcoin.conf` are now displayed normally in the\nGUI\nsettings dialog, instead of in a separate warning message (\"Options set in\nthis\ndialog are overridden by the configuration file: -setting=value\"). And these\nsettings can now be edited because `settings.json` values take precedence\nover\n`bitcoin.conf` values. (#15936)\n\nLow-level changes\n=================\n\nRPC\n- - ---\n\n- - - The `deriveaddresses`, `getdescriptorinfo`, `importdescriptors` and\n`scantxoutset` commands now\n  accept Miniscript expression within a `wsh()` descriptor. (#24148)\n\n- - - The `getaddressinfo`, `decodescript`, `listdescriptors` and\n`listunspent` commands may now output\n  a Miniscript descriptor inside a `wsh()` where a `wsh(raw())` descriptor\nwas previously returned. (#24148)\n\nCredits\n=======\n\nThanks to everyone who directly contributed to this release:\n\n- - - /dev/fd0\n- - - 0xb10c\n- - - Adam Jonas\n- - - akankshakashyap\n- - - Ali Sherief\n- - - amadeuszpawlik\n- - - Andreas Kouloumos\n- - - Andrew Chow\n- - - Anthony Towns\n- - - Antoine Poinsot\n- - - Antoine Riard\n- - - Aur\u00e8le Oul\u00e8s\n- - - avirgovi\n- - - Ayush Sharma\n- - - Baas\n- - - Ben Woosley\n- - - BrokenProgrammer\n- - - brunoerg\n- - - brydinh\n- - - Bushstar\n- - - Calvin Kim\n- - - CAnon\n- - - Carl Dong\n- - - chinggg\n- - - Cory Fields\n- - - Daniel Kraft\n- - - Daniela Brozzoni\n- - - darosior\n- - - Dave Scotese\n- - - David Bakin\n- - - dergoegge\n- - - dhruv\n- - - Dimitri\n- - - dontbyte\n- - - Duncan Dean\n- - - eugene\n- - - Eunoia\n- - - Fabian Jahr\n- - - furszy\n- - - Gleb Naumenko\n- - - glozow\n- - - Greg Weber\n- - - Gregory Sanders\n- - - gruve-p\n- - - Hennadii Stepanov\n- - - hiago\n- - - Igor Bubelov\n- - - ishaanam\n- - - Jacob P.\n- - - Jadi\n- - - James O'Beirne\n- - - Janna\n- - - Jarol Rodriguez\n- - - Jeremy Rand\n- - - Jeremy Rubin\n- - - jessebarton\n- - - Jo\u00e3o Barbosa\n- - - John Newbery\n- - - Jon Atack\n- - - Josiah Baker\n- - - Karl-Johan Alm\n- - - KevinMusgrave\n- - - Kiminuo\n- - - klementtan\n- - - Kolby Moroz\n- - - kouloumos\n- - - Kristaps Kaupe\n- - - Larry Ruane\n- - - Luke Dashjr\n- - - MarcoFalke\n- - - Marnix\n- - - Martin Leitner-Ankerl\n- - - Martin Zumsande\n- - - Michael Dietz\n- - - Michael Folkson\n- - - Michael Ford\n- - - Murch\n- - - mutatrum\n- - - muxator\n- - - Oskar Mendel\n- - - Pablo Greco\n- - - pasta\n- - - Patrick Strateman\n- - - Pavol Rusnak\n- - - Peter Bushnell\n- - - phyBrackets\n- - - Pieter Wuille\n- - - practicalswift\n- - - randymcmillan\n- - - Robert Spigler\n- - - Russell Yanofsky\n- - - S3RK\n- - - Samer Afach\n- - - Sebastian Falbesoner\n- - - Seibart Nedor\n- - - Shashwat\n- - - Sjors Provoost\n- - - Smlep\n- - - sogoagain\n- - - Stacie\n- - - St\u00e9phan Vuylsteke\n- - - Suhail Saqan\n- - - Suhas Daftuar\n- - - t-bast\n- - - TakeshiMusgrave\n- - - Vasil Dimov\n- - - W. J. van der Laan\n- - - w0xlt\n- - - whiteh0rse\n- - - willcl-ark\n- - - William Casarin\n- - - Yancy Ribbens\n\nAs well as to everyone that helped with translations on\n[Transifex](https://www.transifex.com/bitcoin/bitcoin/).\n-----BEGIN PGP SIGNATURE-----\n\niQIzBAEBCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAmOYaq4ACgkQLuufXMCV\nJsH8DQ/+PFPSLM3lOL2yZAHMlXuEKbG8at/H+pXDjwDcZsKs+cuF1Z3JfR6VmAX9\nOB8tOvBbqJklZd6GlCeDs4XsBAdXppy50fdZSQ6Dqh7N/+nERUT8GEwTtU11sL7W\nvAVWhOmUn5fgCqOI/J2r4jjpZYMDys/NaCUYxmUF5Vm4JaJcs1JIfSUyHtQHdS6t\nVIdqb8D2+9mXM7qXbJ6OzF9KzrKFcujRHGPzcTnDvF3kOYKlpjT8w6bfFiBeuSeo\nG56X5CR61iXNU5W9HmHIKXBZv6Vnblc9cust7/5ESdgn6OMEnYghnaFSuMsWWAFd\nOKAGbuzunh+G9wMl1JWWG4sVVWLDtz6jNwwUu+1a0wrFryYPaPnq/JK09VL32xJr\nWKx6iNYqsEcno6kXfjSxLsQTIKzJw2T7iYaQCe8KTpYkaGitNzYMpEtFD68PU/gj\n0LEf1sV+BgCuBR7hSBv31pse195Fd/wR71Yk4VVYx26u+82fIhK3ssyWxiiL6ycB\nK7FK9Q4QCt0QlO30oD/y/YQMuyVoVCf71qgp5ZB4TehwP+U4qYTp8wiCej7ta0rY\nvwjHbFZCYhzw05pIGE7bkbpGjdrnWK5ulaQztGAH6IXw0IPfsh9UJIr42VuXh1Nt\nAH6dVC+VwKsr/FjPHuFaj7lwyGw831bKiePptaQYPN9MEELqZqI=\n=5tAr\n-----END PGP SIGNATURE-----\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/956ca15f/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-13T21:17:21",
                "message_text_only": "On Tue, Dec 13, 2022 at 12:06:47PM +0000, Michael Ford via bitcoin-dev wrote:\n> Due to last-minute issues (https://github.com/bitcoin/bitcoin/pull/26616),\n> 24.0, although tagged, was never fully announced or released.\n> \n> Bitcoin Core version 24.0.1 is now available from:\n> \n>   https://bitcoincore.org/bin/bitcoin-core-24.0.1/\n\nNote that the PGP signature on this email is bad:\n\n    [-- PGP output follows (current time: Tue 13 Dec 2022 04:15:30 PM EST) --]\n    gpg: WARNING: no command supplied.  Trying to guess what you mean ...\n    gpg: Signature made Tue 13 Dec 2022 07:06:06 AM EST\n    gpg:                using RSA key CFB16E21C950F67FA95E558F2EEB9F5CC09526C1\n    gpg: BAD signature from \"Michael Ford (bitcoin-otc) <fanquake at gmail.com>\" [full]\n    [-- End of PGP output --]\n\n    [-- BEGIN PGP SIGNED MESSAGE --]\n\n    Due to last-minute issues (https://github.com/bitcoin/bitcoin/pull/26616),\n    24.0, although tagged, was never fully announced or released.\n\nThe announcement on bitcoin-core-dev was had an invalid signature.\n\nLikely some formatting error - your mail client also send it as text and html\nat the same time. No-one should be sending html emails to this mailing list.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221213/e7c06640/attachment-0001.sig>"
            },
            {
                "author": "Matt Corallo",
                "date": "2022-12-13T21:28:13",
                "message_text_only": "The signature verifies for me, however the email was sent HTML and the signature only verifies in \nplaintext, so I had to copy it into a text file. I've included the email as-verified below.\n\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA256\n\nDue to last-minute issues (https://github.com/bitcoin/bitcoin/pull/26616),\n24.0, although tagged, was never fully announced or released.\n\nBitcoin Core version 24.0.1 is now available from:\n\n   https://bitcoincore.org/bin/bitcoin-core-24.0.1/\n\nOr through BitTorrent:\n\n\n  magnet:?xt=urn:btih:d7604a67c8ed6e3b35da15138f8ac81d7618788c&dn=bitcoin-core-24.0.1&tr=udp%3A%2F%\n2Ftracker.openbittorrent.com%3A80&tr=udp%3A%2F%2Ftracker.opentrackr.org\n%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.coppersurfer.tk\n%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.leechers-paradise.org\n%3A6969%2Fannounce&tr=udp%3A%2F%2Fexplodie.org%3A6969%2Fannounce&tr=udp%3A%2F%\n2Ftracker.torrent.eu.org%3A451%2Fannounce&tr=udp%3A%2F%\n2Ftracker.bitcoin.sprovoost.nl%3A6969\n\nThis release includes new features, various bug fixes and performance\nimprovements, as well as updated translations.\n\nPlease report bugs using the issue tracker at GitHub:\n\n   <https://github.com/bitcoin/bitcoin/issues>\n\nTo receive security and update notifications, please subscribe to:\n\n   <https://bitcoincore.org/en/list/announcements/join/>\n\nHow to Upgrade\n==============\n\nIf you are running an older version, shut it down. Wait until it has\ncompletely\nshut down (which might take a few minutes in some cases), then run the\ninstaller (on Windows) or just copy over `/Applications/Bitcoin-Qt` (on\nmacOS)\nor `bitcoind`/`bitcoin-qt` (on Linux).\n\nUpgrading directly from a version of Bitcoin Core that has reached its EOL\nis\npossible, but it might take some time if the data directory needs to be\nmigrated. Old\nwallet versions of Bitcoin Core are generally supported.\n\nCompatibility\n==============\n\nBitcoin Core is supported and extensively tested on operating systems\nusing the Linux kernel, macOS 10.15+, and Windows 7 and newer.  Bitcoin\nCore should also work on most other Unix-like systems but is not as\nfrequently tested on them.  It is not recommended to use Bitcoin Core on\nunsupported systems.\n\nNotice of new option for transaction replacement policies\n=========================================================\n\nThis version of Bitcoin Core adds a new `mempoolfullrbf` configuration\noption which allows users to change the policy their individual node\nwill use for relaying and mining unconfirmed transactions.  The option\ndefaults to the same policy that was used in previous releases and no\nchanges to node policy will occur if everyone uses the default.\n\nSome Bitcoin services today expect that the first version of an\nunconfirmed transaction that they see will be the version of the\ntransaction that ultimately gets confirmed---a transaction acceptance\npolicy sometimes called \"first-seen\".\n\nThe Bitcoin Protocol does not, and cannot, provide any assurance that\nthe first version of an unconfirmed transaction seen by a particular\nnode will be the version that gets confirmed.  If there are multiple\nversions of the same unconfirmed transaction available, only the miner\nwho includes one of those transactions in a block gets to decide which\nversion of the transaction gets confirmed.\n\nDespite this lack of assurance, multiple merchants and services today\nstill make this assumption.\n\nThere are several benefits to users from removing this *first-seen*\nsimplification.  One key benefit, the ability for the sender of a\ntransaction to replace it with an alternative version paying higher\nfees, was realized in [Bitcoin Core 0.12.0][] (February 2016) with the\nintroduction of [BIP125][] opt-in Replace By Fee (RBF).\n\nSince then, there has been discussion about completely removing the\nfirst-seen simplification and allowing users to replace any of their\nolder unconfirmed transactions with newer transactions, a feature called\n*full-RBF*.  This release includes a `mempoolfullrbf` configuration\noption that allows enabling full-RBF, although it defaults to off\n(allowing only opt-in RBF).\n\nSeveral alternative node implementations have already enabled full-RBF by\ndefault for years, and several contributors to Bitcoin Core are\nadvocating for enabling full-RBF by default in a future version of\nBitcoin Core.\n\nAs more nodes that participate in relay and mining begin enabling\nfull-RBF, replacement of unconfirmed transactions by ones offering higher\nfees may rapidly become more reliable.\n\nContributors to this project strongly recommend that merchants and services\nnot accept unconfirmed transactions as final, and if they insist on doing\nso,\nto take the appropriate steps to ensure they have some recourse or plan for\nwhen their assumptions do not hold.\n\n[Bitcoin Core 0.12.0]:\nhttps://bitcoincore.org/en/releases/0.12.0/#opt-in-replace-by-fee-transactions\n[bip125]: https://github.com/bitcoin/bips/blob/master/bip-0125.mediawiki\n\nNotable changes\n===============\n\nP2P and network changes\n- - -----------------------\n\n- - - To address a potential denial-of-service, the logic to download headers\nfrom peers\n   has been reworked.  This is particularly relevant for nodes starting up\nfor the\n   first time (or for nodes which are starting up after being offline for a\nlong time).\n\n   Whenever headers are received from a peer that have a total chainwork\nthat is either\n   less than the node's `-minimumchainwork` value or is sufficiently below\nthe work at\n   the node's tip, a \"presync\" phase will begin, in which the node will\ndownload the\n   peer's headers and verify the cumulative work on the peer's chain, prior\nto storing\n   those headers permanently. Once that cumulative work is verified to be\nsufficiently high,\n   the headers will be redownloaded from that peer and fully validated and\nstored.\n\n   This may result in initial headers sync taking longer for new nodes\nstarting up for\n   the first time, both because the headers will be downloaded twice, and\nbecause the effect\n   of a peer disconnecting during the presync phase (or while the node's\nbest headers chain has less\n   than `-minimumchainwork`), will result in the node needing to use the\nheaders presync mechanism\n   with the next peer as well (downloading the headers twice, again).\n(#25717)\n\n- - - With I2P connections, a new, transient address is used for each outbound\n   connection if `-i2pacceptincoming=0`. (#25355)\n\nUpdated RPCs\n- - ------------\n\n- - - The `-deprecatedrpc=softforks` configuration option has been removed.\nThe\n   RPC `getblockchaininfo` no longer returns the `softforks` field, which was\n   previously deprecated in 23.0. (#23508) Information on soft fork status is\n   now only available via the `getdeploymentinfo` RPC.\n\n- - - The `deprecatedrpc=exclude_coinbase` configuration option has been\nremoved.\n   The `receivedby` RPCs (`listreceivedbyaddress`, `listreceivedbylabel`,\n   `getreceivedbyaddress` and `getreceivedbylabel`) now always return results\n   accounting for received coins from coinbase outputs, without an option to\n   change that behaviour. Excluding coinbases was previously deprecated in\n23.0.\n   (#25171)\n\n- - - The `deprecatedrpc=fees` configuration option has been removed. The\ntop-level\n   fee fields `fee`, `modifiedfee`, `ancestorfees` and `descendantfees` are\nno\n   longer returned by RPCs `getmempoolentry`, `getrawmempool(verbose=true)`,\n   `getmempoolancestors(verbose=true)` and\n`getmempooldescendants(verbose=true)`.\n   The same fee fields can be accessed through the `fees` object in the\nresult.\n   The top-level fee fields were previously deprecated in 23.0. (#25204)\n\n- - - The `getpeerinfo` RPC has been updated with a new `presynced_headers`\nfield,\n   indicating the progress on the presync phase mentioned in the\n   \"P2P and network changes\" section above.\n\nChanges to wallet related RPCs can be found in the Wallet section below.\n\nNew RPCs\n- - --------\n\n- - - The `sendall` RPC spends specific UTXOs to one or more recipients\n   without creating change. By default, the `sendall` RPC will spend\n   every UTXO in the wallet. `sendall` is useful to empty wallets or to\n   create a changeless payment from select UTXOs. When creating a payment\n   from a specific amount for which the recipient incurs the transaction\n   fee, continue to use the `subtractfeefromamount` option via the\n   `send`, `sendtoaddress`, or `sendmany` RPCs. (#24118)\n\n- - - A new `gettxspendingprevout` RPC has been added, which scans the\nmempool to find\n   transactions spending any of the given outpoints. (#24408)\n\n- - - The `simulaterawtransaction` RPC iterates over the inputs and outputs\nof the given\n   transactions, and tallies up the balance change for the given wallet.\nThis can be\n   useful e.g. when verifying that a coin join like transaction doesn't\ncontain unexpected\n   inputs that the wallet will then sign for unintentionally. (#22751)\n\nUpdated REST APIs\n- - -----------------\n\n- - - The `/headers/` and `/blockfilterheaders/` endpoints have been updated\nto use\n   a query parameter instead of path parameter to specify the result count.\nThe\n   count parameter is now optional, and defaults to 5 for both endpoints.\nThe old\n   endpoints are still functional, and have no documented behaviour change.\n\n   For `/headers`, use\n   `GET /rest/headers/<BLOCK-HASH>.<bin|hex|json>?count=<COUNT=5>`\n   instead of\n   `GET /rest/headers/<COUNT>/<BLOCK-HASH>.<bin|hex|json>` (deprecated)\n\n   For `/blockfilterheaders/`, use\n   `GET\n/rest/blockfilterheaders/<FILTERTYPE>/<BLOCK-HASH>.<bin|hex|json>?count=<COUNT=5>`\n   instead of\n   `GET\n/rest/blockfilterheaders/<FILTERTYPE>/<COUNT>/<BLOCK-HASH>.<bin|hex|json>`\n(deprecated)\n\n   (#24098)\n\nBuild System\n- - ------------\n\n- - - Guix builds are now reproducible across architectures (x86_64 &\naarch64). (#21194)\n\nNew settings\n- - ------------\n\n- - - A new `mempoolfullrbf` option has been added, which enables the mempool\nto\n   accept transaction replacement without enforcing BIP125 replaceability\n   signaling. (#25353)\n\nWallet\n- - ------\n\n- - - The `-walletrbf` startup option will now default to `true`. The\n   wallet will now default to opt-in RBF on transactions that it creates.\n(#25610)\n\n- - - The `replaceable` option for the `createrawtransaction` and\n   `createpsbt` RPCs will now default to `true`. Transactions created\n   with these RPCs will default to having opt-in RBF enabled. (#25610)\n\n- - - The `wsh()` output descriptor was extended with Miniscript support. You\ncan import Miniscript\n   descriptors for P2WSH in a watchonly wallet to track coins, but you can't\nspend from them using\n   the Bitcoin Core wallet yet.\n   You can find more about Miniscript on the [reference website](\nhttps://bitcoin.sipa.be/miniscript/). (#24148)\n\n- - - The `tr()` output descriptor now supports multisig scripts through the\n`multi_a()` and\n   `sortedmulti_a()` functions. (#24043)\n\n- - - To help prevent fingerprinting transactions created by the Bitcoin Core\nwallet, change output\n   amounts are now randomized. (#24494)\n\n- - - The `listtransactions`, `gettransaction`, and `listsinceblock`\n   RPC methods now include a wtxid field (hash of serialized transaction,\n   including witness data) for each transaction. (#24198)\n\n- - - The `listsinceblock`, `listtransactions` and `gettransaction` output\nnow contain a new\n   `parent_descs` field for every \"receive\" entry. (#25504)\n\n- - - A new optional `include_change` parameter was added to the\n`listsinceblock` command.\n\n- - - RPC `getreceivedbylabel` now returns an error, \"Label not found\n   in wallet\" (-4), if the label is not in the address book. (#25122)\n\nMigrating Legacy Wallets to Descriptor Wallets\n- - ---------------------------------------------\n\nAn experimental RPC `migratewallet` has been added to migrate Legacy\n(non-descriptor) wallets to\nDescriptor wallets. More information about the migration process is\navailable in the\n[documentation](\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/managing-wallets.md#migrating-legacy-wallets-to-descriptor-wallets\n).\n\nGUI changes\n- - -----------\n\n- - - A new menu item to restore a wallet from a backup file has been added\n(gui#471).\n\n- - - Configuration changes made in the bitcoin GUI (such as the pruning\nsetting,\nproxy settings, UPNP preferences) are now saved to `<datadir>/settings.json`\nfile rather than to the Qt settings backend (windows registry or unix\ndesktop\nconfig files), so these settings will now apply to bitcoind, instead of\nbeing\nignored. (#15936, gui#602)\n\n- - - Also, the interaction between GUI settings and `bitcoin.conf` settings\nis\nsimplified. Settings from `bitcoin.conf` are now displayed normally in the\nGUI\nsettings dialog, instead of in a separate warning message (\"Options set in\nthis\ndialog are overridden by the configuration file: -setting=value\"). And these\nsettings can now be edited because `settings.json` values take precedence\nover\n`bitcoin.conf` values. (#15936)\n\nLow-level changes\n=================\n\nRPC\n- - ---\n\n- - - The `deriveaddresses`, `getdescriptorinfo`, `importdescriptors` and\n`scantxoutset` commands now\n   accept Miniscript expression within a `wsh()` descriptor. (#24148)\n\n- - - The `getaddressinfo`, `decodescript`, `listdescriptors` and\n`listunspent` commands may now output\n   a Miniscript descriptor inside a `wsh()` where a `wsh(raw())` descriptor\nwas previously returned. (#24148)\n\nCredits\n=======\n\nThanks to everyone who directly contributed to this release:\n\n- - - /dev/fd0\n- - - 0xb10c\n- - - Adam Jonas\n- - - akankshakashyap\n- - - Ali Sherief\n- - - amadeuszpawlik\n- - - Andreas Kouloumos\n- - - Andrew Chow\n- - - Anthony Towns\n- - - Antoine Poinsot\n- - - Antoine Riard\n- - - Aur\u00e8le Oul\u00e8s\n- - - avirgovi\n- - - Ayush Sharma\n- - - Baas\n- - - Ben Woosley\n- - - BrokenProgrammer\n- - - brunoerg\n- - - brydinh\n- - - Bushstar\n- - - Calvin Kim\n- - - CAnon\n- - - Carl Dong\n- - - chinggg\n- - - Cory Fields\n- - - Daniel Kraft\n- - - Daniela Brozzoni\n- - - darosior\n- - - Dave Scotese\n- - - David Bakin\n- - - dergoegge\n- - - dhruv\n- - - Dimitri\n- - - dontbyte\n- - - Duncan Dean\n- - - eugene\n- - - Eunoia\n- - - Fabian Jahr\n- - - furszy\n- - - Gleb Naumenko\n- - - glozow\n- - - Greg Weber\n- - - Gregory Sanders\n- - - gruve-p\n- - - Hennadii Stepanov\n- - - hiago\n- - - Igor Bubelov\n- - - ishaanam\n- - - Jacob P.\n- - - Jadi\n- - - James O'Beirne\n- - - Janna\n- - - Jarol Rodriguez\n- - - Jeremy Rand\n- - - Jeremy Rubin\n- - - jessebarton\n- - - Jo\u00e3o Barbosa\n- - - John Newbery\n- - - Jon Atack\n- - - Josiah Baker\n- - - Karl-Johan Alm\n- - - KevinMusgrave\n- - - Kiminuo\n- - - klementtan\n- - - Kolby Moroz\n- - - kouloumos\n- - - Kristaps Kaupe\n- - - Larry Ruane\n- - - Luke Dashjr\n- - - MarcoFalke\n- - - Marnix\n- - - Martin Leitner-Ankerl\n- - - Martin Zumsande\n- - - Michael Dietz\n- - - Michael Folkson\n- - - Michael Ford\n- - - Murch\n- - - mutatrum\n- - - muxator\n- - - Oskar Mendel\n- - - Pablo Greco\n- - - pasta\n- - - Patrick Strateman\n- - - Pavol Rusnak\n- - - Peter Bushnell\n- - - phyBrackets\n- - - Pieter Wuille\n- - - practicalswift\n- - - randymcmillan\n- - - Robert Spigler\n- - - Russell Yanofsky\n- - - S3RK\n- - - Samer Afach\n- - - Sebastian Falbesoner\n- - - Seibart Nedor\n- - - Shashwat\n- - - Sjors Provoost\n- - - Smlep\n- - - sogoagain\n- - - Stacie\n- - - St\u00e9phan Vuylsteke\n- - - Suhail Saqan\n- - - Suhas Daftuar\n- - - t-bast\n- - - TakeshiMusgrave\n- - - Vasil Dimov\n- - - W. J. van der Laan\n- - - w0xlt\n- - - whiteh0rse\n- - - willcl-ark\n- - - William Casarin\n- - - Yancy Ribbens\n\nAs well as to everyone that helped with translations on\n[Transifex](https://www.transifex.com/bitcoin/bitcoin/).\n-----BEGIN PGP SIGNATURE-----\n\niQIzBAEBCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAmOYaq4ACgkQLuufXMCV\nJsH8DQ/+PFPSLM3lOL2yZAHMlXuEKbG8at/H+pXDjwDcZsKs+cuF1Z3JfR6VmAX9\nOB8tOvBbqJklZd6GlCeDs4XsBAdXppy50fdZSQ6Dqh7N/+nERUT8GEwTtU11sL7W\nvAVWhOmUn5fgCqOI/J2r4jjpZYMDys/NaCUYxmUF5Vm4JaJcs1JIfSUyHtQHdS6t\nVIdqb8D2+9mXM7qXbJ6OzF9KzrKFcujRHGPzcTnDvF3kOYKlpjT8w6bfFiBeuSeo\nG56X5CR61iXNU5W9HmHIKXBZv6Vnblc9cust7/5ESdgn6OMEnYghnaFSuMsWWAFd\nOKAGbuzunh+G9wMl1JWWG4sVVWLDtz6jNwwUu+1a0wrFryYPaPnq/JK09VL32xJr\nWKx6iNYqsEcno6kXfjSxLsQTIKzJw2T7iYaQCe8KTpYkaGitNzYMpEtFD68PU/gj\n0LEf1sV+BgCuBR7hSBv31pse195Fd/wR71Yk4VVYx26u+82fIhK3ssyWxiiL6ycB\nK7FK9Q4QCt0QlO30oD/y/YQMuyVoVCf71qgp5ZB4TehwP+U4qYTp8wiCej7ta0rY\nvwjHbFZCYhzw05pIGE7bkbpGjdrnWK5ulaQztGAH6IXw0IPfsh9UJIr42VuXh1Nt\nAH6dVC+VwKsr/FjPHuFaj7lwyGw831bKiePptaQYPN9MEELqZqI=\n=5tAr\n-----END PGP SIGNATURE-----\n\nOn 12/13/22 1:17\u202fPM, Peter Todd via bitcoin-dev wrote:\n> On Tue, Dec 13, 2022 at 12:06:47PM +0000, Michael Ford via bitcoin-dev wrote:\n>> Due to last-minute issues (https://github.com/bitcoin/bitcoin/pull/26616),\n>> 24.0, although tagged, was never fully announced or released.\n>>\n>> Bitcoin Core version 24.0.1 is now available from:\n>>\n>>    https://bitcoincore.org/bin/bitcoin-core-24.0.1/\n> \n> Note that the PGP signature on this email is bad:\n> \n>      [-- PGP output follows (current time: Tue 13 Dec 2022 04:15:30 PM EST) --]\n>      gpg: WARNING: no command supplied.  Trying to guess what you mean ...\n>      gpg: Signature made Tue 13 Dec 2022 07:06:06 AM EST\n>      gpg:                using RSA key CFB16E21C950F67FA95E558F2EEB9F5CC09526C1\n>      gpg: BAD signature from \"Michael Ford (bitcoin-otc) <fanquake at gmail.com>\" [full]\n>      [-- End of PGP output --]\n> \n>      [-- BEGIN PGP SIGNED MESSAGE --]\n> \n>      Due to last-minute issues (https://github.com/bitcoin/bitcoin/pull/26616),\n>      24.0, although tagged, was never fully announced or released.\n> \n> The announcement on bitcoin-core-dev was had an invalid signature.\n> \n> Likely some formatting error - your mail client also send it as text and html\n> at the same time. No-one should be sending html emails to this mailing list.\n> \n> \n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "Bitcoin Core 24.0.1 Released",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Matt Corallo",
                "Michael Ford",
                "Peter Todd"
            ],
            "messages_count": 3,
            "total_messages_chars_count": 35595
        }
    },
    {
        "title": "[bitcoin-dev] Use of OP_CTV in p2p exchanges that use 2of3 multisig",
        "thread_messages": [
            {
                "author": "alicexbt",
                "date": "2022-12-13T22:12:13",
                "message_text_only": "Hi Bitcoin Developers,\n\nProblem: In p2p exchanges that use 2of3 multisig (example: hodlhodl[0]), there is a possibility of buyer and seller settling the trade without involving exchange. Lets consider Alice (buyer), Bob (seller) and Carol (exchange). Once bitcoin is locked in multisig, Alice and Bob could create and sign a transaction which does not include trading fees output that goes to exchange.\n\nSolution: I was wondering if OP_CTV fixes this because we could use a\u00a0template that specifies the release transaction must have two outputs: one output that sends small amount to the exchange for fees, and another output that sends bitcoin to the buyer.\n\nI am not good at writing bitcoin script with opcodes so did not test this however I wanted to confirm with others if this makes sense and can there be other advantages of using OP_CTV for a p2p exchange.\n\nIf this setup is considered a vault maybe [simple vault[1] which uses 2of2 multisig can be modified for proof of concept or a [normal poc][2] if there are RPC commands available to test OP_CTV in bitcoin-inquistion.\n\n[0]: https://gitlab.com/hodlhodl-public/public_docs/blob/master/multisig_spec.md\n[1]: https://github.com/jamesob/simple-ctv-vault\n[2]: https://github.com/1440000bytes/p2p\n\n\n/dev/fd0\n\nSent with Proton Mail secure email."
            }
        ],
        "thread_summary": {
            "title": "Use of OP_CTV in p2p exchanges that use 2of3 multisig",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "alicexbt"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 1299
        }
    },
    {
        "title": "[bitcoin-dev] Roles and procedures around adding a bitcoin core maintainer",
        "thread_messages": [
            {
                "author": "alicexbt",
                "date": "2022-12-19T21:58:13",
                "message_text_only": "Hi Bitcoin Developers,\n\nList of present bitcoin core maintainers:\n\n|   Username    |    Focus Area   |\n| ------------- | -------------   |\n|  MarcoFalke   | General, QA     | \n|  fanquake     | General, Build  |\n|  hebasto      | General, UI/UX  |\n|  achow101     | General, Wallet |\n|  glozow       | General, Mempool|\n\nLast 2 developers that stepped down as bitcoin core maintainer:\n\n|   Username    | \n| ------------- | \n|     sipa      | \n|     laanwj    | \n\nProcess followed in adding last maintainer:\n\n1) fanquake [nominated][0] glowzow as rbf/mempool/validation maintainer. \n2) It was discussed in an IRC [meeting][1] and most of the developers agreed to add her as new maintainer except mild NACK from Jeremy Rubin. Some contributors did not like different opinions being shared in the meeting.\n3) A [pull request][2] was opened by glowzow to add keys. There were several ACKs, 2 NACKs and 1 meta concept NACK.\n   My NACK: https://github.com/bitcoin/bitcoin/pull/25524#issuecomment-1172518409\n   NACK by jamesob: https://github.com/bitcoin/bitcoin/pull/25524#issuecomment-1172570635\n   Meta concept NACK by luke-jr: https://github.com/bitcoin/bitcoin/pull/25524#issuecomment-1175625779\n\n   Eventually everyone agreed to add glowzow as maintainer and improve the process of adding maintainers. Pull request was merged by MarcoFalke.\n\nInitiatives to improve the process and documentation:\n\n1) Jeremy opened a [pull request][3] and there were lot of disagreements with the documentation. It was closed since a related PR with less changes could be easy to agree upon. \n2) Related [pull request][4] with minimal documentation was also closed by Jeremy with a comment that desire to improve docs seems to be missing based on reviews.\n3) Jeremy opened an [issue][5] with title 'Call for Maintainer: P2P & Networking + Privacy' which was changed later and 'Privacy' was removed. He nominated jonatack and vasild was already self nominated so mentioned in the pull request. Nobody appreciated this effort to nominate self or others for a new maintainer. Later this was closed.\n4) I had opened an [issue][6] with title Call for Maintainer: Privacy'. This even involved privacy of contributors and not just bitcoin core. It received some comments that made no sense and I eventually closed the issue. \n\nProcess being followed for adding vasild as maintainer:\n\n1) vasild volunteered to be a new maintainer on [IRC][7]\n2) It was discussed in IRC [meeting][8], some developers ACKed it and there were no issues.\n3) A [pull request][9] was opened by vasild to add keys which is still open and its been 4 months. There were already some ACKs from the IRC meeting and pull request also received some ACKs (16 until now). fanquake, dergoegge and JeremyRubin had some disagreements. Jeremy had recently withdrawn all ACK/NACK from bitcoin core repository for some reasons, fanquake has not replied yet and dergoegge had some new disagreements although don't mind if the pull request is merged.\n4) Earlier disagreements were related to scoping and it was changed by vasild\n4) There was even a comment that disrespected vasild's contributions in bitcoin core and we had to literally share pull requests in which vasild has improved bitcoin core.\n5) I tried adding the topic for a bitcoin core dev weekly meeting but did not achieve anything.\n\n\nSince Bitcoin Core is the reference implementation for Bitcoin and used by 90% nodes, what should be the ideal process or changes you would expect in roles, procedures etc.?\n\n- 'Call for maintainers' issue should be opened if contributors or maintainers need a new maintainer.\n- Discussion about nominated contributors in an IRC meeting where everyone is allowed to share their opinion.\n- One of the nominated contributor that gets most ACKs could open pull request to add keys. Everyone can ACK/NACK this PR with reasons.\n- Maintainers should be unbiased in merging these pull requests.\n- New maintainer should not be funded by the organization that already does it for most of the maintainers.\n- Long term contributors that are not living in a first world country should be encouraged.\n- Either we should agree every maintainer is a general maintainer that can merge pull request from different modules or define scope for present and new maintainers. We can't do both.\n- Self merging pull requests should be avoided.\n\nLet me know if you have any thoughts that could improve this process and involve less politics. \n   \n\n[0]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-06-28#826651\n[1]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-06-30#827695\n[2]: https://github.com/bitcoin/bitcoin/pull/25524\n[3]: https://github.com/bitcoin/bitcoin/pull/25560\n[4]: https://github.com/bitcoin/bitcoin/pull/25839\n[5]: https://github.com/bitcoin/bitcoin/issues/25870\n[6]: https://github.com/bitcoin/bitcoin/issues/25875\n[7]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-08-12#842847;\n[8]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-08-18#844523\n[9]: https://github.com/bitcoin/bitcoin/pull/25871\n\n/dev/fd0\n'floppy disc guy'\n\nSent with Proton Mail secure email."
            },
            {
                "author": "Michael Folkson",
                "date": "2022-12-20T18:44:05",
                "message_text_only": "Hi alicexbt\n\nThere does seem to be some confusion on this which I'm going to look into. I don't think ranting and raving or throwing toys out the pram on the mailing list is the productive way to go though. I'll chat to some people offline and see what the confusion is and hopefully this can be resolved without unnecessary drama. I'll respond in the new year. I don't know if you celebrate but if you do Happy Holidays.\n\nThanks\nMichael\n\n--\nMichael Folkson\nEmail: michaelfolkson at protonmail.com\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n\n\n------- Original Message -------\nOn Monday, December 19th, 2022 at 23:58, alicexbt via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\n> Hi Bitcoin Developers,\n> \n> List of present bitcoin core maintainers:\n> \n> Username\n> \n> Focus Area\n> \n> MarcoFalke\n> \n> General, QA\n> \n> fanquake\n> \n> General, Build\n> \n> hebasto\n> \n> General, UI/UX\n> \n> achow101\n> \n> General, Wallet\n> \n> glozow\n> \n> General, Mempool\n> \n> Last 2 developers that stepped down as bitcoin core maintainer:\n> \n> Username\n> \n> -------------\n> \n> sipa\n> \n> laanwj\n> \n> Process followed in adding last maintainer:\n> \n> 1) fanquake [nominated][0] glowzow as rbf/mempool/validation maintainer.\n> \n> 2) It was discussed in an IRC [meeting][1] and most of the developers agreed to add her as new maintainer except mild NACK from Jeremy Rubin. Some contributors did not like different opinions being shared in the meeting.\n> \n> 3) A [pull request][2] was opened by glowzow to add keys. There were several ACKs, 2 NACKs and 1 meta concept NACK.\n> \n> My NACK: https://github.com/bitcoin/bitcoin/pull/25524#issuecomment-1172518409\n> \n> NACK by jamesob: https://github.com/bitcoin/bitcoin/pull/25524#issuecomment-1172570635\n> \n> Meta concept NACK by luke-jr: https://github.com/bitcoin/bitcoin/pull/25524#issuecomment-1175625779\n> \n> Eventually everyone agreed to add glowzow as maintainer and improve the process of adding maintainers. Pull request was merged by MarcoFalke.\n> \n> Initiatives to improve the process and documentation:\n> \n> 1) Jeremy opened a [pull request][3] and there were lot of disagreements with the documentation. It was closed since a related PR with less changes could be easy to agree upon.\n> \n> 2) Related [pull request][4] with minimal documentation was also closed by Jeremy with a comment that desire to improve docs seems to be missing based on reviews.\n> \n> 3) Jeremy opened an [issue][5] with title 'Call for Maintainer: P2P & Networking + Privacy' which was changed later and 'Privacy' was removed. He nominated jonatack and vasild was already self nominated so mentioned in the pull request. Nobody appreciated this effort to nominate self or others for a new maintainer. Later this was closed.\n> \n> 4) I had opened an [issue][6] with title Call for Maintainer: Privacy'. This even involved privacy of contributors and not just bitcoin core. It received some comments that made no sense and I eventually closed the issue.\n> \n> Process being followed for adding vasild as maintainer:\n> \n> 1) vasild volunteered to be a new maintainer on [IRC][7]\n> \n> 2) It was discussed in IRC [meeting][8], some developers ACKed it and there were no issues.\n> \n> 3) A [pull request][9] was opened by vasild to add keys which is still open and its been 4 months. There were already some ACKs from the IRC meeting and pull request also received some ACKs (16 until now). fanquake, dergoegge and JeremyRubin had some disagreements. Jeremy had recently withdrawn all ACK/NACK from bitcoin core repository for some reasons, fanquake has not replied yet and dergoegge had some new disagreements although don't mind if the pull request is merged.\n> \n> 4) Earlier disagreements were related to scoping and it was changed by vasild\n> \n> 4) There was even a comment that disrespected vasild's contributions in bitcoin core and we had to literally share pull requests in which vasild has improved bitcoin core.\n> \n> 5) I tried adding the topic for a bitcoin core dev weekly meeting but did not achieve anything.\n> \n> Since Bitcoin Core is the reference implementation for Bitcoin and used by 90% nodes, what should be the ideal process or changes you would expect in roles, procedures etc.?\n> \n> - 'Call for maintainers' issue should be opened if contributors or maintainers need a new maintainer.\n> \n> - Discussion about nominated contributors in an IRC meeting where everyone is allowed to share their opinion.\n> \n> - One of the nominated contributor that gets most ACKs could open pull request to add keys. Everyone can ACK/NACK this PR with reasons.\n> \n> - Maintainers should be unbiased in merging these pull requests.\n> \n> - New maintainer should not be funded by the organization that already does it for most of the maintainers.\n> \n> - Long term contributors that are not living in a first world country should be encouraged.\n> \n> - Either we should agree every maintainer is a general maintainer that can merge pull request from different modules or define scope for present and new maintainers. We can't do both.\n> \n> - Self merging pull requests should be avoided.\n> \n> Let me know if you have any thoughts that could improve this process and involve less politics.\n> \n> [0]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-06-28#826651\n> \n> [1]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-06-30#827695\n> \n> [2]: https://github.com/bitcoin/bitcoin/pull/25524\n> \n> [3]: https://github.com/bitcoin/bitcoin/pull/25560\n> \n> [4]: https://github.com/bitcoin/bitcoin/pull/25839\n> \n> [5]: https://github.com/bitcoin/bitcoin/issues/25870\n> \n> [6]: https://github.com/bitcoin/bitcoin/issues/25875\n> \n> [7]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-08-12#842847;\n> \n> [8]: https://bitcoin-irc.chaincode.com/bitcoin-core-dev/2022-08-18#844523\n> \n> [9]: https://github.com/bitcoin/bitcoin/pull/25871\n> \n> /dev/fd0\n> \n> 'floppy disc guy'\n> \n> Sent with Proton Mail secure email.\n> \n> _______________________________________________\n> \n> bitcoin-dev mailing list\n> \n> bitcoin-dev at lists.linuxfoundation.org\n> \n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "Roles and procedures around adding a bitcoin core maintainer",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "alicexbt",
                "Michael Folkson"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 11293
        }
    },
    {
        "title": "[bitcoin-dev] At least 17% of Bitcoin Core 24.x listening nodes are running full-rbf",
        "thread_messages": [
            {
                "author": "Peter Todd",
                "date": "2022-12-23T03:06:03",
                "message_text_only": "tl;dr: By connecting to every Bitcoin Core v24 node I could, and measuring\ntransaction invs, I determined that at this moment about 17% of all Bitcoin\nCore v24 nodes listening on IPv4 are running with full-rbf enabled and\nsuccessfully propagating full-rbf replacements.\n\nProcedure:\n\n0) Modify MAX_ADDNODE_CONNECTIONS to 5000 and recompile.\n1) Run ./bitcoind -mempoolfullrbf=0 -debug=inv -debug=mempool -debug=mempoolrej\n2) Manually addnode every IPv4 address of a node matching 'Satoshi:24' and\n   *not* advertising the full-rbf service bit in my DNS seed's 'dnsseed.dump'\n   file. This happened to be 692 IPv4 addresses.\n3) Wait for connection counts to stabilize. I managed to connect to ~500 nodes\n   out of the 692 I tried connecting too.\n4) Wait for one of my OpenTimestamps calendars to perform a full-rbf\n   replacement\u00b9. They wait a significant amount of time (60s) between\n   transactions and blocks to ensure good propagation, and a true full-rbf\n   replacement.\n5) Wait 2 minutes to ensure complete propagation of the replacement transaction.\n6) Run grep <wtxid> ~/.bitcoin/debug.log | grep 'got inv' | wc -l to count the\n   number of invs. (I obtained the wtid from another node running full-rbf)\n7) Repeat steps 4 to 6 three more times to verify counts are stable.\n\n\nDiscussion:\n\nThis data shows substantial adoption of the mempoolfullrbf=1 option among IPv4\nlistening nodes, above and beyond people choosing to run Bitcoin Knots or\nanother full-rbf peering fork of Bitcoin Core. This data is also an\nunderestimate: I'm only measuring successful propagation. Nodes which have\nfull-rbf enabled - but do not have any full-rbf peers - are not counted by this\nmeasurement. Thus the true number of full-rbf nodes will be even higher than\nthese stats indicate.\n\nSince v24 nodes are currently only ~5% of all listening nodes, the probability\u00b2\nof a non-listening node having a full-rbf peer in their outgoing 8 connections\nis still low, ~8%. However, if this 17% was maintained as all nodes eventually\nupgrade to v24, the probability of a full-rbf peer in the outgoing 8 would be\nquite high, ~80%.\n\n\nFuture Work:\n\nHow are full-rbf nodes distributed among the IPv4 address space? Bitcoin\nCore, by default, groups IPv4 addresses into /16 buckets, and does not connect\nto more than 1 outgoing node per bucket. The true probability of connecting to\na full-rbf peer may be changed by this distribution.\n\nHow are full-rbf nodes distributed among other connection types? At the moment\nbitnodes.io reports that a majority of listening nodes are listening on .onion\naddresses. Due to the difficulty of connecting to very large numbers of Tor\nnodes at once, and a lack of a convenient source of onion addresses to try, I\ndid not attempt to measure full-rbf adoption among onion nodes. IIUC a number\nof pre-built \"node in a box\" solutions such as the Start9 Labs Embassy are\ncurrently only able to listen via Tor.\n\nHow are full-rbf nodes distributed among non-listening nodes? A potential\nstrategy to measure this could be to measure inv's on a listening node with a\nlarge number of incoming peers. Anecdotally, I have been told by a number of\npeople that they're running mempoolfullrbf=1 on non-listening nodes.\n\n\nReferences:\n\n1) https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-November/021143.html\n2) https://stacker.news/items/98441\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221222/e8823a25/attachment.sig>"
            }
        ],
        "thread_summary": {
            "title": "At least 17% of Bitcoin Core 24.x listening nodes are running full-rbf",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Peter Todd"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 3669
        }
    },
    {
        "title": "[bitcoin-dev] onion addresses to try [At least 17% of Bitcoin Core 24.x listening nodes are running full-rbf]",
        "thread_messages": [
            {
                "author": "Vasil Dimov",
                "date": "2022-12-23T07:39:13",
                "message_text_only": "On Thu, Dec 22, 2022 at 22:06:03 -0500, Peter Todd via bitcoin-dev wrote:\n[...]\n> a lack of a convenient source of onion addresses to try\n[...]\n\n$ bitcoin-cli getnodeaddresses 0 |jq -r 'map(select(.network == \"onion\")) | .[].address'\n\n-- \nVasil Dimov\ngro.DSBeerF at dv\n%\nLife should not be a journey to the grave with the intention\nof arriving safely in a pretty and well preserved body, but\nrather to skid in broadside, thoroughly used up, totally worn out,\nand loudly proclaiming --WOW---What A RIDE!!\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 1528 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221223/18e98c75/attachment.sig>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-23T09:46:19",
                "message_text_only": "On December 23, 2022 1:39:13 AM CST, Vasil Dimov <vd at freebsd.org> wrote:\n>On Thu, Dec 22, 2022 at 22:06:03 -0500, Peter Todd via bitcoin-dev wrote:\n>[...]\n>> a lack of a convenient source of onion addresses to try\n>[...]\n>\n>$ bitcoin-cli getnodeaddresses 0 |jq -r 'map(select(.network == \"onion\")) | .[].address'\n\nIt's not that simple. Because onion addresses cost close to nothing nothing to obtain it's dubious to just try some on a one time basis without checking to see if they actually have a longer term track record of actually existing. You could end up trying addresses of a one time Sybil attack.\n\nThe advantage of using the DNS seed records is those addresses are tested over long time frames, so you have a better chance of them representing real nodes. But my DNS seed doesn't happen to be setup to track nodes using Tor right now."
            }
        ],
        "thread_summary": {
            "title": "onion addresses to try ",
            "categories": [
                "bitcoin-dev",
                "At least 17% of Bitcoin Core 24.x listening nodes are running full-rbf"
            ],
            "authors": [
                "Vasil Dimov",
                "Peter Todd"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 1624
        }
    },
    {
        "title": "[bitcoin-dev] Pseudocode for robust tail emission",
        "thread_messages": [
            {
                "author": "jk_14 at op.pl",
                "date": "2022-12-23T18:43:36",
                "message_text_only": "Necessary or not - it doesn't hurt to plan the robust model, just in case. The proposal is:\n\nLet every 210,000 the code calculate the average difficulty of 100 last retargets (100 fit well in 210,000 / 2016 = 104.166)\nand compare with the maximum of all such values calculated before, every 210,000 blocks:\n\n\nif average_diff_of_last_100_retargets > maximum_of_all_previous_average_diffs\n\tdo halving\nelse\n\tdo nothing\n\n\nThis way:\n\n1. system cannot be played\n2. only in case of destructive halving: system waits for the recovery of network security\n\n\nBest Regards\nJaroslaw"
            },
            {
                "author": "jk_14 at op.pl",
                "date": "2022-12-27T15:34:07",
                "message_text_only": "It seems like the more elegant solution could be by using a chainwork parameter instead.\ni.e. comparison just before halving - if the last 210,000 block interval has a higher chainwork difference between the begining and the end of interval\nthan any other such inter-halving interval before.\n\nLIttle digression yet:\nA system in which all users participate in ensuring its security looks better than one in which only some (i.e. active) of them participate (and passive stakeholders are de facto free riders)\nIn my opinion this concept above is only the complement of currently missing mechanism: achieving equilibrium regarding costs of security between two parties with opposing interests.\nIt's easy to understand and - most important - it has no hardcoded value of tail emission - what is the clear proof it is based on a free market.\nAnd last but not least, if someone is 100% sure that income from transactions will takeover security support from block subsidy - accepting such proposal is like putting the money where the mouth is: this safety measure will never be triggered, then (no risk of fork)\n\n\nBest Regards\nJaroslaw\n\n\n\nW dniu 2022-12-23 20:29:20 u\u017cytkownik Jaroslaw via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> napisa\u0142:\n> \nNecessary or not - it doesn't hurt to plan the robust model, just in case. The proposal is:\n\nLet every 210,000 the code calculate the average difficulty of 100 last retargets (100 fit well in 210,000 / 2016 = 104.166)\nand compare with the maximum of all such values calculated before, every 210,000 blocks:\n\n\nif average_diff_of_last_100_retargets > maximum_of_all_previous_average_diffs\n\tdo halving\nelse\n\tdo nothing\n\n\nThis way:\n\n1. system cannot be played\n2. only in case of destructive halving: system waits for the recovery of network security\n\n\nBest Regards\nJaroslaw\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Billy Tetrud",
                "date": "2022-12-30T18:20:47",
                "message_text_only": "If the idea is to ensure that a catastrophic miner exodus doesn't happen,\nthe \"difference\" you're calculating should only care about downward\ndifferences. Upward differences indicate more mining activity and so\nshouldn't cause a halving skip.\n\nBut I don't think any scheme like this that only acts on the basis of\ndifficulty will be sufficient. If it gets to the point where a sudden drop\nin mining difficulty happens, it is very likely that simply delaying the\nnext halving or even ending halving all together will not be sufficient to\ncorrect for whatever is causing hashrate to tank. There is also the danger\nof simple difficulty stagnation, which this mechanism wouldn't detect.\n\nThe relationship between difficulty and security becomes less and less\npredictable the longer you want to look ahead. There's no long term\nrelation between difficulty and any reasonable security target. A security\ntarget might be something like \"no colluding group with less than $1\ntrillion dollars at their disposal could successfully 51% attack the\nnetwork (with a probability of blah blah)\". There is no way to today\nprogram in any code that detects based on difficult alone when that\ncriteria is violated. You would have to program in assumptions about the\ncost of hashrate projected into the future.\n\nI can't think of any robust automatic way to do this. I think to a certain\ndegree, it will have to be a change that happens in a fork of some kind\n(soft or hard) periodically (every 10 years? 30 years?). The basic\nrelations needed is really the cost in Bitcoin of the security target (ie\nthe minimum number of Bitcoin it should take to 51% attack the system) and\nthe cost in Bitcoin of acquiring a unit of hashrate. This could be simply\ninput into the code, or could use some complicated oracle system. But with\nthat relation, the system could be programmed to calculate the difficulty\nnecessary to keep the system secure.\n\nOnce that is in place, the system could automatically adjust the subsidy up\nor down to attract more or less miners, or it could adjust the block size\nup or down to change the fee market such that more or less total fees are\ncollected each block to attract more or less miners.\n\nOn Tue, Dec 27, 2022, 09:41 Jaroslaw via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n>\n> It seems like the more elegant solution could be by using a chainwork\n> parameter instead.\n> i.e. comparison just before halving - if the last 210,000 block interval\n> has a higher chainwork difference between the begining and the end of\n> interval\n> than any other such inter-halving interval before.\n>\n> LIttle digression yet:\n> A system in which all users participate in ensuring its security looks\n> better than one in which only some (i.e. active) of them participate (and\n> passive stakeholders are de facto free riders)\n> In my opinion this concept above is only the complement of currently\n> missing mechanism: achieving equilibrium regarding costs of security\n> between two parties with opposing interests.\n> It's easy to understand and - most important - it has no hardcoded value\n> of tail emission - what is the clear proof it is based on a free market.\n> And last but not least, if someone is 100% sure that income from\n> transactions will takeover security support from block subsidy - accepting\n> such proposal is like putting the money where the mouth is: this safety\n> measure will never be triggered, then (no risk of fork)\n>\n>\n> Best Regards\n> Jaroslaw\n>\n>\n>\n> W dniu 2022-12-23 20:29:20 u\u017cytkownik Jaroslaw via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> napisa\u0142:\n> >\n> Necessary or not - it doesn't hurt to plan the robust model, just in case.\n> The proposal is:\n>\n> Let every 210,000 the code calculate the average difficulty of 100 last\n> retargets (100 fit well in 210,000 / 2016 = 104.166)\n> and compare with the maximum of all such values calculated before, every\n> 210,000 blocks:\n>\n>\n> if average_diff_of_last_100_retargets >\n> maximum_of_all_previous_average_diffs\n>         do halving\n> else\n>         do nothing\n>\n>\n> This way:\n>\n> 1. system cannot be played\n> 2. only in case of destructive halving: system waits for the recovery of\n> network security\n>\n>\n> Best Regards\n> Jaroslaw\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n>\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221230/1890b675/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-12-30T23:28:58",
                "message_text_only": "On Fri, Dec 23, 2022 at 07:43:36PM +0100, jk_14 at op.pl wrote:\n> \n> Necessary or not - it doesn't hurt to plan the robust model, just in case. The proposal is:\n> \n> Let every 210,000 the code calculate the average difficulty of 100 last retargets (100 fit well in 210,000 / 2016 = 104.166)\n> and compare with the maximum of all such values calculated before, every 210,000 blocks:\n> \n> \n> if average_diff_of_last_100_retargets > maximum_of_all_previous_average_diffs\n> \tdo halving\n> else\n> \tdo nothing\n> \n> \n> This way:\n> \n> 1. system cannot be played\n> 2. only in case of destructive halving: system waits for the recovery of network security\n\nFirst of all - while I suspct you already understand this issue - I should\npoint out the following:\n\nThe immediate danger we have with halvings is that in a competitive market,\nprofit margins tend towards marginal costs - the cost to produce an additional\nunit of production - rather than total costs - the cost necessary to recover\nprior and future expenses. Since the halving is a sudden shock to the system,\nunder the right conditions we could have a significant amount of hashing power\njust barely able to afford to hash prior to the halving, resulting in all that\nhashing power immediately having to shut down and fees increasing dramatically,\nand likely, chaotically.  Your proposal does not address that problem as it can\nonly measure difficulty prior to the halving point.\n\n\nOther than that problem, I agree that this proposal would, at least in theory,\nbe a positive improvement on the status quo. But it is a hard fork and I don't\nthink there is much hope for such hard forks to be implemented. I believe that\na demmurrage soft-fork, implemented via a storage fee averaged out over many\nfuture blocks, has a much more plausible route towards implementation.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20221230/e2c7cba6/attachment.sig>"
            }
        ],
        "thread_summary": {
            "title": "Pseudocode for robust tail emission",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "jk_14 at op.pl",
                "Billy Tetrud",
                "Peter Todd"
            ],
            "messages_count": 4,
            "total_messages_chars_count": 9495
        }
    },
    {
        "title": "[bitcoin-dev] A Bitcoin NFT System",
        "thread_messages": [
            {
                "author": "Aymeric Vitte",
                "date": "2022-12-29T16:49:46",
                "message_text_only": "I am not a fan of NFTs as currently designed and used, centralized,\ninsecure, duplicable, virtual, stealable, not signed, expensive\n\nBut if you consider that a NFT is anything that you can buy or store, as\nsomething real, or electronic, or whatever, in the real world, web or\nmetaverse, then it becomes interesting\n\nNFTs are mostly used on Ethereum, and a \"mess\" to describe this stuff is\na weak word\n\nThen I wrote: \"A Bitcoin NFT system\": \nhttps://gist.github.com/Ayms/01dbfebf219965054b4a3beed1bfeba7 ,\ndecentralized, secure, not expensive\n\nIt does envision also local Bitcoin chains\n\nNo invention here, maybe what I am describing already exists but I am\nnot aware of it (however it's a bit similar to coloured coins and other\nthings like this), this is simple compared to usual discussions on this\nlist, for your review and comments, here if applicable or to my personal\naddress\n\nAs we can see for those that would read it, it seems like that I am\ncontradicting myself everywhere with this proposal compared to previous\npublications (links in the proposal), but in fact no, I am explaining why\n\n-- \nSophia-Antipolis, France\nLinkedIn: https://fr.linkedin.com/in/aymeric-vitte-05855b26\nGitHub : https://www.github.com/Ayms\nMove your coins by yourself (browser version): https://peersm.com/wallet\nBitcoin transactions made simple: https://github.com/Ayms/bitcoin-transactions\ntorrent-live: https://github.com/Ayms/torrent-live\nnode-Tor : https://www.github.com/Ayms/node-Tor\nZcash wallets made simple: https://github.com/Ayms/zcash-wallets\nBitcoin wallets made simple: https://github.com/Ayms/bitcoin-wallets\nAnti-spies and private torrents, dynamic blocklist: http://torrent-live.peersm.com\nPeersm : http://www.peersm.com"
            }
        ],
        "thread_summary": {
            "title": "A Bitcoin NFT System",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Aymeric Vitte"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 1722
        }
    }
]