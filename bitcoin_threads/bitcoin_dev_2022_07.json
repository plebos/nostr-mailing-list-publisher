[
    {
        "title": "[bitcoin-dev] [BIP proposal] Private Payments",
        "thread_messages": [
            {
                "author": "Alfred Hodler",
                "date": "2022-07-01T12:41:45",
                "message_text_only": "Hi Clark,\n\nThanks for your input.\n\nI agree with your proposal to use bech32 instead of base58. It looks sound to me and as you said, the standard would benefit from more compact QR codes. The `pay1` prefix is fairly recognizable.\n\n> I don't see how this would work, and others have pointed out that the\n> cost of block space is itself an anti-spam measure.\n\nI agree.\n\n> A third-party service could offer to publish OP_RETURN notification\n> payloads in the blockchain for a fee, paid over Lightning Network.\n> This completely de-links Alice's notification from her wallet, while\n> accepting the less-known privacy implications of a Lightning payment.\n> The service would remain ignorant of Bob's identity in any event. Such\n> a service would also be incentivized to charge market rates for the\n> potential privacy boost and for block space.\n\nThe manner of publishing or outsourcing notifications cannot be enforced by the standard but we can add this as a recommendation. We can also release such a service in tandem with the BIP in order to encourage its use. The fact that the service would use its own coins would be beneficial to notifiers since they wouldn't have to engage in coin control on their end.\n\nI'm not too familiar with the innerworkings of Lightning, but it is my understanding that a message can be embedded in each payment. The message in this case can be the OP_RETURN payload. That way both the payment and the notification payload are sent out in one go. Please correct me if I'm wrong.\n\nThe downside is that this isn't as censorship resistant as direct notifications but that's probably not going to be a big problem in reality. If these services ever go down, users should still be able to notify from their own wallets.\n\n> Alternatively, the service publishes the block height along with the\n> notification data contained within that block. Light clients could\n> download relevant blocks over the p2p network and perform full\n> validation.\n\nThis sounds better than requesting transaction data, both from the standpoint of simplicity and privacy. The danger is that the service drops notifications, either on purpose or by accident, eventually causing clients to miss notifications. Two possible solutions: a) the service publishes Merkle Trees b) each client subscribes to more than one service.\n\nAlfred"
            },
            {
                "author": "Christopher Allen",
                "date": "2022-07-01T17:37:57",
                "message_text_only": "On Fri, Jul 1, 2022 at 5:43 AM Alfred Hodler via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> I agree with your proposal to use bech32 instead of base58. It looks sound\n> to me and as you said, the standard would benefit from more compact QR\n> codes.\n\n\nThe most important thing to get more compact QR codes is to not use\nlowercase letters, and certain other characters, as if you can avoid them\nthe QRs will auto-compress.\n\nIt happens that the core of bech32 works if all caps, and you are careful\nwith the human readable portion.\n\nSee\nhttps://github.com/BlockchainCommons/Research/blob/master/papers/bcr-2020-003-uri-binary-compatibility.md\nfor more details, but a big offender is base64 which not only doesn\u2019t\nauto-compress but also can trigger binary mode that almost doubled the size\nof the QR.\n\nWe have a number of standards & libraries focused on bitcoin QRs, including\nsupport of animated QRs for things like PSBTs, but if you care about QR\nsize you should take a look at the techniques we use our swift library\nhttps://github.com/BlockchainCommons/QRCodeGenerator which are also in\nhttps://www.nayuki.io/page/qr-code-generator-library.\n\nBasically both of these libraries support \u201coptimal encoding using segments\u201d\nthat if they encounter a set of characters that must be encoded in binary\n(In particularly $ % * + / :) that would in most default platform QR\nimplementations  cause the entire QR to double in size. Instead will only\nencode the small segment as binary, letting the rest of the QR leverage\nauto-compression.\n\nIf your are interested in our other Airgap QR and TorGap UR efforts, see\nour video from last year:\nhttps://youtu.be/RYgOFSdUqWY We have much more on the way, including NFC\nencrypted Airgap & crypto-request/response flows.\n\nI\u2019d love to see proposals for various payment and invoice QRs that leverage\nthese wallet interoperability standards we have been offering. Let us know\nif you are interested, or join discussions at\nhttps://github.com/BlockchainCommons/Airgapped-Wallet-Community\n\n\u2014 Christopher Allen, Blockchain Commons\n\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220701/0acdb9a6/attachment.html>"
            },
            {
                "author": "Alfred Hodler",
                "date": "2022-07-05T09:38:44",
                "message_text_only": "Hi Damian,\n\nWhich specific part of the proposal do you think affects the legibility of the blockchain and the fungibility of UTXOs? Please point out the relevant section so that we can address your concerns.\nAlfred\n\n------- Original Message -------\nOn Sunday, July 3rd, 2022 at 3:17 PM, KING JAMES HRMH <willtech at live.com.au> wrote:\n\n> Good Afternoon,\n>\n> In regard to Private Payments, the blockchain is indelible record and it isn't a record unless it is legible so that someone could check the validity of any UTXO and it is enough that Bitcoin is Fungible and the only reason Bitcoin is Fungible is because it is a wallet that makes use of the Blockchain so the concept is\n> NACK\n>\n> KING JAMES HRMH\n> Great British Empire\n>\n> Regards,\n> The Australian\n> LORD HIS EXCELLENCY JAMES HRMH (& HMRH)\n> of Hougun Manor & Glencoe & British Empire\n> MR. Damian A. James Williamson\n> Professor\n> Wills\n>\n> et al.\n>\n> Willtech\n> www.willtech.com.au\n> www.go-overt.com\n> duigco.org DUIGCO API\n> and other projects\n>\n> m. 0487135719\n> f. +61261470192\n>\n> This email does not constitute a general advice. Please disregard this email if misdelivered.\n>\n> ---------------------------------------------------------------\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220705/f71ab8ff/attachment-0001.html>"
            },
            {
                "author": "Alfred Hodler",
                "date": "2022-07-11T10:28:40",
                "message_text_only": "Update: Bob doesn't have to watch all address types he's advertising. When notifying Bob, Alice will pick one address type out of the ones Bob is advertising and include it in the notification. That way even if Bob's wallet accepts many address types, he still doesn't have to watch all of them for each Alice.\n\nThe previous spec reads:\n\n> Alice then constructs a 72-byte OP_RETURN output whose value is set to `BIPXXXX + notification + N_Alice` (`+` is concat) and sends it in a transaction containing no other outputs (XXXX to be replaced once a BIP number is assigned).\n\nWe can extended the payload to 73 bytes and define it as: `BIPXXXX + notification + N_Alice + address_type`, where `address_type` is a single byte containing the desired address type index (1 out of 16, limited by Bob's payment code). If Alice ever wants to start sending to a different address type, she can simply re-notify Bob and Bob will switch to a new address type in the case of Alice.\n\nAlfred"
            }
        ],
        "thread_summary": {
            "title": "Private Payments",
            "categories": [
                "bitcoin-dev",
                "BIP proposal"
            ],
            "authors": [
                "Alfred Hodler",
                "Christopher Allen"
            ],
            "messages_count": 4,
            "total_messages_chars_count": 6961
        }
    },
    {
        "title": "[bitcoin-dev] Adding SIGHASH to TXID",
        "thread_messages": [
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-03T05:45:48",
                "message_text_only": "> Have you seen the inherited ID proposal from John Law on this list?\n\nI didn't see that before posting, I'm still trying to get more familiar with that (and with proposals, where every single field in each transaction is controlled for inclusion or exclusion).\n\n> Honestly, I've yet to fully load in exactly how the applications of it work, but I'd be interested to hear your thoughts.\n\nThe main use case is to control transaction flow. If you have everything signed with SIGHASH_ALL, then it is obvious that you can just use txid, and everything works. But on the other hand, if you use other sighashes, for example SIGHASH_SINGLE|SIGHASH_ANYONECANPAY, then you should be able to make a new transaction spending your signed output, no matter which inputs and outputs will be added to the previous one. And that's why SIGHASH_PREVOUT_SOMETHING is needed, to control, which parts of the previous transaction are signed, and which are not. And to do that, it is needed to take the previous transaction, referenced by txid, and to modify it, based on provided SIGHASH_PREVOUT_SOMETHING sighashes.\n\nTo push things one step further, I think different sighashes should be proposed by default, that would make users more familiar with the whole concept of sighashes. Because now, the default behavior is to sign everything with SIGHASH_ALL. I think it should be changed, the Core client should propose different sighashes, based on created transaction, just to allow transaction joining. To start with, it could be just a simple checkbox \"allow transaction joining\", that would enable it, to see if it will be simple enough for most users.\n\nSIGHASH_ANYONECANPAY - used for every input (because it allows fee bumping without changing signatures)\nSIGHASH_SINGLE - used only when there is any corresponding output, and only when it has higher or equal amount than the corresponding input\nSIGHASH_ALL - used when there is no corresponding output, or when the corresponding output is smaller, to prevent detaching it\n\nIn general, I think the transaction should be displayed like it is visible in many block explorers, and after clicking each input, users should see, what is signed, and what is not, so they should control sighashes in a similar user interface, as they use to choose coins. Inputs and outputs should be grayed or highlighted, based on sighashes selected by user, to allow understanding them better.\n\n\nOn 2022-05-07 13:55:48 user Jeremy Rubin <jeremy.l.rubin at gmail.com> wrote:\nHave you seen the inherited ID proposal from John Law on this list?\n\n\nIt's a pretty thorough treatment of this type of proposal, curious if you think it overlaps what you had in mind?\n\n\nHonestly, I've yet to fully load in exactly how the applications of it work, but I'd be interested to hear your thoughts.\n\n\nOn Sat, May 7, 2022, 4:55 AM vjudeu via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\nFor now, we have txid:vout as a previous transaction output. This means that to have a stable TXID, we are forced to use SIGHASH_ALL somewhere, just to prevent any transaction modifications that can happen during adding some inputs and outputs. But it seems that new sighashes could be far more powerful than we expected: it is technically possible to not only remove previous transaction output by using SIGHASH_ANYPREVOUT. We can do more and do it better, we could decide, how to calculate this txid at all!\n\nSo, something like SIGHASH_PREVOUT_NONE would be similar to SIGHASH_NONE (applied to the previous transaction, taken from txid). To have SIGHASH_ANYPREVOUT, we need to remove absolutely everything, I don't know any such sighashes, because even SIGHASH_NONE | SIGHASH_ANYONECANPAY will commit at least to some fields, for example to the locktime. But, if we introduce SIGHASH_PREVOUT_XYZ flags for all existing sighashes, we would have this:\n\nSIGHASH_PREVOUT_NONE\nSIGHASH_PREVOUT_SINGLE\nSIGHASH_PREVOUT_ALL\nSIGHASH_PREVOUT_ANYONECANPAY\n\nThen, the procedure is as follows: we use txid:vout to find our previous transaction. Then, we apply those sighashes to this previous transaction, to form a new txid, that will be checked during every OP_CHECKSIG-based opcode. In this way, our txid:vout is used just to do transaction lookup, after that, sighashes can be applied to the previous transaction, so our txid could remain stable, even if someone will add some inputs and outputs.\n\nBy default, we could use SIGHASH_PREVOUT_ALL, that would mean our txid:vout remains unchanged. Then, SIGHASH_PREVOUT_SINGLE would obviously mean, that we want to commit only to this particular previous transaction output. That would allow adding any new outputs to the previous transaction, without affecting our replaced txid, but also without blindly accepting any txid, because some data of the previous transaction would be still hashed.\n\nThen, SIGHASH_PREVOUT_NONE is an interesting case, because it would mean that no outputs of the previous transaction are checked. But still, the inputs will be! That would mean: \"I don't care about in-between addresses, but I care that it was initiated from these inputs\". In this case, it is possible to choose some input without those flags, and then apply SIGHASH_PREVOUT_NONE many times, to make sure that everything started from that input, but everything in-between can be anything.\n\nAll of those three SIGHASH_PREVOUT_XYZ flags could be combined with SIGHASH_PREVOUT_ANYONECANPAY. That would mean all inputs of the previous transaction are discarded, except from the input number matching \"vout\". Or we could just use SIGHASH_PREVOUT_ANY instead and discard all inputs from that previous transaction, that could also be combined with other sighashes.\n\nSo, to sum up, by applying sighashes to the previous transaction, instead of allowing for any transaction, we could still have some control of our txid, and I think it could be better than just saying \"give me any txid, I will accept that\". I think in most cases we don't want to allow any txid: we want to only \"control the flow\", just to make sure that our signatures will sign what we want and will not be invalidated by changing some transaction inputs and outputs, unrelated to the currently-checked signature.\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "Adding SIGHASH to TXID",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "vjudeu at gazeta.pl"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 6381
        }
    },
    {
        "title": "[bitcoin-dev] Bitcoin covenants are inevitable",
        "thread_messages": [
            {
                "author": "Peter Todd",
                "date": "2022-07-03T09:43:53",
                "message_text_only": "On Wed, Jun 29, 2022 at 12:44:11PM +0200, Kate Salazar via bitcoin-dev wrote:\n> > On an idealistic level, I agree with Keagan that it would make sense to\n> > have \"a balance of fees to that effect\". I think doing that would be\n> > technically/economically optimal. However, I think there is an enormous\n> > benefit to having a cultural aversion to monetary inflation and the\n> > consequences of convincing the bitcoin community that inflation is ok could\n> > have unintended negative consequences (not to mention how difficult\n> > convincing the community would be in the first place). There's also the\n> > economic distortion that inflation causes that has a negative effect which\n> > should also be considered. The idea of decaying utxo value is interesting\n> > to consider, but it would not solve the economic distortion that\n> > monetary inflation causes, because that distortion is a result of monetary\n> > devaluation (which decaying utxos would be a form of). Then again, maybe in\n> > this case the distortion of inflation would actually be a correction -\n> > correcting for the externality of benefit received by holders. I'm\n> > stream-of-consciousnessing a bit, but anyways, I suspect its not worth the\n> > trouble to perfect the distribution of bitcoin blockchain security costs to\n> > include holders. Tho, if I were to go back in time and influence how\n> > bitcoin was designed, I might advocate for it.\n> >\n> \n> Pool operators are free to request larger fees from older utxos, or from\n> all utxos, or from newer utxos, at their judgement, looking at the\n> blockspace demand census and at what the other pool operators are doing.\n> This is not consensus, it's policy. It's not a technology problem, it's\n> solved above in the social layer.\n\nIf pool operators can easily collude like you are proposing, we have a serious\nproblem with pool centralization.\n\nWhat you would actually expect in a healthy Bitcoin ecosystem is for some pool\noperators to defect, and them winding up mining those transactions for\nmarket-based fees, eventually forcing the pool operators who are trying to\ncharge a discriminatory premium to give up.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220703/dde11afb/attachment.sig>"
            },
            {
                "author": "Giuseppe B",
                "date": "2022-07-03T10:30:52",
                "message_text_only": "Bitcoin's finite supply is the main argument for people investing in it,\nthe whole narrative around bitcoin is based on its finite supply. While it\nhas its flaws and basically condemns bitcoin to be only used as a store of\nvalue (and not as a currency), I don't think it's worth questioning it at\nthis point.\n\nJust my 2 sats.\n\nGiuseppe.\n\nOn Sun, Jul 3, 2022, 11:44 AM Peter Todd via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Wed, Jun 29, 2022 at 12:44:11PM +0200, Kate Salazar via bitcoin-dev\n> wrote:\n> > > On an idealistic level, I agree with Keagan that it would make sense to\n> > > have \"a balance of fees to that effect\". I think doing that would be\n> > > technically/economically optimal. However, I think there is an enormous\n> > > benefit to having a cultural aversion to monetary inflation and the\n> > > consequences of convincing the bitcoin community that inflation is ok\n> could\n> > > have unintended negative consequences (not to mention how difficult\n> > > convincing the community would be in the first place). There's also the\n> > > economic distortion that inflation causes that has a negative effect\n> which\n> > > should also be considered. The idea of decaying utxo value is\n> interesting\n> > > to consider, but it would not solve the economic distortion that\n> > > monetary inflation causes, because that distortion is a result of\n> monetary\n> > > devaluation (which decaying utxos would be a form of). Then again,\n> maybe in\n> > > this case the distortion of inflation would actually be a correction -\n> > > correcting for the externality of benefit received by holders. I'm\n> > > stream-of-consciousnessing a bit, but anyways, I suspect its not worth\n> the\n> > > trouble to perfect the distribution of bitcoin blockchain security\n> costs to\n> > > include holders. Tho, if I were to go back in time and influence how\n> > > bitcoin was designed, I might advocate for it.\n> > >\n> >\n> > Pool operators are free to request larger fees from older utxos, or from\n> > all utxos, or from newer utxos, at their judgement, looking at the\n> > blockspace demand census and at what the other pool operators are doing.\n> > This is not consensus, it's policy. It's not a technology problem, it's\n> > solved above in the social layer.\n>\n> If pool operators can easily collude like you are proposing, we have a\n> serious\n> problem with pool centralization.\n>\n> What you would actually expect in a healthy Bitcoin ecosystem is for some\n> pool\n> operators to defect, and them winding up mining those transactions for\n> market-based fees, eventually forcing the pool operators who are trying to\n> charge a discriminatory premium to give up.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220703/5934b536/attachment-0001.html>"
            },
            {
                "author": "Corey Haddad",
                "date": "2022-07-06T04:28:50",
                "message_text_only": ">Bitcoin's finite supply is the main argument for people investing in it,\nthe whole narrative around bitcoin is based on its finite supply. While it\nhas its flaws and basically condemns bitcoin to be only used as a store >of\nvalue (and not as a currency), I don't think it's worth questioning it at\nthis point.\n>\n>Just my 2 sats.\n>\n>Giuseppe.\n\nA finite supply alone is not enough to give something value, as it must\nalso be useful in some way. In the case of Bitcoin, various forms of\ncryptographic security must all work - and work together - to make Bitcoin\nuseful. If the only realistic (fair, efficient & proportionate) way to pay\nfor Bitcoin's security was by having some inflation scheme that violated\nthe 21 million cap, then agreeing to break the limit would probably be what\nmakes sense, and in the economic interest of its users and holders.\n\nThere will always be competitive pressures with respect to efficiency, and\nboth being over-secured and under-secured would be economically inefficient\nfor a crypto currency, and thereby laving room for a more optimally-secured\ncompetitor to gain ground. Currently there is zero feedback in the Bitcoin\nsystem between what we might think is the optimum amount of security and\nwhat actually exists. There is also zero agreement on how much security\nwould constitute such an optimum. Figuring out how much security is needed,\nor even better, figuring out a way to have a market mechanism to answer\nthat question, will be an important project.\n\nAnother option, if we were to decide we are over-secured in the short term,\nwould be to soft-fork in a reduction in the current and near-future mining\nrewards, by somehow locking the coins in a contract that deprived the miner\nof the full reward, and then using that contract to pay the rewards out far\nin the future, should at some point we feel the security budget was\ninsufficient. Anthony Towns presented a form of this concept in greater\ndetail at a Scaling Bitcoin conference some years ago. While this solution,\nif employed, would only work for some finite amount of time, it is possible\nthat could give additional decades before the accumulated security budget\nwas exhausted.\n\nCorey\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220706/87d2ce52/attachment.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-06T11:10:27",
                "message_text_only": "> If the only realistic (fair, efficient & proportionate) way to pay for Bitcoin's security was by having some inflation scheme that violated the 21 million cap, then agreeing to break the limit would probably be what makes sense, and in the economic interest of its users and holders.\n\nSo, Paul Sztorc was right again, there are three options: Enormous Block Size Increases, Violate 21M Coin Limit, or >50% Miner Fee-Revenues Come From Merged Mining: https://www.truthcoin.info/images/sb-trilemma.png. And I think using Merged Mining is the best option. More about that: https://www.truthcoin.info/blog/security-budget-ii-mm/\n\n> Another option, if we were to decide we are over-secured in the short term, would be to soft-fork in a reduction in the current and near-future mining rewards, by somehow locking the coins in a contract that deprived the miner of the full reward, and then using that contract to pay the rewards out far in the future, should at some point we feel the security budget was insufficient.\n\nYes, that's also possible, RSK uses that. And making some kind of soft-fork for that is also possible, but I don't know if miners will agree to send some coinbase reward to \"<futureBlockNumber> OP_CHECKLOCKTIMEVERIFY OP_DROP OP_TRUE\".\n\nOn 2022-07-06 06:29:18 user Corey Haddad via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>Bitcoin's finite supply is the main argument for people investing in it, the whole narrative around bitcoin is based on its finite supply. While it has its flaws and basically condemns bitcoin to be only used as a store >of value (and not as a currency), I don't think it's worth questioning it at this point.\u00a0\n>\n>Just my 2 sats.\u00a0\n>\n>Giuseppe.\u00a0\n\n\nA finite\u00a0supply alone is not enough to give something value, as it must also be useful in some way. In the case of Bitcoin, various\u00a0forms of cryptographic\u00a0security\u00a0must all work - and work together - to make Bitcoin useful. If the only realistic (fair, efficient & proportionate) way to pay for Bitcoin's security\u00a0was by having some inflation scheme\u00a0that violated the 21 million cap, then agreeing to break the limit would probably be what makes sense, and in the economic interest of its users and holders.\n\nThere will always be competitive\u00a0pressures with respect to efficiency, and both being over-secured and under-secured would be economically inefficient for a crypto currency, and thereby laving room for a more optimally-secured competitor to gain ground. Currently there is zero feedback in the Bitcoin system between what we might think is the optimum amount of security and what actually exists. There is also zero agreement on how much security would constitute such an optimum. Figuring out how much security is needed, or even better, figuring out a way to have a market mechanism to answer that question, will be an important project.\n\nAnother option, if we were to decide we are over-secured in the short term, would be to soft-fork in a reduction in the current and near-future mining rewards, by somehow locking the coins in a contract that deprived the miner of the full reward, and then using that contract to pay the rewards out far in the future, should at some point we feel the security budget was insufficient. Anthony Towns presented a form of this concept in greater detail at a Scaling Bitcoin conference some years ago. While this solution, if employed, would only work for some finite amount of time, it is possible that could give additional decades before the accumulated security budget was exhausted.\u00a0\n\n\nCorey"
            },
            {
                "author": "Billy Tetrud",
                "date": "2022-07-07T00:46:15",
                "message_text_only": "@Corey\n\n>  Currently there is zero feedback in the Bitcoin system between what we\nmight think is the optimum amount of security and what actually exists.\n\nI basically agree with this. The pedantic part of my mind does want to\npoint out that the link between block subsidy and bitcoin's price does\nactually give somewhat of a feedback loop, in that the higher the price,\nthe more valuable bitcoin is as a whole (at least as viewed by the active\nmarket), and therefore the more investment in security is appropriate.\nHowever, in the long run when the subsidy reduces to insignificance, we\nbasically lose this link. And even with this link, it's not very direct.\nFees retain only a little bit of this behavior, because presumably a more\nvaluable bitcoin is more valuable to spend, but the link to security is\nvery tenuous there.\n\n> There is also zero agreement on how much security would constitute such\nan optimum.\n\nThis is really step 1. We need to generate consensus on this long before\nthe block subsidy becomes too small. Probably in the next 10-15 years. I\nwrote a paper\n<https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity>\nthat uses a framework for thinking about how much security bitcoin might\nneed. The concept is that we should figure out what bitcoin's bottlenecks\nare, and figure out the minimum requirements we want to place on running a\nnode based on how many (public) nodes we think we need and what percentage\nof machines out there are likely to run a node. The goals I chose to\nexplore in that paper are totally up for debate, and I think its an\nimportant debate to have. But they are basically a first stab at setting up\nwhat we would need to determine optimum security. I would very much\nappreciate your review of that part of the paper, Corey.\n\n> Figuring out how much security is needed, or even better, figuring out a\nway to have a market mechanism to answer that question, will be an\nimportant project.\n\nMy thoughts on this are that we will need to periodically make some\nsoftware change to adjust a *target amount of investment in security*,\nbecause the components of bitcoin's blockchain security are not all\npredictable. Many unpredictable things factor into bitcoin's security (eg\nminer behavior, pools, how many people generally run public nodes on their\nown, what features require running public nodes, value of bitcoin, etc.\n\nThe primary mechanism we have to change how much security we have is to\nchange the block size, which changes how much fees miners can collect each\nblock. This isn't a linear thing. Its probably a parabola with a peak,\nwhere at that peak, making the block either smaller and larger would both\nreduce total fees paid. This is because when blocksize is higher, more\ntransactions (and thus more fees) can be collected, but at the same time\naverage fees will be lower. The pull of those two forces should define that\nparabola.\n\nSo my suggestion here would be that we should target a certain amount of\nsecurity and have programmatic adjustments to the block size in order to\nstay near enough to the parabolic maximum so that we pay miners enough to\ngive us sufficient blockchain security. Conversely, it should also attempt\nto minimize how much \"extra\" security we pay for. It would be wasteful to\npay 3 times as much for 3 times the security we actually need. Such a thing\nis a very real form of devaluation that basically represents a tax on\nbitcoin and users of bitcoin. And its very possible for the position of\nthis parabola to change over time. We could never say with certainty\nwhether we're on one side of the parabola's maximum or the other. This\nwould make it rather complex to track well.\n\nAdditionally, there's no clear trustless way to determine the market value\nof bitcoin at any given time, which makes it difficult to maintain this\ntarget over time. As the market value of bitcoin changes, that target could\nbecome quite inaccurate. This implies that we would need to do periodic\nadjustments to the target, either through periodic forks or through some\nother mechanism for changing the target.\n\nIf there were a good trustless way to determine the market value of\nbitcoin, we would have to \"manually\" change this target potentially much\nless often. Transaction fees kind of have an association with market value.\nPerhaps some kind of analysis can be done on that to make a reasonable\nprediction of what market value is based on fees. Or maybe blocks can\ncommit to a market price similarly to how they commit to a timestamp (which\nis also only verifiable to an approximation and can only be verified close\nto when it was mined but not eg years later).\n\n\n\n\nOn Wed, Jul 6, 2022 at 4:13 AM vjudeu via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> > If the only realistic (fair, efficient & proportionate) way to pay for\n> Bitcoin's security was by having some inflation scheme that violated the 21\n> million cap, then agreeing to break the limit would probably be what makes\n> sense, and in the economic interest of its users and holders.\n>\n> So, Paul Sztorc was right again, there are three options: Enormous Block\n> Size Increases, Violate 21M Coin Limit, or >50% Miner Fee-Revenues Come\n> From Merged Mining: https://www.truthcoin.info/images/sb-trilemma.png.\n> And I think using Merged Mining is the best option. More about that:\n> https://www.truthcoin.info/blog/security-budget-ii-mm/\n>\n> > Another option, if we were to decide we are over-secured in the short\n> term, would be to soft-fork in a reduction in the current and near-future\n> mining rewards, by somehow locking the coins in a contract that deprived\n> the miner of the full reward, and then using that contract to pay the\n> rewards out far in the future, should at some point we feel the security\n> budget was insufficient.\n>\n> Yes, that's also possible, RSK uses that. And making some kind of\n> soft-fork for that is also possible, but I don't know if miners will agree\n> to send some coinbase reward to \"<futureBlockNumber> OP_CHECKLOCKTIMEVERIFY\n> OP_DROP OP_TRUE\".\n>\n> On 2022-07-06 06:29:18 user Corey Haddad via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> >Bitcoin's finite supply is the main argument for people investing in it,\n> the whole narrative around bitcoin is based on its finite supply. While it\n> has its flaws and basically condemns bitcoin to be only used as a store >of\n> value (and not as a currency), I don't think it's worth questioning it at\n> this point.\n> >\n> >Just my 2 sats.\n> >\n> >Giuseppe.\n>\n>\n> A finite supply alone is not enough to give something value, as it must\n> also be useful in some way. In the case of Bitcoin, various forms of\n> cryptographic security must all work - and work together - to make Bitcoin\n> useful. If the only realistic (fair, efficient & proportionate) way to pay\n> for Bitcoin's security was by having some inflation scheme that violated\n> the 21 million cap, then agreeing to break the limit would probably be what\n> makes sense, and in the economic interest of its users and holders.\n>\n> There will always be competitive pressures with respect to efficiency, and\n> both being over-secured and under-secured would be economically inefficient\n> for a crypto currency, and thereby laving room for a more optimally-secured\n> competitor to gain ground. Currently there is zero feedback in the Bitcoin\n> system between what we might think is the optimum amount of security and\n> what actually exists. There is also zero agreement on how much security\n> would constitute such an optimum. Figuring out how much security is needed,\n> or even better, figuring out a way to have a market mechanism to answer\n> that question, will be an important project.\n>\n> Another option, if we were to decide we are over-secured in the short\n> term, would be to soft-fork in a reduction in the current and near-future\n> mining rewards, by somehow locking the coins in a contract that deprived\n> the miner of the full reward, and then using that contract to pay the\n> rewards out far in the future, should at some point we feel the security\n> budget was insufficient. Anthony Towns presented a form of this concept in\n> greater detail at a Scaling Bitcoin conference some years ago. While this\n> solution, if employed, would only work for some finite amount of time, it\n> is possible that could give additional decades before the accumulated\n> security budget was exhausted.\n>\n>\n> Corey\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220706/d5a48a69/attachment.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-07T12:15:34",
                "message_text_only": "> The primary mechanism we have to change how much security we have is to change the block size, which changes how much fees miners can collect each block. This isn't a linear thing. Its probably a parabola with a peak, where at that peak, making the block either smaller and larger would both reduce total fees paid. This is because when blocksize is higher, more transactions (and thus more fees) can be collected, but at the same time average fees will be lower. The pull of those two forces should define that parabola.\n\nI think it would be better to allow transaction joining, and lock some coins to the future block numbers in case of peaks, to make fees more smoothly, like it is in RSK. So, if there is 0.01 BTC fee for some transaction, it does not matter if that is paid by some single user, or by a million users, one satoshi each, that comes on-chain as a single transaction to serve all of them.\n\n> Transaction fees kind of have an association with market value.\n\nThey will be more important in the future, because when all coins will be mined, then miners will earn nothing, if there will be no on-chain transactions. On the other hand, people will switch to other networks, if on-chain fees will be too high. So, I think the market should adjust fees, and finding the right balance between on-chain and off-chain should be left to the users, just by providing them options like transaction joining. I think such features will be created anyway, if not supported directly, then they will come as no-forks, and if that won't succeed, then I expect some centralized websites will start doing that anyway.\n\n\nOn 2022-07-07 02:46:29 user Billy Tetrud <billy.tetrud at gmail.com> wrote:\n@Corey\n\n\n\n>  Currently there is zero feedback in the Bitcoin system between what we might think is the optimum amount of security and what actually exists. \n\n\nI basically agree with this. The pedantic part of my mind does want to point out that the link between block subsidy and bitcoin's price does actually give somewhat of a feedback loop, in that the higher the price, the more valuable bitcoin is as a whole (at least as viewed by the active market), and therefore the more investment in security is appropriate. However, in the long run when the subsidy reduces to insignificance, we basically lose this link. And even with this link, it's not very direct. Fees retain only a little bit of this behavior, because presumably a more valuable bitcoin is more valuable to spend, but the link to security is very tenuous there.  \n\n\n> There is also zero agreement on how much security would constitute such an optimum. \n\n\nThis is really step 1. We need to generate consensus on this long before the block subsidy becomes too small. Probably in the next 10-15 years. I wrote a paper that uses a framework for thinking about how much security bitcoin might need. The concept is that we should figure out what bitcoin's bottlenecks are, and figure out the minimum requirements we want to place on running a node based on how many (public) nodes we think we need and what percentage of machines out there are likely to run a node. The goals I chose to explore in that paper are totally up for debate, and I think its an important debate to have. But they are basically a first stab at setting up what we would need to determine optimum security. I would very much appreciate your review of that part of the paper, Corey.  \n\n\n> Figuring out how much security is needed, or even better, figuring out a way to have a market mechanism to answer that question, will be an important project.\n\n\nMy thoughts on this are that we will need to periodically make some software change to adjust a *target amount of investment in security*, because the components of bitcoin's blockchain security are not all predictable. Many unpredictable things factor into bitcoin's security (eg miner behavior, pools, how many people generally run public nodes on their own, what features require running public nodes, value of bitcoin, etc. \n\n\nThe primary mechanism we have to change how much security we have is to change the block size, which changes how much fees miners can collect each block. This isn't a linear thing. Its probably a parabola with a peak, where at that peak, making the block either smaller and larger would both reduce total fees paid. This is because when blocksize is higher, more transactions (and thus more fees) can be collected, but at the same time average fees will be lower. The pull of those two forces should define that parabola. \n\n\nSo my suggestion here would be that we should target a certain amount of security and have programmatic adjustments to the block size in order to stay near enough to the parabolic maximum so that we pay miners enough to give us sufficient blockchain security. Conversely, it should also attempt to minimize how much \"extra\" security we pay for. It would be wasteful to pay 3 times as much for 3 times the security we actually need. Such a thing is a very real form of devaluation that basically represents a tax on bitcoin and users of bitcoin. And its very possible for the position of this parabola to change over time. We could never say with certainty whether we're on one side of the parabola's maximum or the other. This would make it rather complex to track well.  \n\n\nAdditionally, there's no clear trustless way to determine the market value of bitcoin at any given time, which makes it difficult to maintain this target over time. As the market value of bitcoin changes, that target could become quite inaccurate. This implies that we would need to do periodic adjustments to the target, either through periodic forks or through some other mechanism for changing the target. \n\n\nIf there were a good trustless way to determine the market value of bitcoin, we would have to \"manually\" change this target potentially much less often. Transaction fees kind of have an association with market value. Perhaps some kind of analysis can be done on that to make a reasonable prediction of what market value is based on fees. Or maybe blocks can commit to a market price similarly to how they commit to a timestamp (which is also only verifiable to an approximation and can only be verified close to when it was mined but not eg years later). \n\n\n   \n\n\n\n\nOn Wed, Jul 6, 2022 at 4:13 AM vjudeu via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> If the only realistic (fair, efficient & proportionate) way to pay for Bitcoin's security was by having some inflation scheme that violated the 21 million cap, then agreeing to break the limit would probably be what makes sense, and in the economic interest of its users and holders.\n\nSo, Paul Sztorc was right again, there are three options: Enormous Block Size Increases, Violate 21M Coin Limit, or >50% Miner Fee-Revenues Come From Merged Mining: https://www.truthcoin.info/images/sb-trilemma.png. And I think using Merged Mining is the best option. More about that: https://www.truthcoin.info/blog/security-budget-ii-mm/\n\n> Another option, if we were to decide we are over-secured in the short term, would be to soft-fork in a reduction in the current and near-future mining rewards, by somehow locking the coins in a contract that deprived the miner of the full reward, and then using that contract to pay the rewards out far in the future, should at some point we feel the security budget was insufficient.\n\nYes, that's also possible, RSK uses that. And making some kind of soft-fork for that is also possible, but I don't know if miners will agree to send some coinbase reward to \"<futureBlockNumber> OP_CHECKLOCKTIMEVERIFY OP_DROP OP_TRUE\".\n\nOn 2022-07-06 06:29:18 user Corey Haddad via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>Bitcoin's finite supply is the main argument for people investing in it, the whole narrative around bitcoin is based on its finite supply. While it has its flaws and basically condemns bitcoin to be only used as a store >of value (and not as a currency), I don't think it's worth questioning it at this point. \n>\n>Just my 2 sats. \n>\n>Giuseppe. \n\n\nA finite supply alone is not enough to give something value, as it must also be useful in some way. In the case of Bitcoin, various forms of cryptographic security must all work - and work together - to make Bitcoin useful. If the only realistic (fair, efficient & proportionate) way to pay for Bitcoin's security was by having some inflation scheme that violated the 21 million cap, then agreeing to break the limit would probably be what makes sense, and in the economic interest of its users and holders.\n\nThere will always be competitive pressures with respect to efficiency, and both being over-secured and under-secured would be economically inefficient for a crypto currency, and thereby laving room for a more optimally-secured competitor to gain ground. Currently there is zero feedback in the Bitcoin system between what we might think is the optimum amount of security and what actually exists. There is also zero agreement on how much security would constitute such an optimum. Figuring out how much security is needed, or even better, figuring out a way to have a market mechanism to answer that question, will be an important project.\n\nAnother option, if we were to decide we are over-secured in the short term, would be to soft-fork in a reduction in the current and near-future mining rewards, by somehow locking the coins in a contract that deprived the miner of the full reward, and then using that contract to pay the rewards out far in the future, should at some point we feel the security budget was insufficient. Anthony Towns presented a form of this concept in greater detail at a Scaling Bitcoin conference some years ago. While this solution, if employed, would only work for some finite amount of time, it is possible that could give additional decades before the accumulated security budget was exhausted. \n\n\nCorey\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-07T14:05:25",
                "message_text_only": ".\n\n>\n> My thoughts on this are that we will need to periodically make some\n> software change to adjust a *target amount of investment in security*,\n> because the\n>\n\nI think perhaps you're  underestimating the degree to which utility can be\nadded to the main chain to encourage fees.\n\nFor example, lightning channel open and close transactions are more\nvaluable, via aggregation, than simple money transfers.\n\nThe value of higher utility transactions goes up fairly quickly.\n\nThere is no end of the possibility of fee levels in response to increased\nutility\n\nOther networks have clearly proven the extremes of this, with rampant fees\nappearing rapidly in response to higher utility levels\n\nBecause this has already been proven on other networks, we can plan to\ngradually  increase the utility of on-chain transactions in response to\nreward reductions\n\nThis should be more than sufficient to offset and maintain sufficient\nsecurity\n\n... Hence the title of this thread.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/3fb02d66/attachment-0001.html>"
            },
            {
                "author": "Giuseppe B",
                "date": "2022-07-07T14:10:31",
                "message_text_only": "It's the first time I read about the security budget and it definitely\nsounds scary to me.\nIf it only takes a few million dollars to attack BTC and make it completely\nunusable for one day, I suppose it's only a matter of time before some\nhedge fund actually does it, using a short position to profit from the huge\npanic sell wave and global loss of confidence that would result from it.\nIt seems even cheaper to do than the recent attack to Terra, unless I'm\nmissing something.\n\n\nOn Wed, Jul 6, 2022, 1:10 PM <vjudeu at gazeta.pl> wrote:\n\n> > If the only realistic (fair, efficient & proportionate) way to pay for\n> Bitcoin's security was by having some inflation scheme that violated the 21\n> million cap, then agreeing to break the limit would probably be what makes\n> sense, and in the economic interest of its users and holders.\n>\n> So, Paul Sztorc was right again, there are three options: Enormous Block\n> Size Increases, Violate 21M Coin Limit, or >50% Miner Fee-Revenues Come\n> From Merged Mining: https://www.truthcoin.info/images/sb-trilemma.png.\n> And I think using Merged Mining is the best option. More about that:\n> https://www.truthcoin.info/blog/security-budget-ii-mm/\n>\n> > Another option, if we were to decide we are over-secured in the short\n> term, would be to soft-fork in a reduction in the current and near-future\n> mining rewards, by somehow locking the coins in a contract that deprived\n> the miner of the full reward, and then using that contract to pay the\n> rewards out far in the future, should at some point we feel the security\n> budget was insufficient.\n>\n> Yes, that's also possible, RSK uses that. And making some kind of\n> soft-fork for that is also possible, but I don't know if miners will agree\n> to send some coinbase reward to \"<futureBlockNumber> OP_CHECKLOCKTIMEVERIFY\n> OP_DROP OP_TRUE\".\n>\n> On 2022-07-06 06:29:18 user Corey Haddad via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> >Bitcoin's finite supply is the main argument for people investing in it,\n> the whole narrative around bitcoin is based on its finite supply. While it\n> has its flaws and basically condemns bitcoin to be only used as a store >of\n> value (and not as a currency), I don't think it's worth questioning it at\n> this point.\n> >\n> >Just my 2 sats.\n> >\n> >Giuseppe.\n>\n>\n> A finite supply alone is not enough to give something value, as it must\n> also be useful in some way. In the case of Bitcoin, various forms of\n> cryptographic security must all work - and work together - to make Bitcoin\n> useful. If the only realistic (fair, efficient & proportionate) way to pay\n> for Bitcoin's security was by having some inflation scheme that violated\n> the 21 million cap, then agreeing to break the limit would probably be what\n> makes sense, and in the economic interest of its users and holders.\n>\n> There will always be competitive pressures with respect to efficiency, and\n> both being over-secured and under-secured would be economically inefficient\n> for a crypto currency, and thereby laving room for a more optimally-secured\n> competitor to gain ground. Currently there is zero feedback in the Bitcoin\n> system between what we might think is the optimum amount of security and\n> what actually exists. There is also zero agreement on how much security\n> would constitute such an optimum. Figuring out how much security is needed,\n> or even better, figuring out a way to have a market mechanism to answer\n> that question, will be an important project.\n>\n> Another option, if we were to decide we are over-secured in the short\n> term, would be to soft-fork in a reduction in the current and near-future\n> mining rewards, by somehow locking the coins in a contract that deprived\n> the miner of the full reward, and then using that contract to pay the\n> rewards out far in the future, should at some point we feel the security\n> budget was insufficient. Anthony Towns presented a form of this concept in\n> greater detail at a Scaling Bitcoin conference some years ago. While this\n> solution, if employed, would only work for some finite amount of time, it\n> is possible that could give additional decades before the accumulated\n> security budget was exhausted.\n>\n>\n> Corey\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/0f3be846/attachment-0001.html>"
            },
            {
                "author": "Billy Tetrud",
                "date": "2022-07-08T05:03:40",
                "message_text_only": "@vjudeu\n> better to allow transaction joining.. to make fees more smoothly\n\nI'm not familiar with RSK transaction joining. However, I don't think this\naddresses the issues Corey brought up - which is that the\nappropriate amount of security (ie miner revenue) isn't linked with any\nbitcoin market behavior. It sounds like you're suggesting something that\ncould smooth out the fee market and potentially lower fees, however it\ndoesn't sound like a mechanism that could be used to target a particular\nsecurity level.\n\n>  I think the market should adjust fees, and finding the right balance\nbetween on-chain and off-chain should be left to the users, just by\nproviding them options like transaction joining\n\nThe market has an incentive to minimize fees. So I don't see how this would\nbe sufficient if it ends up that miner revenue from fees is too low.\n\n@Erik\n> I think perhaps you're  underestimating the degree to which utility can\nbe added to the main chain to encourage fees.\n\nIt seems you've misinterpreted me to be saying that fees will be too low. I\nhave no idea if fees will be too low or not. And you might be right that\nfees are likely to remain high enough. However, fees might also remain *too\nhigh* which itself could be a problem. As I noted above, since market\nforces all incentivize driving fees down, what do we do if that force\ndrives it below a sufficient level? How will we know when that happens\nuntil we know what the sufficient level of security is (eg in terms of\ntotal miner revenue).\n\n@Guiseppe\n> If it only takes a few million dollars to attack BTC and make it\ncompletely unusable for one day\n\nIt would take much more than a few million to 51% attack bitcoin. Bitcoin's\nblockchain security is primarily based on the capital cost of buying up a\nmassive amount of hashpower. The ongoing maintenance and electricity costs\nof mining are actually not very relevant to security because all those\nongoing costs are directly offset by mining revenues. Its the upfront costs\nthat serve as the primary barrier an attacker must surpass. Acquiring the\nmining hardware, finding places where energy costs are low enough, setting\nup the equipment, etc. To do that costs billions of dollars, not millions.\n\n\nOn Thu, Jul 7, 2022 at 9:44 AM Giuseppe B via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> It's the first time I read about the security budget and it definitely\n> sounds scary to me.\n> If it only takes a few million dollars to attack BTC and make it\n> completely unusable for one day, I suppose it's only a matter of time\n> before some hedge fund actually does it, using a short position to profit\n> from the huge panic sell wave and global loss of confidence that would\n> result from it.\n> It seems even cheaper to do than the recent attack to Terra, unless I'm\n> missing something.\n>\n>\n> On Wed, Jul 6, 2022, 1:10 PM <vjudeu at gazeta.pl> wrote:\n>\n>> > If the only realistic (fair, efficient & proportionate) way to pay for\n>> Bitcoin's security was by having some inflation scheme that violated the 21\n>> million cap, then agreeing to break the limit would probably be what makes\n>> sense, and in the economic interest of its users and holders.\n>>\n>> So, Paul Sztorc was right again, there are three options: Enormous Block\n>> Size Increases, Violate 21M Coin Limit, or >50% Miner Fee-Revenues Come\n>> From Merged Mining: https://www.truthcoin.info/images/sb-trilemma.png.\n>> And I think using Merged Mining is the best option. More about that:\n>> https://www.truthcoin.info/blog/security-budget-ii-mm/\n>>\n>> > Another option, if we were to decide we are over-secured in the short\n>> term, would be to soft-fork in a reduction in the current and near-future\n>> mining rewards, by somehow locking the coins in a contract that deprived\n>> the miner of the full reward, and then using that contract to pay the\n>> rewards out far in the future, should at some point we feel the security\n>> budget was insufficient.\n>>\n>> Yes, that's also possible, RSK uses that. And making some kind of\n>> soft-fork for that is also possible, but I don't know if miners will agree\n>> to send some coinbase reward to \"<futureBlockNumber> OP_CHECKLOCKTIMEVERIFY\n>> OP_DROP OP_TRUE\".\n>>\n>> On 2022-07-06 06:29:18 user Corey Haddad via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> >Bitcoin's finite supply is the main argument for people investing in it,\n>> the whole narrative around bitcoin is based on its finite supply. While it\n>> has its flaws and basically condemns bitcoin to be only used as a store >of\n>> value (and not as a currency), I don't think it's worth questioning it at\n>> this point.\n>> >\n>> >Just my 2 sats.\n>> >\n>> >Giuseppe.\n>>\n>>\n>> A finite supply alone is not enough to give something value, as it must\n>> also be useful in some way. In the case of Bitcoin, various forms of\n>> cryptographic security must all work - and work together - to make Bitcoin\n>> useful. If the only realistic (fair, efficient & proportionate) way to pay\n>> for Bitcoin's security was by having some inflation scheme that violated\n>> the 21 million cap, then agreeing to break the limit would probably be what\n>> makes sense, and in the economic interest of its users and holders.\n>>\n>> There will always be competitive pressures with respect to efficiency,\n>> and both being over-secured and under-secured would be economically\n>> inefficient for a crypto currency, and thereby laving room for a more\n>> optimally-secured competitor to gain ground. Currently there is zero\n>> feedback in the Bitcoin system between what we might think is the optimum\n>> amount of security and what actually exists. There is also zero agreement\n>> on how much security would constitute such an optimum. Figuring out how\n>> much security is needed, or even better, figuring out a way to have a\n>> market mechanism to answer that question, will be an important project.\n>>\n>> Another option, if we were to decide we are over-secured in the short\n>> term, would be to soft-fork in a reduction in the current and near-future\n>> mining rewards, by somehow locking the coins in a contract that deprived\n>> the miner of the full reward, and then using that contract to pay the\n>> rewards out far in the future, should at some point we feel the security\n>> budget was insufficient. Anthony Towns presented a form of this concept in\n>> greater detail at a Scaling Bitcoin conference some years ago. While this\n>> solution, if employed, would only work for some finite amount of time, it\n>> is possible that could give additional decades before the accumulated\n>> security budget was exhausted.\n>>\n>>\n>> Corey\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220708/fd7b41a1/attachment-0001.html>"
            },
            {
                "author": "John Carvalho",
                "date": "2022-07-07T13:24:39",
                "message_text_only": "Billy,\n\nProof of work and the difficulty adjustment function solve literally\neverything you are talking about already.\n\nBitcoin does not need active economic governanance by devs or meddlers.\n\nPlease stop spamming this list with this nonsensical thread.\n\nLove,\n\nJohn\n\n\nOn Thu, Jul 7, 2022 at 1:00 PM <\nbitcoin-dev-request at lists.linuxfoundation.org> wrote:\n\n> Send bitcoin-dev mailing list submissions to\n>         bitcoin-dev at lists.linuxfoundation.org\n>\n> To subscribe or unsubscribe via the World Wide Web, visit\n>         https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> or, via email, send a message with subject or body 'help' to\n>         bitcoin-dev-request at lists.linuxfoundation.org\n>\n> You can reach the person managing the list at\n>         bitcoin-dev-owner at lists.linuxfoundation.org\n>\n> When replying, please edit your Subject line so it is more specific\n> than \"Re: Contents of bitcoin-dev digest...\"\n>\n>\n> Today's Topics:\n>\n>    1. Re: Bitcoin covenants are inevitable (Billy Tetrud)\n>\n>\n> ----------------------------------------------------------------------\n>\n> Message: 1\n> Date: Wed, 6 Jul 2022 17:46:15 -0700\n> From: Billy Tetrud <billy.tetrud at gmail.com>\n> To: vjudeu at gazeta.pl,  Bitcoin Protocol Discussion\n>         <bitcoin-dev at lists.linuxfoundation.org>\n> Subject: Re: [bitcoin-dev] Bitcoin covenants are inevitable\n> Message-ID:\n>         <CAGpPWDbKjSXKHaUcevzG1DtdP-WksO3Ak+1J2JWTeCG2=\n> 3GgLQ at mail.gmail.com>\n> Content-Type: text/plain; charset=\"utf-8\"\n>\n> @Corey\n>\n> >  Currently there is zero feedback in the Bitcoin system between what we\n> might think is the optimum amount of security and what actually exists.\n>\n> I basically agree with this. The pedantic part of my mind does want to\n> point out that the link between block subsidy and bitcoin's price does\n> actually give somewhat of a feedback loop, in that the higher the price,\n> the more valuable bitcoin is as a whole (at least as viewed by the active\n> market), and therefore the more investment in security is appropriate.\n> However, in the long run when the subsidy reduces to insignificance, we\n> basically lose this link. And even with this link, it's not very direct.\n> Fees retain only a little bit of this behavior, because presumably a more\n> valuable bitcoin is more valuable to spend, but the link to security is\n> very tenuous there.\n>\n> > There is also zero agreement on how much security would constitute such\n> an optimum.\n>\n> This is really step 1. We need to generate consensus on this long before\n> the block subsidy becomes too small. Probably in the next 10-15 years. I\n> wrote a paper\n> <https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity>\n> that uses a framework for thinking about how much security bitcoin might\n> need. The concept is that we should figure out what bitcoin's bottlenecks\n> are, and figure out the minimum requirements we want to place on running a\n> node based on how many (public) nodes we think we need and what percentage\n> of machines out there are likely to run a node. The goals I chose to\n> explore in that paper are totally up for debate, and I think its an\n> important debate to have. But they are basically a first stab at setting up\n> what we would need to determine optimum security. I would very much\n> appreciate your review of that part of the paper, Corey.\n>\n> > Figuring out how much security is needed, or even better, figuring out a\n> way to have a market mechanism to answer that question, will be an\n> important project.\n>\n> My thoughts on this are that we will need to periodically make some\n> software change to adjust a *target amount of investment in security*,\n> because the components of bitcoin's blockchain security are not all\n> predictable. Many unpredictable things factor into bitcoin's security (eg\n> miner behavior, pools, how many people generally run public nodes on their\n> own, what features require running public nodes, value of bitcoin, etc.\n>\n> The primary mechanism we have to change how much security we have is to\n> change the block size, which changes how much fees miners can collect each\n> block. This isn't a linear thing. Its probably a parabola with a peak,\n> where at that peak, making the block either smaller and larger would both\n> reduce total fees paid. This is because when blocksize is higher, more\n> transactions (and thus more fees) can be collected, but at the same time\n> average fees will be lower. The pull of those two forces should define that\n> parabola.\n>\n> So my suggestion here would be that we should target a certain amount of\n> security and have programmatic adjustments to the block size in order to\n> stay near enough to the parabolic maximum so that we pay miners enough to\n> give us sufficient blockchain security. Conversely, it should also attempt\n> to minimize how much \"extra\" security we pay for. It would be wasteful to\n> pay 3 times as much for 3 times the security we actually need. Such a thing\n> is a very real form of devaluation that basically represents a tax on\n> bitcoin and users of bitcoin. And its very possible for the position of\n> this parabola to change over time. We could never say with certainty\n> whether we're on one side of the parabola's maximum or the other. This\n> would make it rather complex to track well.\n>\n> Additionally, there's no clear trustless way to determine the market value\n> of bitcoin at any given time, which makes it difficult to maintain this\n> target over time. As the market value of bitcoin changes, that target could\n> become quite inaccurate. This implies that we would need to do periodic\n> adjustments to the target, either through periodic forks or through some\n> other mechanism for changing the target.\n>\n> If there were a good trustless way to determine the market value of\n> bitcoin, we would have to \"manually\" change this target potentially much\n> less often. Transaction fees kind of have an association with market value.\n> Perhaps some kind of analysis can be done on that to make a reasonable\n> prediction of what market value is based on fees. Or maybe blocks can\n> commit to a market price similarly to how they commit to a timestamp (which\n> is also only verifiable to an approximation and can only be verified close\n> to when it was mined but not eg years later).\n>\n>\n>\n>\n> On Wed, Jul 6, 2022 at 4:13 AM vjudeu via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n> > > If the only realistic (fair, efficient & proportionate) way to pay for\n> > Bitcoin's security was by having some inflation scheme that violated the\n> 21\n> > million cap, then agreeing to break the limit would probably be what\n> makes\n> > sense, and in the economic interest of its users and holders.\n> >\n> > So, Paul Sztorc was right again, there are three options: Enormous Block\n> > Size Increases, Violate 21M Coin Limit, or >50% Miner Fee-Revenues Come\n> > From Merged Mining: https://www.truthcoin.info/images/sb-trilemma.png.\n> > And I think using Merged Mining is the best option. More about that:\n> > https://www.truthcoin.info/blog/security-budget-ii-mm/\n> >\n> > > Another option, if we were to decide we are over-secured in the short\n> > term, would be to soft-fork in a reduction in the current and near-future\n> > mining rewards, by somehow locking the coins in a contract that deprived\n> > the miner of the full reward, and then using that contract to pay the\n> > rewards out far in the future, should at some point we feel the security\n> > budget was insufficient.\n> >\n> > Yes, that's also possible, RSK uses that. And making some kind of\n> > soft-fork for that is also possible, but I don't know if miners will\n> agree\n> > to send some coinbase reward to \"<futureBlockNumber>\n> OP_CHECKLOCKTIMEVERIFY\n> > OP_DROP OP_TRUE\".\n> >\n> > On 2022-07-06 06:29:18 user Corey Haddad via bitcoin-dev <\n> > bitcoin-dev at lists.linuxfoundation.org> wrote:\n> > >Bitcoin's finite supply is the main argument for people investing in it,\n> > the whole narrative around bitcoin is based on its finite supply. While\n> it\n> > has its flaws and basically condemns bitcoin to be only used as a store\n> >of\n> > value (and not as a currency), I don't think it's worth questioning it at\n> > this point.\n> > >\n> > >Just my 2 sats.\n> > >\n> > >Giuseppe.\n> >\n> >\n> > A finite supply alone is not enough to give something value, as it must\n> > also be useful in some way. In the case of Bitcoin, various forms of\n> > cryptographic security must all work - and work together - to make\n> Bitcoin\n> > useful. If the only realistic (fair, efficient & proportionate) way to\n> pay\n> > for Bitcoin's security was by having some inflation scheme that violated\n> > the 21 million cap, then agreeing to break the limit would probably be\n> what\n> > makes sense, and in the economic interest of its users and holders.\n> >\n> > There will always be competitive pressures with respect to efficiency,\n> and\n> > both being over-secured and under-secured would be economically\n> inefficient\n> > for a crypto currency, and thereby laving room for a more\n> optimally-secured\n> > competitor to gain ground. Currently there is zero feedback in the\n> Bitcoin\n> > system between what we might think is the optimum amount of security and\n> > what actually exists. There is also zero agreement on how much security\n> > would constitute such an optimum. Figuring out how much security is\n> needed,\n> > or even better, figuring out a way to have a market mechanism to answer\n> > that question, will be an important project.\n> >\n> > Another option, if we were to decide we are over-secured in the short\n> > term, would be to soft-fork in a reduction in the current and near-future\n> > mining rewards, by somehow locking the coins in a contract that deprived\n> > the miner of the full reward, and then using that contract to pay the\n> > rewards out far in the future, should at some point we feel the security\n> > budget was insufficient. Anthony Towns presented a form of this concept\n> in\n> > greater detail at a Scaling Bitcoin conference some years ago. While this\n> > solution, if employed, would only work for some finite amount of time, it\n> > is possible that could give additional decades before the accumulated\n> > security budget was exhausted.\n> >\n> >\n> > Corey\n> > _______________________________________________\n> > bitcoin-dev mailing list\n> > bitcoin-dev at lists.linuxfoundation.org\n> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> >\n> -------------- next part --------------\n> An HTML attachment was scrubbed...\n> URL: <\n> http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220706/d5a48a69/attachment-0001.html\n> >\n>\n> ------------------------------\n>\n> Subject: Digest Footer\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n>\n> ------------------------------\n>\n> End of bitcoin-dev Digest, Vol 86, Issue 7\n> ******************************************\n>\n-- \n--\nJohn Carvalho\nCEO, Synonym.to <http://synonym.to/>\n\nSchedule: https://calendly.com/bitcoinerrorlog\nChat: https://t.me/bitcoinerrorlog\nSocial: https://twitter.com/bitcoinerrorlog\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/ebd12f96/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-07T14:12:41",
                "message_text_only": "On Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via bitcoin-dev wrote:\n> Billy,\n> \n> Proof of work and the difficulty adjustment function solve literally\n> everything you are talking about already.\n\nUnfortunately you are quite wrong: the difficulty adjustment function merely\nadjusts for changes in the amount of observable, non-51%-attacking, hashing\npower. In the event of a chain split, the difficulty adjustment function does\nnothing; against a 51% attacker, the difficulty adjustment does nothing;\nagainst a censor, the difficulty adjustment does nothing.\n\nWe should not imbue real technology with magical qualities.\n\n> Bitcoin does not need active economic governanance by devs or meddlers.\n\nYes, active governance would definitely be an exploitable mechanism. On the\nother hand, the status quo of the block reward eventually going away entirely\nis obviously a risky state change too.\n\n> > > There is also zero agreement on how much security would constitute such\n> > an optimum.\n> >\n> > This is really step 1. We need to generate consensus on this long before\n> > the block subsidy becomes too small. Probably in the next 10-15 years. I\n> > wrote a paper\n\nThe fact of the matter is that the present amount of security is about 1.7% of\nthe total coin supply/year, and Bitcoin seems to be working fine. 1.7% is also\nalready an amount low enough that it's much smaller than economic volatility.\n\nObviously 0% is too small.\n\nThere's zero reason to stress about finding an \"optimal\" amount. An amount low\nenough to be easily affordable, but non-zero, is fine. 1% would be fine; 0.5%\nwould probably be fine; 0.1% would probably be fine.\n\nOver a lifetime - 75 years - 0.5% yearly inflation works out to be a 31% tax on\nsavings; 0.1% works out to be 7.2%\n\nThese are all amounts that are likely to be dwarfed by economic shifts.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/22617f6b/attachment.sig>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-07T16:24:26",
                "message_text_only": "> On Jul 7, 2022, at 07:13, Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> \n> \ufeffOn Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via bitcoin-dev wrote:\n>> Billy,\n>> \n>> Proof of work and the difficulty adjustment function solve literally\n>> everything you are talking about already.\n> \n> Unfortunately you are quite wrong: the difficulty adjustment function merely\n> adjusts for changes in the amount of observable, non-51%-attacking, hashing\n> power. In the event of a chain split, the difficulty adjustment function does\n> nothing; against a 51% attacker, the difficulty adjustment does nothing;\n> against a censor, the difficulty adjustment does nothing.\n\nConsider falling hash rate due to a perpetual 51% attack. Difficulty falls, possibly to min difficulty if all non-censors stop mining and with all censors collaborating (one miner). Yet as difficulty falls, so does the cost of countering the censor. At min difficulty everyone can CPU mine again.\n\nGiven the presumption that fees rise on unconfirmed transactions, there is inherent economic incentive to countering at any level of difficulty. Consequently the censor is compelled to subsidize the loss resulting from forgoing higher fee transactions that are incentivizing its competition.\n\nWith falling difficulty this incentive is compounded.\n\nComparisons of security in different scenarios presume a consistent level of demand. If that demand is insufficient to offset the censor\u2019s subsidy, there is no security in any scenario.\n\nGiven that the block subsidy (inflation) is paid equally to censoring and non-censoring miners, it offers no security against censorship whatsoever. Trading fee-based block reward for inflation-based is simply trading censorship resistance for the presumption of double-spend security. But of course, a censor can double spend profitably in any scenario where the double spend value (to the censor) exceeds that of blocks orphaned (as the censor earns 100% of all block rewards).\n\nBanks and state monies offer reasonable double spend security. Not sure that\u2019s a trade worth making.\n\nIt\u2019s not clear to me that Satoshi understood this relation. I\u2019ve seen no indication of it. However the decision to phase out subsidy, once a sufficient number of units (to assure divisibility) had been issued, is what transitions Bitcoin from a censorable to a censorship resistant money. If one does not believe there is sufficient demand for such a money, there is no way to reconcile that belief with a model of censorship resistance.\n\n> We should not imbue real technology with magical qualities.\n\nPrecisely. It is economic forces (people), not technology, that provide security.\n\ne\n\n>> Bitcoin does not need active economic governanance by devs or meddlers.\n> \n> Yes, active governance would definitely be an exploitable mechanism. On the\n> other hand, the status quo of the block reward eventually going away entirely\n> is obviously a risky state change too.\n> \n>>>> There is also zero agreement on how much security would constitute such\n>>> an optimum.\n>>> \n>>> This is really step 1. We need to generate consensus on this long before\n>>> the block subsidy becomes too small. Probably in the next 10-15 years. I\n>>> wrote a paper\n> \n> The fact of the matter is that the present amount of security is about 1.7% of\n> the total coin supply/year, and Bitcoin seems to be working fine. 1.7% is also\n> already an amount low enough that it's much smaller than economic volatility.\n> \n> Obviously 0% is too small.\n> \n> There's zero reason to stress about finding an \"optimal\" amount. An amount low\n> enough to be easily affordable, but non-zero, is fine. 1% would be fine; 0.5%\n> would probably be fine; 0.1% would probably be fine.\n> \n> Over a lifetime - 75 years - 0.5% yearly inflation works out to be a 31% tax on\n> savings; 0.1% works out to be 7.2%\n> \n> These are all amounts that are likely to be dwarfed by economic shifts.\n> \n> -- \n> https://petertodd.org 'peter'[:-1]@petertodd.org\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/octet-stream\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/695b01f5/attachment.obj>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-07T17:37:39",
                "message_text_only": "> > We should not imbue real technology with magical qualities.\n\n> Precisely. It is economic forces (people), not technology, that provide\nsecurity.\n\nYes, and these forces don't prevent double-spend / 51% attacks if the\namounts involved are greater than the incentives.\n\nIn addition to \"utility\", lowering the block size could help prevent this\nissue as well... increasing fee pressure and double-spend security while\nreducing the burden on node operators.\n\nChanges to inflation are, very likely, off the table.\n\n\n\nOn Thu, Jul 7, 2022 at 12:24 PM Eric Voskuil via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n>\n>\n> > On Jul 7, 2022, at 07:13, Peter Todd via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> >\n> > \ufeffOn Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via bitcoin-dev\n> wrote:\n> >> Billy,\n> >>\n> >> Proof of work and the difficulty adjustment function solve literally\n> >> everything you are talking about already.\n> >\n> > Unfortunately you are quite wrong: the difficulty adjustment function\n> merely\n> > adjusts for changes in the amount of observable, non-51%-attacking,\n> hashing\n> > power. In the event of a chain split, the difficulty adjustment function\n> does\n> > nothing; against a 51% attacker, the difficulty adjustment does nothing;\n> > against a censor, the difficulty adjustment does nothing.\n>\n> Consider falling hash rate due to a perpetual 51% attack. Difficulty\n> falls, possibly to min difficulty if all non-censors stop mining and with\n> all censors collaborating (one miner). Yet as difficulty falls, so does the\n> cost of countering the censor. At min difficulty everyone can CPU mine\n> again.\n>\n> Given the presumption that fees rise on unconfirmed transactions, there is\n> inherent economic incentive to countering at any level of difficulty.\n> Consequently the censor is compelled to subsidize the loss resulting from\n> forgoing higher fee transactions that are incentivizing its competition.\n>\n> With falling difficulty this incentive is compounded.\n>\n> Comparisons of security in different scenarios presume a consistent level\n> of demand. If that demand is insufficient to offset the censor\u2019s subsidy,\n> there is no security in any scenario.\n>\n> Given that the block subsidy (inflation) is paid equally to censoring and\n> non-censoring miners, it offers no security against censorship whatsoever.\n> Trading fee-based block reward for inflation-based is simply trading\n> censorship resistance for the presumption of double-spend security. But of\n> course, a censor can double spend profitably in any scenario where the\n> double spend value (to the censor) exceeds that of blocks orphaned (as the\n> censor earns 100% of all block rewards).\n>\n> Banks and state monies offer reasonable double spend security. Not sure\n> that\u2019s a trade worth making.\n>\n> It\u2019s not clear to me that Satoshi understood this relation. I\u2019ve seen no\n> indication of it. However the decision to phase out subsidy, once a\n> sufficient number of units (to assure divisibility) had been issued, is\n> what transitions Bitcoin from a censorable to a censorship resistant money.\n> If one does not believe there is sufficient demand for such a money, there\n> is no way to reconcile that belief with a model of censorship resistance.\n>\n> > We should not imbue real technology with magical qualities.\n>\n> Precisely. It is economic forces (people), not technology, that provide\n> security.\n>\n> e\n>\n> >> Bitcoin does not need active economic governanance by devs or meddlers.\n> >\n> > Yes, active governance would definitely be an exploitable mechanism. On\n> the\n> > other hand, the status quo of the block reward eventually going away\n> entirely\n> > is obviously a risky state change too.\n> >\n> >>>> There is also zero agreement on how much security would constitute\n> such\n> >>> an optimum.\n> >>>\n> >>> This is really step 1. We need to generate consensus on this long\n> before\n> >>> the block subsidy becomes too small. Probably in the next 10-15 years.\n> I\n> >>> wrote a paper\n> >\n> > The fact of the matter is that the present amount of security is about\n> 1.7% of\n> > the total coin supply/year, and Bitcoin seems to be working fine. 1.7%\n> is also\n> > already an amount low enough that it's much smaller than economic\n> volatility.\n> >\n> > Obviously 0% is too small.\n> >\n> > There's zero reason to stress about finding an \"optimal\" amount. An\n> amount low\n> > enough to be easily affordable, but non-zero, is fine. 1% would be fine;\n> 0.5%\n> > would probably be fine; 0.1% would probably be fine.\n> >\n> > Over a lifetime - 75 years - 0.5% yearly inflation works out to be a 31%\n> tax on\n> > savings; 0.1% works out to be 7.2%\n> >\n> > These are all amounts that are likely to be dwarfed by economic shifts.\n> >\n> > --\n> > https://petertodd.org 'peter'[:-1]@petertodd.org\n> > _______________________________________________\n> > bitcoin-dev mailing list\n> > bitcoin-dev at lists.linuxfoundation.org\n> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/45a46fbd/attachment.html>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-07T19:57:56",
                "message_text_only": "It\u2019s not clear how reducing block size changes the fee aspect of the block reward. Assuming half the space implies twice the fee per avg tx the reward remains constant.\n\nAny additional cost of processing more or less bytes would not matter, because of course this is just a cost that gets nulled out by difficulty \u2014 average profit (net income) is the cost of capital.\n\nThe reason for smaller vs. larger blocks is to ensure that individuals can afford to validate. That\u2019s a threshold criteria.\n\nGiven unlimited size blocks, miners would still have to fix a point in time to mine, gathering as much fee as they can optimize in some time period presumably less than 10 minutes. The produces a limit to transaction volume, yet neither reward nor profit would be affected given the above assumptions. The difference would be in a tradeoff of per tx fee against the threshold.\n\nGiven Moore\u2019s Law, that threshold is constantly decreasing, which will make it  cheaper over time for more individuals to validate. But the difference for miners for smaller blocks is largely inconsequential relative to their other costs.\n\nIncreasing demand is the only thing that increases double spend security (and censorship resistance assuming fee-based reward). With rising demand there is rising overall hash rate, despite block reward and profit remaining constant. This makes the cost of attempting to orphan a block higher, therefore lowering the depth/time requirement implied to secure a given tx amount.\n\nThese are the two factors, demand and time. Less demand implies more time to secure a given amount against double spend, and also implies a lower cost to subsidize a censorship regime. But the latter requires a differential in reward between the censor and non-censoring miners. While this could be paid in side fees, that is a significant anonymity issue.\n\ne\n\n> On Jul 7, 2022, at 10:37, Erik Aronesty <erik at q32.com> wrote:\n> \n> \ufeff\n> > > We should not imbue real technology with magical qualities.\n> \n> > Precisely. It is economic forces (people), not technology, that provide security.\n> \n> Yes, and these forces don't prevent double-spend / 51% attacks if the amounts involved are greater than the incentives.\n> \n> In addition to \"utility\", lowering the block size could help prevent this issue as well... increasing fee pressure and double-spend security while reducing the burden on node operators.\n> \n> Changes to inflation are, very likely, off the table.\n> \n>  \n> \n>> On Thu, Jul 7, 2022 at 12:24 PM Eric Voskuil via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> \n>> \n>> > On Jul 7, 2022, at 07:13, Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> > \n>> > \ufeffOn Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via bitcoin-dev wrote:\n>> >> Billy,\n>> >> \n>> >> Proof of work and the difficulty adjustment function solve literally\n>> >> everything you are talking about already.\n>> > \n>> > Unfortunately you are quite wrong: the difficulty adjustment function merely\n>> > adjusts for changes in the amount of observable, non-51%-attacking, hashing\n>> > power. In the event of a chain split, the difficulty adjustment function does\n>> > nothing; against a 51% attacker, the difficulty adjustment does nothing;\n>> > against a censor, the difficulty adjustment does nothing.\n>> \n>> Consider falling hash rate due to a perpetual 51% attack. Difficulty falls, possibly to min difficulty if all non-censors stop mining and with all censors collaborating (one miner). Yet as difficulty falls, so does the cost of countering the censor. At min difficulty everyone can CPU mine again.\n>> \n>> Given the presumption that fees rise on unconfirmed transactions, there is inherent economic incentive to countering at any level of difficulty. Consequently the censor is compelled to subsidize the loss resulting from forgoing higher fee transactions that are incentivizing its competition.\n>> \n>> With falling difficulty this incentive is compounded.\n>> \n>> Comparisons of security in different scenarios presume a consistent level of demand. If that demand is insufficient to offset the censor\u2019s subsidy, there is no security in any scenario.\n>> \n>> Given that the block subsidy (inflation) is paid equally to censoring and non-censoring miners, it offers no security against censorship whatsoever. Trading fee-based block reward for inflation-based is simply trading censorship resistance for the presumption of double-spend security. But of course, a censor can double spend profitably in any scenario where the double spend value (to the censor) exceeds that of blocks orphaned (as the censor earns 100% of all block rewards).\n>> \n>> Banks and state monies offer reasonable double spend security. Not sure that\u2019s a trade worth making.\n>> \n>> It\u2019s not clear to me that Satoshi understood this relation. I\u2019ve seen no indication of it. However the decision to phase out subsidy, once a sufficient number of units (to assure divisibility) had been issued, is what transitions Bitcoin from a censorable to a censorship resistant money. If one does not believe there is sufficient demand for such a money, there is no way to reconcile that belief with a model of censorship resistance.\n>> \n>> > We should not imbue real technology with magical qualities.\n>> \n>> Precisely. It is economic forces (people), not technology, that provide security.\n>> \n>> e\n>> \n>> >> Bitcoin does not need active economic governanance by devs or meddlers.\n>> > \n>> > Yes, active governance would definitely be an exploitable mechanism. On the\n>> > other hand, the status quo of the block reward eventually going away entirely\n>> > is obviously a risky state change too.\n>> > \n>> >>>> There is also zero agreement on how much security would constitute such\n>> >>> an optimum.\n>> >>> \n>> >>> This is really step 1. We need to generate consensus on this long before\n>> >>> the block subsidy becomes too small. Probably in the next 10-15 years. I\n>> >>> wrote a paper\n>> > \n>> > The fact of the matter is that the present amount of security is about 1.7% of\n>> > the total coin supply/year, and Bitcoin seems to be working fine. 1.7% is also\n>> > already an amount low enough that it's much smaller than economic volatility.\n>> > \n>> > Obviously 0% is too small.\n>> > \n>> > There's zero reason to stress about finding an \"optimal\" amount. An amount low\n>> > enough to be easily affordable, but non-zero, is fine. 1% would be fine; 0.5%\n>> > would probably be fine; 0.1% would probably be fine.\n>> > \n>> > Over a lifetime - 75 years - 0.5% yearly inflation works out to be a 31% tax on\n>> > savings; 0.1% works out to be 7.2%\n>> > \n>> > These are all amounts that are likely to be dwarfed by economic shifts.\n>> > \n>> > -- \n>> > https://petertodd.org 'peter'[:-1]@petertodd.org\n>> > _______________________________________________\n>> > bitcoin-dev mailing list\n>> > bitcoin-dev at lists.linuxfoundation.org\n>> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/84fa83c9/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-07T21:11:47",
                "message_text_only": "The relationship between block size and fees is not remotely linear.   In a\nrestricted environment, the fee rewards are much higher.\n\n**the ones moving more sats will win the top spots and will pay as much as\nis reasonable**\n\nSmaller blocks produce better security for the network both in validation,\nand in fees.\n\nWithout a bidding war for space, everyone can post 1 SAT/byte\n\nWith a bidding war for space, larger transactions will pay much higher\nrates.   There have been a number of papers written on this but you can\nconcoct a trivial example to prove it.\n\n\nOn Thu, Jul 7, 2022 at 3:58 PM Eric Voskuil <eric at voskuil.org> wrote:\n\n> It\u2019s not clear how reducing block size changes the fee aspect of the block\n> reward. Assuming half the space implies twice the fee per avg tx the\n> reward remains constant.\n>\n> Any additional cost of processing more or less bytes would not matter,\n> because of course this is just a cost that gets nulled out by difficulty \u2014\n> average profit (net income) is the cost of capital.\n>\n> The reason for smaller vs. larger blocks is to ensure that individuals can\n> afford to validate. That\u2019s a threshold criteria.\n>\n> Given unlimited size blocks, miners would still have to fix a point in\n> time to mine, gathering as much fee as they can optimize in some time\n> period presumably less than 10 minutes. The produces a limit to transaction\n> volume, yet neither reward nor profit would be affected given the above\n> assumptions. The difference would be in a tradeoff of per tx fee against\n> the threshold.\n>\n> Given Moore\u2019s Law, that threshold is constantly decreasing, which will\n> make it  cheaper over time for more individuals to validate. But the\n> difference for miners for smaller blocks is largely inconsequential\n> relative to their other costs.\n>\n> Increasing demand is the only thing that increases double spend security\n> (and censorship resistance assuming fee-based reward). With rising demand\n> there is rising overall hash rate, despite block reward and profit\n> remaining constant. This makes the cost of attempting to orphan a block\n> higher, therefore lowering the depth/time requirement implied to secure a\n> given tx amount.\n>\n> These are the two factors, demand and time. Less demand implies more time\n> to secure a given amount against double spend, and also implies a lower\n> cost to subsidize a censorship regime. But the latter requires a\n> differential in reward between the censor and non-censoring miners. While\n> this could be paid in side fees, that is a significant anonymity issue.\n>\n> e\n>\n> On Jul 7, 2022, at 10:37, Erik Aronesty <erik at q32.com> wrote:\n>\n> \ufeff\n> > > We should not imbue real technology with magical qualities.\n>\n> > Precisely. It is economic forces (people), not technology, that provide\n> security.\n>\n> Yes, and these forces don't prevent double-spend / 51% attacks if the\n> amounts involved are greater than the incentives.\n>\n> In addition to \"utility\", lowering the block size could help prevent this\n> issue as well... increasing fee pressure and double-spend security while\n> reducing the burden on node operators.\n>\n> Changes to inflation are, very likely, off the table.\n>\n>\n>\n> On Thu, Jul 7, 2022 at 12:24 PM Eric Voskuil via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>>\n>>\n>> > On Jul 7, 2022, at 07:13, Peter Todd via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> >\n>> > \ufeffOn Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via\n>> bitcoin-dev wrote:\n>> >> Billy,\n>> >>\n>> >> Proof of work and the difficulty adjustment function solve literally\n>> >> everything you are talking about already.\n>> >\n>> > Unfortunately you are quite wrong: the difficulty adjustment function\n>> merely\n>> > adjusts for changes in the amount of observable, non-51%-attacking,\n>> hashing\n>> > power. In the event of a chain split, the difficulty adjustment\n>> function does\n>> > nothing; against a 51% attacker, the difficulty adjustment does nothing;\n>> > against a censor, the difficulty adjustment does nothing.\n>>\n>> Consider falling hash rate due to a perpetual 51% attack. Difficulty\n>> falls, possibly to min difficulty if all non-censors stop mining and with\n>> all censors collaborating (one miner). Yet as difficulty falls, so does the\n>> cost of countering the censor. At min difficulty everyone can CPU mine\n>> again.\n>>\n>> Given the presumption that fees rise on unconfirmed transactions, there\n>> is inherent economic incentive to countering at any level of difficulty.\n>> Consequently the censor is compelled to subsidize the loss resulting from\n>> forgoing higher fee transactions that are incentivizing its competition.\n>>\n>> With falling difficulty this incentive is compounded.\n>>\n>> Comparisons of security in different scenarios presume a consistent level\n>> of demand. If that demand is insufficient to offset the censor\u2019s subsidy,\n>> there is no security in any scenario.\n>>\n>> Given that the block subsidy (inflation) is paid equally to censoring and\n>> non-censoring miners, it offers no security against censorship whatsoever.\n>> Trading fee-based block reward for inflation-based is simply trading\n>> censorship resistance for the presumption of double-spend security. But of\n>> course, a censor can double spend profitably in any scenario where the\n>> double spend value (to the censor) exceeds that of blocks orphaned (as the\n>> censor earns 100% of all block rewards).\n>>\n>> Banks and state monies offer reasonable double spend security. Not sure\n>> that\u2019s a trade worth making.\n>>\n>> It\u2019s not clear to me that Satoshi understood this relation. I\u2019ve seen no\n>> indication of it. However the decision to phase out subsidy, once a\n>> sufficient number of units (to assure divisibility) had been issued, is\n>> what transitions Bitcoin from a censorable to a censorship resistant money.\n>> If one does not believe there is sufficient demand for such a money, there\n>> is no way to reconcile that belief with a model of censorship resistance.\n>>\n>> > We should not imbue real technology with magical qualities.\n>>\n>> Precisely. It is economic forces (people), not technology, that provide\n>> security.\n>>\n>> e\n>>\n>> >> Bitcoin does not need active economic governanance by devs or meddlers.\n>> >\n>> > Yes, active governance would definitely be an exploitable mechanism. On\n>> the\n>> > other hand, the status quo of the block reward eventually going away\n>> entirely\n>> > is obviously a risky state change too.\n>> >\n>> >>>> There is also zero agreement on how much security would constitute\n>> such\n>> >>> an optimum.\n>> >>>\n>> >>> This is really step 1. We need to generate consensus on this long\n>> before\n>> >>> the block subsidy becomes too small. Probably in the next 10-15\n>> years. I\n>> >>> wrote a paper\n>> >\n>> > The fact of the matter is that the present amount of security is about\n>> 1.7% of\n>> > the total coin supply/year, and Bitcoin seems to be working fine. 1.7%\n>> is also\n>> > already an amount low enough that it's much smaller than economic\n>> volatility.\n>> >\n>> > Obviously 0% is too small.\n>> >\n>> > There's zero reason to stress about finding an \"optimal\" amount. An\n>> amount low\n>> > enough to be easily affordable, but non-zero, is fine. 1% would be\n>> fine; 0.5%\n>> > would probably be fine; 0.1% would probably be fine.\n>> >\n>> > Over a lifetime - 75 years - 0.5% yearly inflation works out to be a\n>> 31% tax on\n>> > savings; 0.1% works out to be 7.2%\n>> >\n>> > These are all amounts that are likely to be dwarfed by economic shifts.\n>> >\n>> > --\n>> > https://petertodd.org 'peter'[:-1]@petertodd.org\n>> > _______________________________________________\n>> > bitcoin-dev mailing list\n>> > bitcoin-dev at lists.linuxfoundation.org\n>> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/7c455374/attachment.html>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-08T00:28:36",
                "message_text_only": "Value is subjective, though a constraint of 1tx per 10 minutes seems unlikey to create a fee of 5000x that of 5000tx. This is of course why I stated my assumption. Yet this simple example should make clear that at some point a reduction in confirmation rate reduces reward. Otherwise a rate of zero implies infinite reward. \n\nYou cannot support the blanket statement (and absent any assumption) that lower confirmation rates produce \u201cmuch higher fees\u201d or \u201cbetter security\u201d.\n\nWhat you call a \u201cbidding war\u201d is merely market pricing, as it occurs with any good. People *always* will pay as much as they will pay. This is tautological. What you cannot say is how much more someone will pay at any given time for any given good, until they have done it. And I\u2019m pretty sure Bitcoin hasn\u2019t done it.\n\nYou cannot prove what the price of anything will be, nor can any \u201cpapers\u201d. The absurdity of S2F should have clearly demonstrated that by now. Value is an individual human preference.\n\nIf everyone pays 1 sat, then either miners are profitable at 1 sat, or these people are not getting confirmed (economic rationality always assumed).\n\nThe assumption of 1 sat txs filling blocks is based on a disproportionately high subsidy. A subsidy of 50btc would imply somewhere in the neighborhood of $200 per tx in fees today, and as $680. As that falls, fees will continue to keep miners at the same profit level. If demand does not rise to compensate (as it always has) then hash rate will fall.\n\nPropping up hash rate with subsidy will not be \u201cinflationary\u201d, as Bitcoin is a market money. Like gold it is produced at market cost. Yet it will prevent Bitcoin from achieving any meaningful level of censorship resistance. This of course should make people look closely at such arguments.\n\nOf course, once you have a censor, block space gets really small for those who want to resist the censor. Then of course only fees can offset the censorship. Without fee-based tx confirmation (for anonymity), and/or with a disproportionate subsidy going to the censor, a censor can operate profitably and indefinitely (under the assumption of constant demand). There is no reason to assume demand for censored txs wouldn\u2019t even increase, given the white market blessing which so many seem to want.\n\nBut there is of course no real issue here. Simply fork off an inflation coin and test your theory. I mean, that\u2019s the only way it can happen anyway.\n\ne\n\n> On Jul 7, 2022, at 14:11, Erik Aronesty <erik at q32.com> wrote:\n> \n> \ufeff\n> The relationship between block size and fees is not remotely linear.   In a restricted environment, the fee rewards are much higher.\n> \n> **the ones moving more sats will win the top spots and will pay as much as is reasonable**\n> \n> Smaller blocks produce better security for the network both in validation, and in fees.\n> \n> Without a bidding war for space, everyone can post 1 SAT/byte\n> \n> With a bidding war for space, larger transactions will pay much higher rates.   There have been a number of papers written on this but you can concoct a trivial example to prove it.\n> \n> \n>> On Thu, Jul 7, 2022 at 3:58 PM Eric Voskuil <eric at voskuil.org> wrote:\n>> It\u2019s not clear how reducing block size changes the fee aspect of the block reward. Assuming half the space implies twice the fee per avg tx the reward remains constant.\n>> \n>> Any additional cost of processing more or less bytes would not matter, because of course this is just a cost that gets nulled out by difficulty \u2014 average profit (net income) is the cost of capital.\n>> \n>> The reason for smaller vs. larger blocks is to ensure that individuals can afford to validate. That\u2019s a threshold criteria.\n>> \n>> Given unlimited size blocks, miners would still have to fix a point in time to mine, gathering as much fee as they can optimize in some time period presumably less than 10 minutes. The produces a limit to transaction volume, yet neither reward nor profit would be affected given the above assumptions. The difference would be in a tradeoff of per tx fee against the threshold.\n>> \n>> Given Moore\u2019s Law, that threshold is constantly decreasing, which will make it  cheaper over time for more individuals to validate. But the difference for miners for smaller blocks is largely inconsequential relative to their other costs.\n>> \n>> Increasing demand is the only thing that increases double spend security (and censorship resistance assuming fee-based reward). With rising demand there is rising overall hash rate, despite block reward and profit remaining constant. This makes the cost of attempting to orphan a block higher, therefore lowering the depth/time requirement implied to secure a given tx amount.\n>> \n>> These are the two factors, demand and time. Less demand implies more time to secure a given amount against double spend, and also implies a lower cost to subsidize a censorship regime. But the latter requires a differential in reward between the censor and non-censoring miners. While this could be paid in side fees, that is a significant anonymity issue.\n>> \n>> e\n>> \n>>>> On Jul 7, 2022, at 10:37, Erik Aronesty <erik at q32.com> wrote:\n>>>> \n>>> \ufeff\n>>> > > We should not imbue real technology with magical qualities.\n>>> \n>>> > Precisely. It is economic forces (people), not technology, that provide security.\n>>> \n>>> Yes, and these forces don't prevent double-spend / 51% attacks if the amounts involved are greater than the incentives.\n>>> \n>>> In addition to \"utility\", lowering the block size could help prevent this issue as well... increasing fee pressure and double-spend security while reducing the burden on node operators.\n>>> \n>>> Changes to inflation are, very likely, off the table.\n>>> \n>>>  \n>>> \n>>>> On Thu, Jul 7, 2022 at 12:24 PM Eric Voskuil via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>>> \n>>>> \n>>>> > On Jul 7, 2022, at 07:13, Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>>> > \n>>>> > \ufeffOn Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via bitcoin-dev wrote:\n>>>> >> Billy,\n>>>> >> \n>>>> >> Proof of work and the difficulty adjustment function solve literally\n>>>> >> everything you are talking about already.\n>>>> > \n>>>> > Unfortunately you are quite wrong: the difficulty adjustment function merely\n>>>> > adjusts for changes in the amount of observable, non-51%-attacking, hashing\n>>>> > power. In the event of a chain split, the difficulty adjustment function does\n>>>> > nothing; against a 51% attacker, the difficulty adjustment does nothing;\n>>>> > against a censor, the difficulty adjustment does nothing.\n>>>> \n>>>> Consider falling hash rate due to a perpetual 51% attack. Difficulty falls, possibly to min difficulty if all non-censors stop mining and with all censors collaborating (one miner). Yet as difficulty falls, so does the cost of countering the censor. At min difficulty everyone can CPU mine again.\n>>>> \n>>>> Given the presumption that fees rise on unconfirmed transactions, there is inherent economic incentive to countering at any level of difficulty. Consequently the censor is compelled to subsidize the loss resulting from forgoing higher fee transactions that are incentivizing its competition.\n>>>> \n>>>> With falling difficulty this incentive is compounded.\n>>>> \n>>>> Comparisons of security in different scenarios presume a consistent level of demand. If that demand is insufficient to offset the censor\u2019s subsidy, there is no security in any scenario.\n>>>> \n>>>> Given that the block subsidy (inflation) is paid equally to censoring and non-censoring miners, it offers no security against censorship whatsoever. Trading fee-based block reward for inflation-based is simply trading censorship resistance for the presumption of double-spend security. But of course, a censor can double spend profitably in any scenario where the double spend value (to the censor) exceeds that of blocks orphaned (as the censor earns 100% of all block rewards).\n>>>> \n>>>> Banks and state monies offer reasonable double spend security. Not sure that\u2019s a trade worth making.\n>>>> \n>>>> It\u2019s not clear to me that Satoshi understood this relation. I\u2019ve seen no indication of it. However the decision to phase out subsidy, once a sufficient number of units (to assure divisibility) had been issued, is what transitions Bitcoin from a censorable to a censorship resistant money. If one does not believe there is sufficient demand for such a money, there is no way to reconcile that belief with a model of censorship resistance.\n>>>> \n>>>> > We should not imbue real technology with magical qualities.\n>>>> \n>>>> Precisely. It is economic forces (people), not technology, that provide security.\n>>>> \n>>>> e\n>>>> \n>>>> >> Bitcoin does not need active economic governanance by devs or meddlers.\n>>>> > \n>>>> > Yes, active governance would definitely be an exploitable mechanism. On the\n>>>> > other hand, the status quo of the block reward eventually going away entirely\n>>>> > is obviously a risky state change too.\n>>>> > \n>>>> >>>> There is also zero agreement on how much security would constitute such\n>>>> >>> an optimum.\n>>>> >>> \n>>>> >>> This is really step 1. We need to generate consensus on this long before\n>>>> >>> the block subsidy becomes too small. Probably in the next 10-15 years. I\n>>>> >>> wrote a paper\n>>>> > \n>>>> > The fact of the matter is that the present amount of security is about 1.7% of\n>>>> > the total coin supply/year, and Bitcoin seems to be working fine. 1.7% is also\n>>>> > already an amount low enough that it's much smaller than economic volatility.\n>>>> > \n>>>> > Obviously 0% is too small.\n>>>> > \n>>>> > There's zero reason to stress about finding an \"optimal\" amount. An amount low\n>>>> > enough to be easily affordable, but non-zero, is fine. 1% would be fine; 0.5%\n>>>> > would probably be fine; 0.1% would probably be fine.\n>>>> > \n>>>> > Over a lifetime - 75 years - 0.5% yearly inflation works out to be a 31% tax on\n>>>> > savings; 0.1% works out to be 7.2%\n>>>> > \n>>>> > These are all amounts that are likely to be dwarfed by economic shifts.\n>>>> > \n>>>> > -- \n>>>> > https://petertodd.org 'peter'[:-1]@petertodd.org\n>>>> > _______________________________________________\n>>>> > bitcoin-dev mailing list\n>>>> > bitcoin-dev at lists.linuxfoundation.org\n>>>> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>> _______________________________________________\n>>>> bitcoin-dev mailing list\n>>>> bitcoin-dev at lists.linuxfoundation.org\n>>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/c29f72fb/attachment-0001.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-08T04:59:30",
                "message_text_only": "> Simply fork off an inflation coin and test your theory. I mean, that\u2019s the only way it can happen anyway.\n\nThat would be an altcoin. But it can be done in a simpler way: we have 21 million coins. It doesn't matter if it is 21 million, if it is 100 million, or if it is in some normalized range from 0 to 1, where you can always know, what fraction of the total supply you have. So, if the total supply is constant, then it is all about proportions. And that means, you can create some system on top of Bitcoin, that would move coins from users to miners. It is all about that: if all coins are mined, then they can move only if users will move them. So if you want to change that, it is all about encouraging them to put their coins in some evil Lightning channel, when they will lose their coins over time. That's how inflation works.\n\nSo, imagine some evil channel, where you can put for example 0.01 BTC, and have a time-based fee, so you will pay 1000 satoshis per day. Guess what: 1000 days, and your coins are gone! That means, if anyone want to test inflation, it is possible right here and right now. Good luck to convince people to use your inflationary system in a non-obfuscated way, because that's how it truly looks like: if you double coin supply, you can reach the same by halving all amounts.\n\n\nOn 2022-07-08 02:29:20 user Eric Voskuil via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\nValue is subjective, though a constraint of 1tx per 10 minutes seems unlikey to create a fee of 5000x that of 5000tx. This is of course why I stated my assumption. Yet this simple example should make clear that at some point a reduction in confirmation rate reduces reward. Otherwise a rate of zero implies infinite reward.\u00a0\n\n\nYou cannot support the blanket statement (and absent any assumption) that lower confirmation rates produce \u201cmuch higher fees\u201d or \u201cbetter security\u201d.\n\n\nWhat you call a \u201cbidding war\u201d is merely market pricing, as it occurs with any good. People *always* will pay as much as they will pay. This is tautological. What you cannot say is how much more someone will pay at any given time for any given good, until they have done it. And I\u2019m pretty sure Bitcoin hasn\u2019t done it.\n\n\nYou cannot prove what the price of anything will be, nor can any \u201cpapers\u201d. The absurdity of S2F should have clearly demonstrated that by now. Value is an individual human preference.\n\n\nIf everyone pays 1 sat, then either miners are profitable at 1 sat, or these people are not getting confirmed (economic rationality always assumed).\n\n\nThe assumption of 1 sat txs filling blocks is based on a disproportionately high subsidy. A subsidy of 50btc would imply somewhere in the neighborhood of $200 per tx in fees today, and as $680. As that falls, fees will continue to keep miners at the same profit level. If demand does not rise to compensate (as it always has) then hash rate will fall.\n\n\nPropping up hash rate with subsidy will not be \u201cinflationary\u201d, as Bitcoin is a market money. Like gold it is produced at market cost. Yet it will prevent Bitcoin from achieving any meaningful level of censorship resistance. This of course should make people look closely at such arguments.\n\n\nOf course, once you have a censor, block space gets really small for those who want to resist the censor. Then of course only fees can offset the censorship. Without fee-based tx confirmation (for anonymity), and/or with a disproportionate subsidy going to the censor, a censor can operate profitably and indefinitely (under the assumption of constant demand). There is no reason to assume demand for censored txs wouldn\u2019t even increase, given the white market blessing which so many seem to want.\n\n\nBut there is of course no real issue here. Simply fork off an inflation coin and test your theory. I mean, that\u2019s the only way it can happen anyway.\n\n\ne\n\n\nOn Jul 7, 2022, at 14:11, Erik Aronesty <erik at q32.com> wrote:\n\n\n\nThe relationship between block size and fees is not remotely linear.\u00a0 \u00a0In a restricted environment, the fee rewards are much higher.\n\n\n**the ones moving\u00a0more sats will win the top spots and will pay as much as is reasonable**\n\n\nSmaller blocks produce better security for the network both in validation, and in fees.\n\n\nWithout\u00a0a bidding war for space, everyone can post 1 SAT/byte\n\n\nWith a bidding war for space, larger transactions will pay much higher rates.\u00a0 \u00a0There have been a number of papers written on this but you can concoct a trivial example to prove it.\n\n\n\n\nOn Thu, Jul 7, 2022 at 3:58 PM Eric Voskuil <eric at voskuil.org> wrote:\n\n\n\nIt\u2019s not clear how reducing block size changes the fee aspect of the block reward. Assuming\u00a0half the space implies twice the fee per avg tx the reward remains constant.\n\n\nAny additional cost of processing more or less bytes would not matter, because of course this is just a cost that gets nulled out by difficulty \u2014 average profit (net income) is the cost of capital.\n\n\nThe reason for smaller vs. larger blocks is to ensure that individuals can afford to validate. That\u2019s a threshold criteria.\n\n\nGiven unlimited size blocks, miners would still have to fix a point in time to mine, gathering as much fee as they can optimize in some time period presumably less than 10 minutes. The produces a limit to transaction volume, yet neither reward nor profit would be affected given the above assumptions. The difference would be in a tradeoff of per tx fee against the threshold.\n\n\nGiven Moore\u2019s Law, that threshold is constantly decreasing, which will make it \u00a0cheaper over time for more individuals to validate. But the difference for miners for smaller blocks is largely inconsequential relative to their other costs.\n\n\nIncreasing demand is the only thing that increases double spend security (and censorship resistance assuming fee-based reward). With rising demand there is rising overall hash rate, despite block reward and profit remaining constant. This makes the cost of attempting to orphan a block higher, therefore lowering the depth/time requirement implied to secure a given tx amount.\n\n\nThese are the two factors, demand and time. Less demand implies more time to secure a given amount against double spend, and also implies a lower cost to subsidize a censorship regime. But the latter requires a differential in reward between the censor and non-censoring miners. While this could be paid in side fees, that is a significant anonymity issue.\n\n\ne\n\n\nOn Jul 7, 2022, at 10:37, Erik Aronesty <erik at q32.com> wrote:\n\n\n\n> > We should not imbue real technology with magical qualities.\n\n\n> Precisely. It is economic forces (people), not technology, that provide security.\n\n\n\nYes, and these forces don't prevent double-spend / 51% attacks if the amounts involved are greater than the incentives.\n\n\nIn addition to \"utility\", lowering the block size could help prevent this issue as well... increasing fee pressure and double-spend security while reducing the burden on node operators.\n\n\nChanges to inflation are, very likely, off the table.\n\n\n\n\n\n\nOn Thu, Jul 7, 2022 at 12:24 PM Eric Voskuil via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\n\n> On Jul 7, 2022, at 07:13, Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n> On Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via bitcoin-dev wrote:\n>> Billy,\n>>\n>> Proof of work and the difficulty adjustment function solve literally\n>> everything you are talking about already.\n>\n> Unfortunately you are quite wrong: the difficulty adjustment function merely\n> adjusts for changes in the amount of observable, non-51%-attacking, hashing\n> power. In the event of a chain split, the difficulty adjustment function does\n> nothing; against a 51% attacker, the difficulty adjustment does nothing;\n> against a censor, the difficulty adjustment does nothing.\n\nConsider falling hash rate due to a perpetual 51% attack. Difficulty falls, possibly to min difficulty if all non-censors stop mining and with all censors collaborating (one miner). Yet as difficulty falls, so does the cost of countering the censor. At min difficulty everyone can CPU mine again.\n\nGiven the presumption that fees rise on unconfirmed transactions, there is inherent economic incentive to countering at any level of difficulty. Consequently the censor is compelled to subsidize the loss resulting from forgoing higher fee transactions that are incentivizing its competition.\n\nWith falling difficulty this incentive is compounded.\n\nComparisons of security in different scenarios presume a consistent level of demand. If that demand is insufficient to offset the censor\u2019s subsidy, there is no security in any scenario.\n\nGiven that the block subsidy (inflation) is paid equally to censoring and non-censoring miners, it offers no security against censorship whatsoever. Trading fee-based block reward for inflation-based is simply trading censorship resistance for the presumption of double-spend security. But of course, a censor can double spend profitably in any scenario where the double spend value (to the censor) exceeds that of blocks orphaned (as the censor earns 100% of all block rewards).\n\nBanks and state monies offer reasonable double spend security. Not sure that\u2019s a trade worth making.\n\nIt\u2019s not clear to me that Satoshi understood this relation. I\u2019ve seen no indication of it. However the decision to phase out subsidy, once a sufficient number of units (to assure divisibility) had been issued, is what transitions Bitcoin from a censorable to a censorship resistant money. If one does not believe there is sufficient demand for such a money, there is no way to reconcile that belief with a model of censorship resistance.\n\n> We should not imbue real technology with magical qualities.\n\nPrecisely. It is economic forces (people), not technology, that provide security.\n\ne\n\n>> Bitcoin does not need active economic governanance by devs or meddlers.\n>\n> Yes, active governance would definitely be an exploitable mechanism. On the\n> other hand, the status quo of the block reward eventually going away entirely\n> is obviously a risky state change too.\n>\n>>>> There is also zero agreement on how much security would constitute such\n>>> an optimum.\n>>>\n>>> This is really step 1. We need to generate consensus on this long before\n>>> the block subsidy becomes too small. Probably in the next 10-15 years. I\n>>> wrote a paper\n>\n> The fact of the matter is that the present amount of security is about 1.7% of\n> the total coin supply/year, and Bitcoin seems to be working fine. 1.7% is also\n> already an amount low enough that it's much smaller than economic volatility.\n>\n> Obviously 0% is too small.\n>\n> There's zero reason to stress about finding an \"optimal\" amount. An amount low\n> enough to be easily affordable, but non-zero, is fine. 1% would be fine; 0.5%\n> would probably be fine; 0.1% would probably be fine.\n>\n> Over a lifetime - 75 years - 0.5% yearly inflation works out to be a 31% tax on\n> savings; 0.1% works out to be 7.2%\n>\n> These are all amounts that are likely to be dwarfed by economic shifts.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "John Carvalho",
                "date": "2022-07-08T07:26:06",
                "message_text_only": "vjudeu at gazeta.pl, what you describe is not possible without a hard fork,\njust like Eric said. There is no atomic way to move Bitcoin off of Bitcoin.\n\nYou can use Bitcoin txns, or you can use trust/custody, or you can make a\nshitcoin. There is no way to actually divide or transfer sats to another\nnetwork.\n\nThis talk of inflation is absurd and forced and ignores all understanding\nof Bitcoin and economic primitives. You would all do better to listen to\nEric and appreciate him taking the time to elaborate.\n\nIn the end, I will reiterate. Proof of work and the difficulty adjustment\nscheme already solve all of these issues. When blockspace demand increases,\nfees increase, more miners mine, security goes up. Thus any theoretical\nsupply increase would have the opposite effect.\n\nAll of these arguments for inflation amount to \"That restaurant is too\npopular, nobody goes there anymore.\" If people are using Bitcoin, miners\nwill mine. If all Bitcoin users are hodling only, then demand is gone, and\nminers will leave. It is elegant.\n\nStop trying to fix Bitcoin, it isn't broken.\n\n--\nJohn Carvalho\nCEO, Synonym.to <http://synonym.to/>\n\n\nOn Fri, Jul 8, 2022 at 5:59 AM <vjudeu at gazeta.pl> wrote:\n\n> > Simply fork off an inflation coin and test your theory. I mean, that\u2019s\n> the only way it can happen anyway.\n>\n> That would be an altcoin. But it can be done in a simpler way: we have 21\n> million coins. It doesn't matter if it is 21 million, if it is 100 million,\n> or if it is in some normalized range from 0 to 1, where you can always\n> know, what fraction of the total supply you have. So, if the total supply\n> is constant, then it is all about proportions. And that means, you can\n> create some system on top of Bitcoin, that would move coins from users to\n> miners. It is all about that: if all coins are mined, then they can move\n> only if users will move them. So if you want to change that, it is all\n> about encouraging them to put their coins in some evil Lightning channel,\n> when they will lose their coins over time. That's how inflation works.\n>\n> So, imagine some evil channel, where you can put for example 0.01 BTC, and\n> have a time-based fee, so you will pay 1000 satoshis per day. Guess what:\n> 1000 days, and your coins are gone! That means, if anyone want to test\n> inflation, it is possible right here and right now. Good luck to convince\n> people to use your inflationary system in a non-obfuscated way, because\n> that's how it truly looks like: if you double coin supply, you can reach\n> the same by halving all amounts.\n>\n>\n> On 2022-07-08 02:29:20 user Eric Voskuil via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>\n> Value is subjective, though a constraint of 1tx per 10 minutes seems\n> unlikey to create a fee of 5000x that of 5000tx. This is of course why I\n> stated my assumption. Yet this simple example should make clear that at\n> some point a reduction in confirmation rate reduces reward. Otherwise a\n> rate of zero implies infinite reward.\n>\n>\n> You cannot support the blanket statement (and absent any assumption) that\n> lower confirmation rates produce \u201cmuch higher fees\u201d or \u201cbetter security\u201d.\n>\n>\n> What you call a \u201cbidding war\u201d is merely market pricing, as it occurs with\n> any good. People *always* will pay as much as they will pay. This is\n> tautological. What you cannot say is how much more someone will pay at any\n> given time for any given good, until they have done it. And I\u2019m pretty sure\n> Bitcoin hasn\u2019t done it.\n>\n>\n> You cannot prove what the price of anything will be, nor can any \u201cpapers\u201d.\n> The absurdity of S2F should have clearly demonstrated that by now. Value is\n> an individual human preference.\n>\n>\n> If everyone pays 1 sat, then either miners are profitable at 1 sat, or\n> these people are not getting confirmed (economic rationality always\n> assumed).\n>\n>\n> The assumption of 1 sat txs filling blocks is based on a\n> disproportionately high subsidy. A subsidy of 50btc would imply somewhere\n> in the neighborhood of $200 per tx in fees today, and as $680. As that\n> falls, fees will continue to keep miners at the same profit level. If\n> demand does not rise to compensate (as it always has) then hash rate will\n> fall.\n>\n>\n> Propping up hash rate with subsidy will not be \u201cinflationary\u201d, as Bitcoin\n> is a market money. Like gold it is produced at market cost. Yet it will\n> prevent Bitcoin from achieving any meaningful level of censorship\n> resistance. This of course should make people look closely at such\n> arguments.\n>\n>\n> Of course, once you have a censor, block space gets really small for those\n> who want to resist the censor. Then of course only fees can offset the\n> censorship. Without fee-based tx confirmation (for anonymity), and/or with\n> a disproportionate subsidy going to the censor, a censor can operate\n> profitably and indefinitely (under the assumption of constant demand).\n> There is no reason to assume demand for censored txs wouldn\u2019t even\n> increase, given the white market blessing which so many seem to want.\n>\n>\n> But there is of course no real issue here. Simply fork off an inflation\n> coin and test your theory. I mean, that\u2019s the only way it can happen anyway.\n>\n>\n> e\n>\n>\n> On Jul 7, 2022, at 14:11, Erik Aronesty <erik at q32.com> wrote:\n>\n>\n>\n> The relationship between block size and fees is not remotely linear.   In\n> a restricted environment, the fee rewards are much higher.\n>\n>\n> **the ones moving more sats will win the top spots and will pay as much as\n> is reasonable**\n>\n>\n> Smaller blocks produce better security for the network both in validation,\n> and in fees.\n>\n>\n> Without a bidding war for space, everyone can post 1 SAT/byte\n>\n>\n> With a bidding war for space, larger transactions will pay much higher\n> rates.   There have been a number of papers written on this but you can\n> concoct a trivial example to prove it.\n>\n>\n>\n>\n> On Thu, Jul 7, 2022 at 3:58 PM Eric Voskuil <eric at voskuil.org> wrote:\n>\n>\n>\n> It\u2019s not clear how reducing block size changes the fee aspect of the block\n> reward. Assuming half the space implies twice the fee per avg tx the reward\n> remains constant.\n>\n>\n> Any additional cost of processing more or less bytes would not matter,\n> because of course this is just a cost that gets nulled out by difficulty \u2014\n> average profit (net income) is the cost of capital.\n>\n>\n> The reason for smaller vs. larger blocks is to ensure that individuals can\n> afford to validate. That\u2019s a threshold criteria.\n>\n>\n> Given unlimited size blocks, miners would still have to fix a point in\n> time to mine, gathering as much fee as they can optimize in some time\n> period presumably less than 10 minutes. The produces a limit to transaction\n> volume, yet neither reward nor profit would be affected given the above\n> assumptions. The difference would be in a tradeoff of per tx fee against\n> the threshold.\n>\n>\n> Given Moore\u2019s Law, that threshold is constantly decreasing, which will\n> make it  cheaper over time for more individuals to validate. But the\n> difference for miners for smaller blocks is largely inconsequential\n> relative to their other costs.\n>\n>\n> Increasing demand is the only thing that increases double spend security\n> (and censorship resistance assuming fee-based reward). With rising demand\n> there is rising overall hash rate, despite block reward and profit\n> remaining constant. This makes the cost of attempting to orphan a block\n> higher, therefore lowering the depth/time requirement implied to secure a\n> given tx amount.\n>\n>\n> These are the two factors, demand and time. Less demand implies more time\n> to secure a given amount against double spend, and also implies a lower\n> cost to subsidize a censorship regime. But the latter requires a\n> differential in reward between the censor and non-censoring miners. While\n> this could be paid in side fees, that is a significant anonymity issue.\n>\n>\n> e\n>\n>\n> On Jul 7, 2022, at 10:37, Erik Aronesty <erik at q32.com> wrote:\n>\n>\n>\n> > > We should not imbue real technology with magical qualities.\n>\n>\n> > Precisely. It is economic forces (people), not technology, that provide\n> security.\n>\n>\n>\n> Yes, and these forces don't prevent double-spend / 51% attacks if the\n> amounts involved are greater than the incentives.\n>\n>\n> In addition to \"utility\", lowering the block size could help prevent this\n> issue as well... increasing fee pressure and double-spend security while\n> reducing the burden on node operators.\n>\n>\n> Changes to inflation are, very likely, off the table.\n>\n>\n>\n>\n>\n>\n> On Thu, Jul 7, 2022 at 12:24 PM Eric Voskuil via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>\n>\n> > On Jul 7, 2022, at 07:13, Peter Todd via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> >\n> > On Thu, Jul 07, 2022 at 02:24:39PM +0100, John Carvalho via bitcoin-dev\n> wrote:\n> >> Billy,\n> >>\n> >> Proof of work and the difficulty adjustment function solve literally\n> >> everything you are talking about already.\n> >\n> > Unfortunately you are quite wrong: the difficulty adjustment function\n> merely\n> > adjusts for changes in the amount of observable, non-51%-attacking,\n> hashing\n> > power. In the event of a chain split, the difficulty adjustment function\n> does\n> > nothing; against a 51% attacker, the difficulty adjustment does nothing;\n> > against a censor, the difficulty adjustment does nothing.\n>\n> Consider falling hash rate due to a perpetual 51% attack. Difficulty\n> falls, possibly to min difficulty if all non-censors stop mining and with\n> all censors collaborating (one miner). Yet as difficulty falls, so does the\n> cost of countering the censor. At min difficulty everyone can CPU mine\n> again.\n>\n> Given the presumption that fees rise on unconfirmed transactions, there is\n> inherent economic incentive to countering at any level of difficulty.\n> Consequently the censor is compelled to subsidize the loss resulting from\n> forgoing higher fee transactions that are incentivizing its competition.\n>\n> With falling difficulty this incentive is compounded.\n>\n> Comparisons of security in different scenarios presume a consistent level\n> of demand. If that demand is insufficient to offset the censor\u2019s subsidy,\n> there is no security in any scenario.\n>\n> Given that the block subsidy (inflation) is paid equally to censoring and\n> non-censoring miners, it offers no security against censorship whatsoever.\n> Trading fee-based block reward for inflation-based is simply trading\n> censorship resistance for the presumption of double-spend security. But of\n> course, a censor can double spend profitably in any scenario where the\n> double spend value (to the censor) exceeds that of blocks orphaned (as the\n> censor earns 100% of all block rewards).\n>\n> Banks and state monies offer reasonable double spend security. Not sure\n> that\u2019s a trade worth making.\n>\n> It\u2019s not clear to me that Satoshi understood this relation. I\u2019ve seen no\n> indication of it. However the decision to phase out subsidy, once a\n> sufficient number of units (to assure divisibility) had been issued, is\n> what transitions Bitcoin from a censorable to a censorship resistant money.\n> If one does not believe there is sufficient demand for such a money, there\n> is no way to reconcile that belief with a model of censorship resistance.\n>\n> > We should not imbue real technology with magical qualities.\n>\n> Precisely. It is economic forces (people), not technology, that provide\n> security.\n>\n> e\n>\n> >> Bitcoin does not need active economic governanance by devs or meddlers.\n> >\n> > Yes, active governance would definitely be an exploitable mechanism. On\n> the\n> > other hand, the status quo of the block reward eventually going away\n> entirely\n> > is obviously a risky state change too.\n> >\n> >>>> There is also zero agreement on how much security would constitute\n> such\n> >>> an optimum.\n> >>>\n> >>> This is really step 1. We need to generate consensus on this long\n> before\n> >>> the block subsidy becomes too small. Probably in the next 10-15 years.\n> I\n> >>> wrote a paper\n> >\n> > The fact of the matter is that the present amount of security is about\n> 1.7% of\n> > the total coin supply/year, and Bitcoin seems to be working fine. 1.7%\n> is also\n> > already an amount low enough that it's much smaller than economic\n> volatility.\n> >\n> > Obviously 0% is too small.\n> >\n> > There's zero reason to stress about finding an \"optimal\" amount. An\n> amount low\n> > enough to be easily affordable, but non-zero, is fine. 1% would be fine;\n> 0.5%\n> > would probably be fine; 0.1% would probably be fine.\n> >\n> > Over a lifetime - 75 years - 0.5% yearly inflation works out to be a 31%\n> tax on\n> > savings; 0.1% works out to be 7.2%\n> >\n> > These are all amounts that are likely to be dwarfed by economic shifts.\n> >\n> > --\n> > https://petertodd.org 'peter'[:-1]@petertodd.org\n> > _______________________________________________\n> > bitcoin-dev mailing list\n> > bitcoin-dev at lists.linuxfoundation.org\n> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220708/aa305616/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-08T15:14:39",
                "message_text_only": "On Thu, Jul 7, 2022 at 8:29 PM Eric Voskuil <eric at voskuil.org> wrote:\n\n> Value is subjective, though a constraint of 1tx per 10 minutes seems\n> unlikey to create a fee of 5000x that of 5000tx. This is of course why I\n> stated my assumption. Yet this simple example should make clear that at\n> some point a reduction in confirmation rate reduces reward. Otherwise a\n> rate of zero implies infinite reward.\n>\n\nLike i said, it's not linear.   So no, a rate of 0 does not imply an\ninfinite reward.  A number of papers on the Nash equilibrium of mining\nrewards and block size have been written.       There are block sizes that\nare optimal for fees, and they obviously not zero, where the system\ncollapses, and they are obviously not infinite... where all bidders pay 1\nsat/byte.\n\n\n>\n> You cannot support the blanket statement (and absent any assumption) that\n> lower confirmation rates produce \u201cmuch higher fees\u201d or \u201cbetter security\u201d.\n>\n\nYou can look at the research and the history of zero-size block impact on\nfees and see that this is true.\n\n\n\n>\n> What you call a \u201cbidding war\u201d is merely market pricing, as it occurs with\n> any good. People *always* will pay as much as they will pay. This is\n> tautological. What you cannot say is how much more someone will pay at any\n> given time for any given good, until they have done it. And I\u2019m pretty sure\n> Bitcoin hasn\u2019t done it.\n>\n\nIf there is infinite supply, then there is zero value.   Infinite blocks\nhave lower fees.  This is impossible to argue against.\n\n\n> You cannot prove what the price of anything will be, nor can any \u201cpapers\u201d.\n> The absurdity of S2F should have clearly demonstrated that by now. Value is\n> an individual human preference.\n>\n\nA trivial example: block sizeof 10, and 10 people want to transact, all can\nbid 1 SAT/byte, 2 tx are moving 100 mil sats, the other 8 are moving 10 mil\nsats.   Block size of 2.  Now the two transactions moving 100 mil sats will\nbid, they can easily pay 400 sats/byte.\n\nYou can show, from history, that when block sizes are more constrained, due\nto the mining of zero byte blocks, total fees were higher.   People will\nalways pay for \"next confirm\" if the cost of that is very reasonable (less\nthan 0.1%).\n\n>\n> If everyone pays 1 sat, then either miners are profitable at 1 sat, or\n> these people are not getting confirmed (economic rationality always\n> assumed).\n>\n\nYes, and if miners are not profitable at 1 sat, then they will not mine,\nand the hash rate will drop.   And this reduces the security of the coin.\n Hashrate is an index of security.\n\nBut there is of course no real issue here. Simply fork off an inflation\n> coin and test your theory. I mean, that\u2019s the only way it can happen anyway.\n>\n\nI would argue inflation is not a good solution.   Instead, being cautious\nabout block-compressing tech, like mweb, and being more aggressive about\nfee-driving tech, makes more sense .\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220708/d70ca037/attachment-0001.html>"
            },
            {
                "author": "Billy Tetrud",
                "date": "2022-07-14T04:55:35",
                "message_text_only": "@Peter Todd\n\n> The fact of the matter is that the present amount of security is about\n1.7% of\nthe total coin supply/year\n\nThat's on the order of what I calculated\n<https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#analysis-of-various-consensus-algorithms>:\n~0.5%. I'm curious where the 1.7% number comes from.  Perhaps much of the\ndifference in our two numbers likely comes from me incorporating what I\ncall the \"Economic Mining Monopoly Attack\"\n<https://github.com/fresheneesz/quantificationOfConsensusProtocolSecurity#economic-mining-monopoly-attack>\nwhich effectively cuts the security in half.\n\n> There's zero reason to stress about finding an \"optimal\" amount. An\namount low enough to be easily affordable, but non-zero, is fine.\n\nThat's fair. What I mean is that we should estimate an optimal value to\nsome degree of accuracy. It doesn't have to be super accurate. But too low\nand we could have a bad time. Too high and its a deadweight cost forever\n(which increases fees, slows adoption, and causes an inflation-like\ndevaluation force on bitcoin, which has all the familiar market distorting\neffects, albeit to a much smaller degree than we're used to).  In any case,\nwe need to come to an accurate enough estimate of how much is enough\nsecurity so that we ensure we're above that amount.\n\n> These are all amounts that are likely to be dwarfed by economic shifts.\n\nPerhaps you're right. Regardless, its certainly an improvement to what\nwe've had the last 100 years.\n\n@Erik Voskuil\n> You cannot support the blanket statement (and absent any assumption) that\nlower confirmation rates produce \u201cmuch higher fees\u201d or \u201cbetter security\u201d.\n\nI can in fact support it. The theory of supply and demand supports it.\nWell, depending on what you mean by \"fees\". Reducing the block size will\ncertainly increase average fees/vbyte. Whether it increases total fees\ncollected by miners (and thus lead to \"better security\") is another story -\na story that depends on the demand dynamics in the market. It could very\nwell be that reducing the blocksize reduces the number of transactions by a\nhigher proportion than fees go up. As we have seen in past periods of high\ntraffic tho, total fees go up *quite* a lot. So it seems pretty clear to me\nthat constraining the block size would very likely increase total fees\ncollected by miners, at least for the near future.\n\n@Carvalho\n>  I will reiterate. Proof of work and the difficulty adjustment scheme\nalready solve all of these issues\n\nYou haven't addressed any of the comments that disagree with you above. You\ndidn't address any of my comments originally. You are simply claiming\nthings without any logical support. If you want to be a respectable part of\nthis conversation, I'd recommend explaining yourself much more thoroughly.\n\n> That restaurant is too popular, nobody goes there anymore.\n\nIf you could feed 100,000 people with 1 entire from a restaurant, your\nrestaurant might not make enough money to survive despite feeding the\nentire country. That's what the lightning network does for/to bitcoin. We\nneed to make sure the restaurant can afford to staff itself despite massive\nincreases in food-use efficiency.\n\nOn Fri, Jul 8, 2022 at 12:32 PM Erik Aronesty via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Thu, Jul 7, 2022 at 8:29 PM Eric Voskuil <eric at voskuil.org> wrote:\n>\n>> Value is subjective, though a constraint of 1tx per 10 minutes seems\n>> unlikey to create a fee of 5000x that of 5000tx. This is of course why I\n>> stated my assumption. Yet this simple example should make clear that at\n>> some point a reduction in confirmation rate reduces reward. Otherwise a\n>> rate of zero implies infinite reward.\n>>\n>\n> Like i said, it's not linear.   So no, a rate of 0 does not imply an\n> infinite reward.  A number of papers on the Nash equilibrium of mining\n> rewards and block size have been written.       There are block sizes that\n> are optimal for fees, and they obviously not zero, where the system\n> collapses, and they are obviously not infinite... where all bidders pay 1\n> sat/byte.\n>\n>\n>>\n>> You cannot support the blanket statement (and absent any assumption) that\n>> lower confirmation rates produce \u201cmuch higher fees\u201d or \u201cbetter security\u201d.\n>>\n>\n> You can look at the research and the history of zero-size block impact on\n> fees and see that this is true.\n>\n>\n>\n>>\n>> What you call a \u201cbidding war\u201d is merely market pricing, as it occurs with\n>> any good. People *always* will pay as much as they will pay. This is\n>> tautological. What you cannot say is how much more someone will pay at any\n>> given time for any given good, until they have done it. And I\u2019m pretty sure\n>> Bitcoin hasn\u2019t done it.\n>>\n>\n> If there is infinite supply, then there is zero value.   Infinite blocks\n> have lower fees.  This is impossible to argue against.\n>\n>\n>> You cannot prove what the price of anything will be, nor can any\n>> \u201cpapers\u201d. The absurdity of S2F should have clearly demonstrated that by\n>> now. Value is an individual human preference.\n>>\n>\n> A trivial example: block sizeof 10, and 10 people want to transact, all\n> can bid 1 SAT/byte, 2 tx are moving 100 mil sats, the other 8 are moving 10\n> mil sats.   Block size of 2.  Now the two transactions moving 100 mil sats\n> will bid, they can easily pay 400 sats/byte.\n>\n> You can show, from history, that when block sizes are more constrained,\n> due to the mining of zero byte blocks, total fees were higher.   People\n> will always pay for \"next confirm\" if the cost of that is very reasonable\n> (less than 0.1%).\n>\n>>\n>> If everyone pays 1 sat, then either miners are profitable at 1 sat, or\n>> these people are not getting confirmed (economic rationality always\n>> assumed).\n>>\n>\n> Yes, and if miners are not profitable at 1 sat, then they will not mine,\n> and the hash rate will drop.   And this reduces the security of the coin.\n>  Hashrate is an index of security.\n>\n> But there is of course no real issue here. Simply fork off an inflation\n>> coin and test your theory. I mean, that\u2019s the only way it can happen anyway.\n>>\n>\n> I would argue inflation is not a good solution.   Instead, being cautious\n> about block-compressing tech, like mweb, and being more aggressive about\n> fee-driving tech, makes more sense .\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220713/ee9b842f/attachment-0001.html>"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-07-07T22:06:14",
                "message_text_only": "On Thu, Jul 07, 2022 at 10:12:41AM -0400, Peter Todd via bitcoin-dev wrote:\n> We should not imbue real technology with magical qualities.\n\nThat's much more fun if you invert it, and take it as a mission\nstatement. Advance technology sufficiently!\n\n> The fact of the matter is that the present amount of security is about 1.7% of\n> the total coin supply/year, and Bitcoin seems to be working fine. 1.7% is also\n> already an amount low enough that it's much smaller than economic volatility.\n> \n> Obviously 0% is too small.\n> \n> There's zero reason to stress about finding an \"optimal\" amount. An amount low\n> enough to be easily affordable, but non-zero, is fine. 1% would be fine; 0.5%\n> would probably be fine; 0.1% would probably be fine.\n\nFor comparison, 0.1% of 21M BTC per annum is 0.4 BTC per block, which\nis about 50sat/vb if blocks are 800kvB on average. Doing that purely\nwith fees seems within the ballpark of feasibility to me.\n\n50sat/vb for a 200vb tx (roughly the size of a 2-in, 2-out p2wpkh/p2tr\ntx) is $2 at $20k/BTC, $10 at $100k/BTC, $100 at $1M/BTC etc.\n\nIf the current block reward of ~1.7% pa of 19M at a price of $20k funds\nthe current level of mining activity, then you'd expect a similar level\nof mining activity as today with reward at 0.1% pa of 21M at a price\nof ~$310k.\n\nGoing by the halving schedule, the block subsidy alone will remain above\n0.1% of supply until we hit the 0.39 BTC/block regime, in 2036, at which\npoint it drops to ~0.0986% annualised. (I guess you could extend that by\nfour years if you're willing to assume more than 1.5% of bitcoin supply\nhas been permanently lost)\n\nCheers,\naj"
            },
            {
                "author": "Corey Haddad",
                "date": "2022-07-07T22:02:08",
                "message_text_only": ">Billy,\n>\n>Proof of work and the difficulty adjustment function solve literally\neverything you are talking about already.\n>Bitcoin does not need active economic governanance by devs or meddlers.\n>Please stop spamming this list with this nonsensical thread.\n>\n>Love,\n>John\n\nSorry John, but this is a divisive comment. You are the spammer here. While\nit is unclear why you are trying to harm the Bitcoin development process,\nyou are, and anyone reading this should know that.\n\nProof of work and the difficulty adjustment have no capability to ensure\nthat the amount of security is adequate or reasonable.The only proximate\nincentive-compatible feedback mechanisms would either make the security too\nlow or too high, and not approach 'just right'. If the price falls, and the\nhashrate goes down, people might conclude that Bitcoin is looking\nvulnerable to attack and therefore sell, which would be a negative feedback\nloop. Conversely, if a price rise leads to a higher hashrate, people might\nthink Bitcoin is now even more secure than before and buy, causing a\npositive feedback loop. These are not stable equilibria.\n\nPoW and the difficulty adjustments hold block times at 10 minutes, and by\nthe same token, keep coin issuance roughly on schedule. They have also\nturned out to - thus far - have charted a reasonable (albeit predetermined)\ncourse through the various hash-based attacks that lurk out there in the\nworld. Without any sort or restorative force that guides the security\nbudget to an optimum, or even towards a reasonable range, we have to\nrecognize that we are just lucky that Satoshi got it right. When navigating\nvia dead reckoning, the uncertainty accumulates over time and distance.\nEventually external corrections are needed. We absolutely need to keep\napprised of the current and future threats, assess Bitcoin's resilience in\nthe face of those threats, and when needed make changes to ensure Bitcoin\nremains secure.\n\nCorey\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/37458d86/attachment-0001.html>"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-07-19T04:44:58",
                "message_text_only": "On Fri, Jun 03, 2022 at 06:39:34PM +0000, alicexbt via bitcoin-dev wrote:\n> Covenants on bitcoin will eventually be implemented with a soft fork.\n\nThat's begging the question. The issue is whether we should allow such\nsoft forks, or if the danger of losing coins to covenants and thus\nlosing fungibility and the freedom to transact is too much of a risk,\ncompared to whatever benefits the soft fork would bring.\n\n> **Why covenants are not contentious?**\n\nI think this actually misses the point: covenants are \"contentious\"\nbecause that term is usually used to describe a concept that's utterly\ncounter to the point of bitcoin as a monetary instrument. We've taken\nthe term and applied it for something that's different in key ways,\nwhich just ends up confusing and misleading.\n\nUsing a traditional meaning, a \"covenant\" is an \"agreement\" but with\nan implication of permanency: whether that's because you're making a\ncovenant with God that will bind your children and their children, or\nyou're putting a covenant on your property that \"runs with the land\", eg:\n\n\"\"\"A covenant is said to run with the land in the event that the covenant\nis annexed to the estate and cannot be separated from the land or the land\ntransferred without it. Such a covenant exists if the original owner as\nwell as each successive owner of the property is either subject to its\nburden or entitled to its benefit.\"\"\" [0]\n\n[0] https://legal-dictionary.thefreedictionary.com/covenant\n\nSometimes people talk about \"recursive covenants\" in bitcoin, which\nI think is intended to imply something similar to the \"runs with the\nland\" concept above. But recursion in programming generally terminates\n(calculating \"Fib(n) := if (n <= 1) then 1 else Fib(n-1) + Fib(n-2)\"\neg), while covenants that run with the land are often unable to be\nremoved. I think a better programming analogy would be \"non-terminating\";\nso for example, CTV is \"recursive\" in the sense that you can nest one\nCTV commitment inside another, but it does terminate, because you can\nonly nest a finite number of CTV commitments inside another, due to\ncomputational limits.\n\nCovenants even have a racist history in the US (because of course they\ndo), apparently, with covenants along the lines of \"None of said land\nmay be conveyed to, used, owned, or occupied by negroes as owners or\ntenants\" [1] having been in use. Such covenants have apparently been\nruled uneforcable by the Supreme Court, but apparently are nevertheless\noften difficult or impossible to remove from the property despite\nthat. Presumably we at least don't need to worry about somehow introducing\nracist opcodes in bitcoin, but if you're wondering why covenants are\ncontroversial, their historical use is relevant.\n\n[1] https://www.npr.org/2021/11/17/1049052531/racial-covenants-housing-discrimination\n\nCovenants are specifically undesirable if applied to bitcoin because they\nbreak fungibility -- if you have some covenant that \"runs with the coin\",\nthen it's no longer true to say \"1 BTC = 1 BTC\" if such a covenant means\nthe one of the left can't be used for a lightning channel or the one on\nthe right can't be used to back an asset on eth or liquid.\n\nBut that isn't what anyone's *trying* to do here. What we're trying to\ndo is add temporary conditions that allow us to do smarter things than\nwe currently can while the coin remains in our ownership -- for example\nprotecting our own money by putting it in a \"vault\", or pooling funds\nwith people we don't entirely trust. \n\nThat often requires recursion in the first place (so that the vault or\nthe pool doesn't disappear after the first transaction). And from there,\nit can be easy to prevent the recursion from terminating and turn what\nwould otherwise be a temporary condition into a permanent one. That\nwas theoretically interesting in 2013 [2], and remains so today [3],\nbut it isn't something that's *desirable* to apply to bitcoin.\n\n[2] https://bitcointalk.org/index.php?topic=278122.0\n[3] https://www.wpsoftware.net/andrew/blog/cat-and-schnorr-tricks-ii.html\n\nThat is: even if it becomes possible to create permanent non-terminating\ncovenants that run with a coin on bitcoin, that isn't something you\nshould do, and if you do, people should not (and almost certainly will\nnot) accept those coins from you, unless you first find a way to remove\nthat covenant.\n\nOne significant difference between real estate covenants and anything\nwe might have on bitcoin is the ability to be sure that once you receive\nownership of bitcoin, that that ownership does not come with encumbrances\nyou're unaware of. In particular, when purchasing real estate, you\nmay have to do numerous legal searches to be sure that there isn't a\ncovenant, easement or other encumbrance on your property; in bitcoin,\nyou decide the exact set of encumbrances that will be placed on your\ncoins when you create the receiving address that you use, and once the\naddress is chosen, those conditions are fixed. (Though to be fair, they\ncould reference external things, such as an oracle, which could change)\n\nSo, all in all, I think we should stop describing these features we're\nthinking about adding with the word that's mainly used for the single\nmost inappropriate and undesirable use case for them.\n\nI think I'm going to go with talking about these features as enabling\n\"transaction introspection\" [4] [5] [6] (or \"output introspection\")\ninstead -- that is, the ability for a script or witness from the input of\na transaction to specify that the validator needs to examine components\nof the transaction itself (particularly its own outputs -- the value\nor the scriptPubKey or both), and ensure that some set of requirements\nimposed by the script/witness is fulfilled.\n\n[4] eg https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-July/020735.html\n[5] compare with https://en.wikipedia.org/wiki/Type_introspection\n[6] see also https://github.com/ElementsProject/elements/blob/master/doc/tapscript_opcodes.md\n\nNote that signatures already involve transaction/output introspection:\nSIGHASH_ALL and SIGHASH_SINGLE impose the requirement that one or all\noutputs hash to some particular value, and validators obviously must\ncheck that requirement when validating signatures. That we already have\nthis feature is why seemingly unrealted opcodes like CAT (or SUBSTR or\nSHA256STREAM) could also enable covenants in bitcoin.\n\nThe CLTV and CSV opcodes also do transaction introspection, though not\noutput introspection as they only examine the tx header (nlocktime)\nand the current input (nsequence).\n\nCheers,\naj"
            },
            {
                "author": "alicexbt",
                "date": "2022-07-19T14:46:46",
                "message_text_only": "Hi Anthony,\n\n\n> The issue is whether we should allow such\n> soft forks, or if the danger of losing coins to covenants and thus\n> losing fungibility and the freedom to transact is too much of a risk,\n> compared to whatever benefits the soft fork would bring.\n\nThere are so many ways to lose coins and [fungibility][1] of bitcoin is debatable. Most UTXOs are already distinguishable from another.\n\n> that. Presumably we at least don't need to worry about somehow introducing\n> racist opcodes in bitcoin, but if you're wondering why covenants are\n> controversial, their historical use is relevant.\n\nCould rebranding the term 'covenants' help in sharing the benefits of related proposals for bitcoin? According to Greg Maxwell's [comment][2] on reddit, he came up with the term as applied in bitcoin.\n\n> But that isn't what anyone's trying to do here. What we're trying to\n> do is add temporary conditions that allow us to do smarter things than\n> we currently can while the coin remains in our ownership -- for example\n> protecting our own money by putting it in a \"vault\", or pooling funds\n> with people we don't entirely trust.\n\nAgree.\n\n> In particular, when purchasing real estate, you\n> may have to do numerous legal searches to be sure that there isn't a\n> covenant, easement or other encumbrance on your property; in bitcoin,\n> you decide the exact set of encumbrances that will be placed on your\n> coins when you create the receiving address that you use, and once the\n> address is chosen, those conditions are fixed.\n\nAgree and users should be free to add conditions to the coins they own.\n\n> I think I'm going to go with talking about these features as enabling\n> \"transaction introspection\" [4] [5] [6] (or \"output introspection\")\n> instead -- that is, the ability for a script or witness from the input of\n> a transaction to specify that the validator needs to examine components\n> of the transaction itself (particularly its own outputs -- the value\n> or the scriptPubKey or both), and ensure that some set of requirements\n> imposed by the script/witness is fulfilled.\n\nInteresting perspective and maybe this is the rebranding I was thinking about.\n\n\n[1]: https://en.wikipedia.org/wiki/Fungibility\n[2]: https://www.reddit.com/r/Bitcoin/comments/uim560/comment/i7dhfpb/\n\n\n/dev/fd0\n\n\nSent with Proton Mail secure email.\n\n------- Original Message -------\nOn Tuesday, July 19th, 2022 at 10:14 AM, Anthony Towns via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\n> On Fri, Jun 03, 2022 at 06:39:34PM +0000, alicexbt via bitcoin-dev wrote:\n>\n> > Covenants on bitcoin will eventually be implemented with a soft fork.\n>\n>\n> That's begging the question. The issue is whether we should allow such\n> soft forks, or if the danger of losing coins to covenants and thus\n> losing fungibility and the freedom to transact is too much of a risk,\n> compared to whatever benefits the soft fork would bring.\n>\n> > Why covenants are not contentious?\n>\n>\n> I think this actually misses the point: covenants are \"contentious\"\n> because that term is usually used to describe a concept that's utterly\n> counter to the point of bitcoin as a monetary instrument. We've taken\n> the term and applied it for something that's different in key ways,\n> which just ends up confusing and misleading.\n>\n> Using a traditional meaning, a \"covenant\" is an \"agreement\" but with\n> an implication of permanency: whether that's because you're making a\n> covenant with God that will bind your children and their children, or\n> you're putting a covenant on your property that \"runs with the land\", eg:\n>\n> \"\"\"A covenant is said to run with the land in the event that the covenant\n> is annexed to the estate and cannot be separated from the land or the land\n> transferred without it. Such a covenant exists if the original owner as\n> well as each successive owner of the property is either subject to its\n> burden or entitled to its benefit.\"\"\" [0]\n>\n> [0] https://legal-dictionary.thefreedictionary.com/covenant\n>\n> Sometimes people talk about \"recursive covenants\" in bitcoin, which\n> I think is intended to imply something similar to the \"runs with the\n> land\" concept above. But recursion in programming generally terminates\n> (calculating \"Fib(n) := if (n <= 1) then 1 else Fib(n-1) + Fib(n-2)\"\n> eg), while covenants that run with the land are often unable to be\n> removed. I think a better programming analogy would be \"non-terminating\";\n> so for example, CTV is \"recursive\" in the sense that you can nest one\n> CTV commitment inside another, but it does terminate, because you can\n> only nest a finite number of CTV commitments inside another, due to\n> computational limits.\n>\n> Covenants even have a racist history in the US (because of course they\n> do), apparently, with covenants along the lines of \"None of said land\n> may be conveyed to, used, owned, or occupied by negroes as owners or\n> tenants\" [1] having been in use. Such covenants have apparently been\n> ruled uneforcable by the Supreme Court, but apparently are nevertheless\n> often difficult or impossible to remove from the property despite\n> that. Presumably we at least don't need to worry about somehow introducing\n> racist opcodes in bitcoin, but if you're wondering why covenants are\n> controversial, their historical use is relevant.\n>\n> [1] https://www.npr.org/2021/11/17/1049052531/racial-covenants-housing-discrimination\n>\n> Covenants are specifically undesirable if applied to bitcoin because they\n> break fungibility -- if you have some covenant that \"runs with the coin\",\n> then it's no longer true to say \"1 BTC = 1 BTC\" if such a covenant means\n> the one of the left can't be used for a lightning channel or the one on\n> the right can't be used to back an asset on eth or liquid.\n>\n> But that isn't what anyone's trying to do here. What we're trying to\n> do is add temporary conditions that allow us to do smarter things than\n> we currently can while the coin remains in our ownership -- for example\n> protecting our own money by putting it in a \"vault\", or pooling funds\n> with people we don't entirely trust.\n>\n> That often requires recursion in the first place (so that the vault or\n> the pool doesn't disappear after the first transaction). And from there,\n> it can be easy to prevent the recursion from terminating and turn what\n> would otherwise be a temporary condition into a permanent one. That\n> was theoretically interesting in 2013 [2], and remains so today [3],\n> but it isn't something that's desirable to apply to bitcoin.\n>\n> [2] https://bitcointalk.org/index.php?topic=278122.0\n> [3] https://www.wpsoftware.net/andrew/blog/cat-and-schnorr-tricks-ii.html\n>\n> That is: even if it becomes possible to create permanent non-terminating\n> covenants that run with a coin on bitcoin, that isn't something you\n> should do, and if you do, people should not (and almost certainly will\n> not) accept those coins from you, unless you first find a way to remove\n> that covenant.\n>\n> One significant difference between real estate covenants and anything\n> we might have on bitcoin is the ability to be sure that once you receive\n> ownership of bitcoin, that that ownership does not come with encumbrances\n> you're unaware of. In particular, when purchasing real estate, you\n> may have to do numerous legal searches to be sure that there isn't a\n> covenant, easement or other encumbrance on your property; in bitcoin,\n> you decide the exact set of encumbrances that will be placed on your\n> coins when you create the receiving address that you use, and once the\n> address is chosen, those conditions are fixed. (Though to be fair, they\n> could reference external things, such as an oracle, which could change)\n>\n> So, all in all, I think we should stop describing these features we're\n> thinking about adding with the word that's mainly used for the single\n> most inappropriate and undesirable use case for them.\n>\n> I think I'm going to go with talking about these features as enabling\n> \"transaction introspection\" [4] [5] [6] (or \"output introspection\")\n> instead -- that is, the ability for a script or witness from the input of\n> a transaction to specify that the validator needs to examine components\n> of the transaction itself (particularly its own outputs -- the value\n> or the scriptPubKey or both), and ensure that some set of requirements\n> imposed by the script/witness is fulfilled.\n>\n> [4] eg https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-July/020735.html\n> [5] compare with https://en.wikipedia.org/wiki/Type_introspection\n> [6] see also https://github.com/ElementsProject/elements/blob/master/doc/tapscript_opcodes.md\n>\n> Note that signatures already involve transaction/output introspection:\n> SIGHASH_ALL and SIGHASH_SINGLE impose the requirement that one or all\n> outputs hash to some particular value, and validators obviously must\n> check that requirement when validating signatures. That we already have\n> this feature is why seemingly unrealted opcodes like CAT (or SUBSTR or\n> SHA256STREAM) could also enable covenants in bitcoin.\n>\n> The CLTV and CSV opcodes also do transaction introspection, though not\n> output introspection as they only examine the tx header (nlocktime)\n> and the current input (nsequence).\n>\n> Cheers,\n> aj\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "Bitcoin covenants are inevitable",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Eric Voskuil",
                "Corey Haddad",
                "Giuseppe B",
                "Anthony Towns",
                "John Carvalho",
                "Peter Todd",
                "vjudeu at gazeta.pl",
                "alicexbt",
                "Erik Aronesty",
                "Billy Tetrud"
            ],
            "messages_count": 24,
            "total_messages_chars_count": 146939
        }
    },
    {
        "title": "[bitcoin-dev] addr/getaddr behaviour",
        "thread_messages": [
            {
                "author": "popo",
                "date": "2022-07-04T07:53:48",
                "message_text_only": "Is this specced anywhere? Or where can I find this in the code?\n\nIn particular I saw mentioned in the protocol docs, that nodes will \nheartbeat their own external addr periodicially.\n\nDo node repropagate these messages? If so then how do they distinguish \nthem from other addr messages?\n\nWhere can I find the places in the code where addr messages are sent and \nreceived?\n\nThanks"
            }
        ],
        "thread_summary": {
            "title": "addr/getaddr behaviour",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "popo"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 379
        }
    },
    {
        "title": "[bitcoin-dev] BGP hijacking on Bitcoin p2p network",
        "thread_messages": [
            {
                "author": "alicexbt",
                "date": "2022-07-05T20:30:24",
                "message_text_only": "Hi Elias,\n\nThanks for sharing the links.\n\nI have also started working on a simple chrome extension which connects to local bitcoin core and checks IP address of all peers for prefix length and other things. I would highlight peers with different colors based on certain things in this extension.\n\nhttps://github.com/1440000bytes/bitcoin-core-extension\n\n/dev/fd0\n\n\nSent with Proton Mail secure email.\n\n------- Original Message -------\nOn Friday, June 10th, 2022 at 6:44 AM, Elias Rohrer <btcdevml at tnull.de> wrote:\n\n\n> Hi alicexbt,\n>\n> Routing attacks have actually been studied quite a bit in literature.\n>\n> You may be interested in the research articles of Maria Apostolaki et al.[1,2], Muoi Tran et al.[3], and related works.\n>\n> Best,\n>\n> Elias\n>\n> 1: https://arxiv.org/pdf/1605.07524.pdf\n> [2]: https://arxiv.org/pdf/1808.06254.pdf\n> [3]: https://allquantor.at/blockchainbib/pdf/tran2020stealthier.pdf\n>\n> On 9 Jun 2022, at 20:24, alicexbt via bitcoin-dev wrote:\n>\n> > Hi Bitcoin Developers,\n> >\n> > Based on this answer from 2014, bitcoin nodes are vulnerable to BGP hijacking. There was an incident in March 2022, twitter prefix was hijacked and details are shared in 2 blog posts:\n> >\n> > https://isc.sans.edu/diary/rss/28488\n> >\n> > https://www.manrs.org/2022/03/lesson-learned-twitter-shored-up-its-routing-security/\n> >\n> > 'nusenu' had written an article about Tor network being vulnerable to BGP hijacking attacks: https://nusenu.medium.com/how-vulnerable-is-the-tor-network-to-bgp-hijacking-attacks-56d3b2ebfd92\n> >\n> > After doing some research I found that RPKI ROA and BGP prefix length can help against BGP hijacking attacks. I checked BGP prefix length and RPKI ROA for first 10 IP addresses returned in `getnodeaddresses` in bitcoin core and it had vulnerable results.\n> >\n> > https://i.stack.imgur.com/KD7jH.png\n> >\n> > Has anyone written a detailed blog post or research article like nusenu? If not I would be interested to write one in next couple of weeks?\n> > Looking for some \"technical\" feedback, links if this was already discussed in past with some solutions.\n> >\n> > /dev/fd0\n> >\n> > Sent with Proton Mail secure email.\n> >\n> > _______________________________________________\n> > bitcoin-dev mailing list\n> > bitcoin-dev at lists.linuxfoundation.org\n> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "BGP hijacking on Bitcoin p2p network",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "alicexbt"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 2348
        }
    },
    {
        "title": "[bitcoin-dev] Playing with full-rbf peers for fun and L2s security",
        "thread_messages": [
            {
                "author": "alicexbt",
                "date": "2022-07-05T20:46:51",
                "message_text_only": "Hi Peter,\n\n> Note that Wasabi already has a DoS attack vector in that a participant can stop\n> participating after the first phase of the round, with the result that the\n> coinjoin fails. Wasabi mitigates that by punishing participating in future\n> rounds. Double-spends only create additional types of DoS attack that need to\n> be detected and punished as well - they don't create a fundamentally new\n> vulerability.\n\nI agree some DoS vectors are already mitigated however punishment in this case will be difficult because the transaction is broadcasted after signing and before coinjoin tx broadcast.\n\nInputs are already checked multiple times for double spend during coinjoin round: https://github.com/zkSNACKs/WalletWasabi/pull/6460\n\nIf all the inputs in the coinjoin transaction that failed to relay are checked and one or more are found to be spent later, what will be punished and how does this affect the attacker with thousands of UTXOs or normal users?\n\n/dev/fd0\n\nSent with Proton Mail secure email.\n\n------- Original Message -------\nOn Monday, June 27th, 2022 at 12:43 AM, Peter Todd <pete at petertodd.org> wrote:\n\n\n> On Sun, Jun 26, 2022 at 04:40:24PM +0000, alicexbt via bitcoin-dev wrote:\n>\n> > Hi Antoine,\n> >\n> > Thanks for sharing the DoS attack example with alternatives.\n> >\n> > > - Caroll broadcasts a double-spend of her own input C, the double-spend is attached with a low-fee (1sat/vb) and it does not signal opt-in RBF\n> > > - Alice broadcasts the multi-party transaction, it is rejected by the network mempools because Alice double-spend is already present\n> >\n> > I think this affects almost all types of coinjoin transaction including coordinator based implementations. I tried a few things and have already reported details for an example DoS attack to one of the team but there is no response yet.\n> >\n> > It was fun playing with RBF, DoS and Coinjoin. Affected projects should share their opinion about full-rbf as it seems it might improve things.\n> >\n> > Example:\n> >\n> > In Wasabi an attacker can broadcast a transaction spending input used in coinjoin after sending signature in the round. This would result in a coinjoin tx which never gets relayed: https://nitter.net/1440000bytes/status/1540727534093905920\n>\n>\n> Note that Wasabi already has a DoS attack vector in that a participant can stop\n> participating after the first phase of the round, with the result that the\n> coinjoin fails. Wasabi mitigates that by punishing participating in future\n> rounds. Double-spends only create additional types of DoS attack that need to\n> be detected and punished as well - they don't create a fundamentally new\n> vulerability.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-08T14:53:13",
                "message_text_only": "On Tue, Jul 05, 2022 at 08:46:51PM +0000, alicexbt wrote:\n> Hi Peter,\n> \n> > Note that Wasabi already has a DoS attack vector in that a participant can stop\n> > participating after the first phase of the round, with the result that the\n> > coinjoin fails. Wasabi mitigates that by punishing participating in future\n> > rounds. Double-spends only create additional types of DoS attack that need to\n> > be detected and punished as well - they don't create a fundamentally new\n> > vulerability.\n> \n> I agree some DoS vectors are already mitigated however punishment in this case will be difficult because the transaction is broadcasted after signing and before coinjoin tx broadcast.\n> \n> Inputs are already checked multiple times for double spend during coinjoin round: https://github.com/zkSNACKs/WalletWasabi/pull/6460\n> \n> If all the inputs in the coinjoin transaction that failed to relay are checked and one or more are found to be spent later, what will be punished and how does this affect the attacker with thousands of UTXOs or normal users?\n\nPoint is, the attacker is thousands of UTXOs can also DoS rounds by simply\nfailing to complete the round. In fact, the double-spend DoS attack requires\nmore resources, because for a double-spend to be succesful, BTC has to be spent\non fees.\n\nIt's just a fact of life that a motivated attacker can DoS attack Wasabi by\nspending money. That's a design choice that's serving them well so far.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220708/99636bb4/attachment.sig>"
            },
            {
                "author": "Greg Sanders",
                "date": "2022-07-08T15:09:33",
                "message_text_only": "The attacker isn't guaranteed to spend *any* funds to disrupt the protocol\nindefinitely, that's the issue here. In this scenario, her input double\nspend is at an impractical feerate, and is never included in a block,\nsitting at the bottom of the mempool.\n\nThe other users' only practical choice is to double-spend their own input\nto get their money back(at competitive rates much higher than the\nattacker), or wait and hope you win a propagation race somewhere.\n\n\n\nOn Fri, Jul 8, 2022 at 10:53 AM Peter Todd via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Tue, Jul 05, 2022 at 08:46:51PM +0000, alicexbt wrote:\n> > Hi Peter,\n> >\n> > > Note that Wasabi already has a DoS attack vector in that a participant\n> can stop\n> > > participating after the first phase of the round, with the result that\n> the\n> > > coinjoin fails. Wasabi mitigates that by punishing participating in\n> future\n> > > rounds. Double-spends only create additional types of DoS attack that\n> need to\n> > > be detected and punished as well - they don't create a fundamentally\n> new\n> > > vulerability.\n> >\n> > I agree some DoS vectors are already mitigated however punishment in\n> this case will be difficult because the transaction is broadcasted after\n> signing and before coinjoin tx broadcast.\n> >\n> > Inputs are already checked multiple times for double spend during\n> coinjoin round: https://github.com/zkSNACKs/WalletWasabi/pull/6460\n> >\n> > If all the inputs in the coinjoin transaction that failed to relay are\n> checked and one or more are found to be spent later, what will be punished\n> and how does this affect the attacker with thousands of UTXOs or normal\n> users?\n>\n> Point is, the attacker is thousands of UTXOs can also DoS rounds by simply\n> failing to complete the round. In fact, the double-spend DoS attack\n> requires\n> more resources, because for a double-spend to be succesful, BTC has to be\n> spent\n> on fees.\n>\n> It's just a fact of life that a motivated attacker can DoS attack Wasabi by\n> spending money. That's a design choice that's serving them well so far.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220708/14a19b0d/attachment.html>"
            },
            {
                "author": "alicexbt",
                "date": "2022-07-08T19:44:24",
                "message_text_only": "Hi Peter,\n\n> Point is, the attacker is thousands of UTXOs can also DoS rounds by simply\n> failing to complete the round. In fact, the double-spend DoS attack requires\n> more resources, because for a double-spend to be succesful, BTC has to be spent\n> on fees.\n>\n> It's just a fact of life that a motivated attacker can DoS attack Wasabi by\n> spending money. That's a design choice that's serving them well so far.\n\n\nThere are 2 things:\n\n1) Based on my understanding, round will not be aborted if a threshold is met for inputs and will continue irrespective of attacker trying different things in the initial phases of round. I need to confirm this by testing although not feeling well today so it can take a few days.\n\n2) Points mentioned by Greg Sanders are reasonable: There can be a different 'mempool view' for coordinator, users and attacker. Attacker could use minimum fee rate required for relay and this works differently when there is enough demand for blockspace.\n\nDouble spend attack requires only one laptop and a few UTXOs. Even if spent in some cases, would pay a few sats per transaction which won't be an issue for governments or competitors that normally perform such attacks.\n\nThe vulnerability reported is different from the things being discussed and hopefully I will do a public disclosure this month. I observed some interesting things which I wanted to discuss. Full RBF pull request is already merged in bitcoin core and available in bitcoin knots if some users want to experiment.\n\n\n/dev/fd0\n\nSent with Proton Mail secure email.\n\n------- Original Message -------\nOn Friday, July 8th, 2022 at 2:53 PM, Peter Todd <pete at petertodd.org> wrote:\n\n\n> On Tue, Jul 05, 2022 at 08:46:51PM +0000, alicexbt wrote:\n>\n> > Hi Peter,\n> >\n> > > Note that Wasabi already has a DoS attack vector in that a participant can stop\n> > > participating after the first phase of the round, with the result that the\n> > > coinjoin fails. Wasabi mitigates that by punishing participating in future\n> > > rounds. Double-spends only create additional types of DoS attack that need to\n> > > be detected and punished as well - they don't create a fundamentally new\n> > > vulerability.\n> >\n> > I agree some DoS vectors are already mitigated however punishment in this case will be difficult because the transaction is broadcasted after signing and before coinjoin tx broadcast.\n> >\n> > Inputs are already checked multiple times for double spend during coinjoin round: https://github.com/zkSNACKs/WalletWasabi/pull/6460\n> >\n> > If all the inputs in the coinjoin transaction that failed to relay are checked and one or more are found to be spent later, what will be punished and how does this affect the attacker with thousands of UTXOs or normal users?\n>\n>\n> Point is, the attacker is thousands of UTXOs can also DoS rounds by simply\n> failing to complete the round. In fact, the double-spend DoS attack requires\n> more resources, because for a double-spend to be succesful, BTC has to be spent\n> on fees.\n>\n> It's just a fact of life that a motivated attacker can DoS attack Wasabi by\n> spending money. That's a design choice that's serving them well so far.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-07-09T15:06:43",
                "message_text_only": "> Point is, the attacker is thousands of UTXOs can also DoS rounds by simply\n> failing to complete the round. In fact, the double-spend DoS attack\nrequires\n> more resources, because for a double-spend to be succesful, BTC has to be\nspent\n> on fees.\n\nI think I agree that effectively a DoS-by-abstention is lower cost than a\nDoS-by-RBF-otpout, as in the second case the UTXO double-spent must be\nstill acquired. However, I wonder if the second DoS case isn't more\neconomically efficient for the attacker as you can re-use the same UTXO (or\nthe lineage of it) many times as the coinjoin coordinator have a limited\nvisibility (in the very best case) of the network mempools to blame\nconfidently.\n\nAcquiring thousands of UTXO, whatever the origin, isn't free. Electricity\nburns if they have been mined, fiat if they have been acquired through\nexchange, time and energy if they have been earned as income.\n\n> It's just a fact of life that a motivated attacker can DoS attack Wasabi\nby\n> spending money. That's a design choice that's serving them well so far.\n\nI believe it's hard to make any open, p2p coinjoin services robust against\na deep-pocketed attacker practicing that type of DoS attacks. In theory, an\nattacker could maintain the DoS for long enough to ruin the reputation of\nthe service until it's out of the market. It would be interesting to know\nif you can design a DoS mitigation (e.g against DoS-by-abstention) offering\nthe advantage to the targeted service after one-round or a fixed number of\nrounds.\n\n> The other users' only practical choice is to double-spend their own input\n> to get their money back(at competitive rates much higher than the\n> attacker), or wait and hope you win a propagation race somewhere.\n\nYes, that's of the annoying concern with DoS-by-RBF-optout against\nDoS-by-abstention, while the latter can be mitigated without assuming a\non-chain cost for the participant, the former might be crafted such that\non-chain fees must be spent to sanitize the situation, worst in an\nasymmetric way bounded by the max size of the coinjoin, I think.\n\n> Double spend attack requires only one laptop and a few UTXOs. Even if\nspent in some cases, would pay a few sats per transaction which won't be an\nissue for governments or competitors that normally perform such attacks.\n\nThat's an interesting question. Interactive transaction construction\nprotocol being formalized by the BOLT process implied (hopefully) that\nsooner or later multi-party coinjoin capabilities should be well supported\nacross the ecosystem. From that, we might seen a large-scale p2p market of\ncoinjoin (in the same way we have a HTLC routing market with LN), where a\nparticipant can enter into them, without the high cost of installing\nanother wallet. I believe how do we mitigate all those classes of DoS to\navoid malicious coinjoin service providers to outlaw competitions that stay\nopen (reminder Minecraft and the Mirai Botnet story).\n\nAntoine\n\nLe ven. 8 juil. 2022 \u00e0 10:53, Peter Todd <pete at petertodd.org> a \u00e9crit :\n\n> On Tue, Jul 05, 2022 at 08:46:51PM +0000, alicexbt wrote:\n> > Hi Peter,\n> >\n> > > Note that Wasabi already has a DoS attack vector in that a participant\n> can stop\n> > > participating after the first phase of the round, with the result that\n> the\n> > > coinjoin fails. Wasabi mitigates that by punishing participating in\n> future\n> > > rounds. Double-spends only create additional types of DoS attack that\n> need to\n> > > be detected and punished as well - they don't create a fundamentally\n> new\n> > > vulerability.\n> >\n> > I agree some DoS vectors are already mitigated however punishment in\n> this case will be difficult because the transaction is broadcasted after\n> signing and before coinjoin tx broadcast.\n> >\n> > Inputs are already checked multiple times for double spend during\n> coinjoin round: https://github.com/zkSNACKs/WalletWasabi/pull/6460\n> >\n> > If all the inputs in the coinjoin transaction that failed to relay are\n> checked and one or more are found to be spent later, what will be punished\n> and how does this affect the attacker with thousands of UTXOs or normal\n> users?\n>\n> Point is, the attacker is thousands of UTXOs can also DoS rounds by simply\n> failing to complete the round. In fact, the double-spend DoS attack\n> requires\n> more resources, because for a double-spend to be succesful, BTC has to be\n> spent\n> on fees.\n>\n> It's just a fact of life that a motivated attacker can DoS attack Wasabi by\n> spending money. That's a design choice that's serving them well so far.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/8a93177f/attachment.html>"
            }
        ],
        "thread_summary": {
            "title": "Playing with full-rbf peers for fun and L2s security",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "alicexbt",
                "Antoine Riard",
                "Peter Todd",
                "Greg Sanders"
            ],
            "messages_count": 5,
            "total_messages_chars_count": 14963
        }
    },
    {
        "title": "[bitcoin-dev] No Order Mnemonic",
        "thread_messages": [
            {
                "author": "Anton Shevchenko",
                "date": "2022-07-07T14:33:09",
                "message_text_only": "Hello,\n\nI am new to this list, sorry if it's been discussed earlier.\nI made a python implementation for a different mnemonic encoding. The encoding requires user to remember words but not the order of those words.\nThe code is open (MIT license) at https://github.com/sancoder/noomnem\n\n--  Anton Shevchenko"
            },
            {
                "author": "Bram Cohen",
                "date": "2022-07-07T17:36:26",
                "message_text_only": "On Thu, Jul 7, 2022 at 7:43 AM Anton Shevchenko via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> I made a python implementation for a different mnemonic encoding. The\n> encoding requires user to remember words but not the order of those words.\n> The code is open (MIT license) at https://github.com/sancoder/noomnem\n\n\nThanks Anton. There's an interesting mathematical question of whether it's\npossible to make a code like this which always uses the BIP-39 words for\nthe same key as part of its encoding, basically adding a few words as error\ncorrection in case the order is lost or confused. If the BIP-39 contains a\nduplicate you can add an extra word.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/557f4041/attachment.html>"
            },
            {
                "author": "Pavol Rusnak",
                "date": "2022-07-07T17:52:18",
                "message_text_only": "There is. Just encode the index of permutation used to scramble the\notherwise sorted list. For 12 words you need to store 12! = ~32 bits so 3\nwords should be enough.\n\nRepetitions make this more difficult, though.\n\nOn Thu 7. 7. 2022 at 19:41, Bram Cohen via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Thu, Jul 7, 2022 at 7:43 AM Anton Shevchenko via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> I made a python implementation for a different mnemonic encoding. The\n>> encoding requires user to remember words but not the order of those words.\n>> The code is open (MIT license) at https://github.com/sancoder/noomnem\n>\n>\n> Thanks Anton. There's an interesting mathematical question of whether it's\n> possible to make a code like this which always uses the BIP-39 words for\n> the same key as part of its encoding, basically adding a few words as error\n> correction in case the order is lost or confused. If the BIP-39 contains a\n> duplicate you can add an extra word.\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-- \nBest Regards / S pozdravom,\n\nPavol \"stick\" Rusnak\nCo-Founder, SatoshiLabs\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/cf37de1e/attachment-0001.html>"
            },
            {
                "author": "Anton Shevchenko",
                "date": "2022-07-07T17:58:40",
                "message_text_only": "But this will require user to distinguish 12 words from error correcting words. Which is another hassle.\n\nOn Thu, Jul 7, 2022, at 10:52 AM, Pavol Rusnak wrote:\n> There is. Just encode the index of permutation used to scramble the otherwise sorted list. For 12 words you need to store 12! = ~32 bits so 3 words should be enough. \n> \n> Repetitions make this more difficult, though. \n> \n> On Thu 7. 7. 2022 at 19:41, Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> On Thu, Jul 7, 2022 at 7:43 AM Anton Shevchenko via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>> I made a python implementation for a different mnemonic encoding. The encoding requires user to remember words but not the order of those words.\n>>> The code is open (MIT license) at https://github.com/sancoder/noomnem\n>> \n>> Thanks Anton. There's an interesting mathematical question of whether it's possible to make a code like this which always uses the BIP-39 words for the same key as part of its encoding, basically adding a few words as error correction in case the order is lost or confused. If the BIP-39 contains a duplicate you can add an extra word.\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> -- \n> \n> Best Regards / S pozdravom,\n> \n> Pavol \"stick\" Rusnak\n> Co-Founder, SatoshiLabs\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/1d22ce6b/attachment.html>"
            },
            {
                "author": "Bram Cohen",
                "date": "2022-07-08T01:47:33",
                "message_text_only": "Part of the rules of my challenge is that the 'new' words need to be in the\nsame pool as the 'old' words, so any ordering is okay. Without that\nrequirement it's mathematically very straightforward.\n\nOn Thu, Jul 7, 2022 at 10:52 AM Pavol Rusnak <stick at satoshilabs.com> wrote:\n\n> There is. Just encode the index of permutation used to scramble the\n> otherwise sorted list. For 12 words you need to store 12! = ~32 bits so 3\n> words should be enough.\n>\n> Repetitions make this more difficult, though.\n>\n> On Thu 7. 7. 2022 at 19:41, Bram Cohen via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> On Thu, Jul 7, 2022 at 7:43 AM Anton Shevchenko via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>> I made a python implementation for a different mnemonic encoding. The\n>>> encoding requires user to remember words but not the order of those words.\n>>> The code is open (MIT license) at https://github.com/sancoder/noomnem\n>>\n>>\n>> Thanks Anton. There's an interesting mathematical question of whether\n>> it's possible to make a code like this which always uses the BIP-39 words\n>> for the same key as part of its encoding, basically adding a few words as\n>> error correction in case the order is lost or confused. If the BIP-39\n>> contains a duplicate you can add an extra word.\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> --\n> Best Regards / S pozdravom,\n>\n> Pavol \"stick\" Rusnak\n> Co-Founder, SatoshiLabs\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/72c4a5e7/attachment.html>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-08T02:19:43",
                "message_text_only": "Without a performance requirement there is no reason you can\u2019t store the BIP39 words in any order you want. So it\u2019s certainly possible, just brute force the recovery. If you have less than a second vs. a few days then it\u2019s a different question.\n\ne\n\n> On Jul 7, 2022, at 18:48, Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> \ufeff\n> Part of the rules of my challenge is that the 'new' words need to be in the same pool as the 'old' words, so any ordering is okay. Without that requirement it's mathematically very straightforward.\n> \n>> On Thu, Jul 7, 2022 at 10:52 AM Pavol Rusnak <stick at satoshilabs.com> wrote:\n>> There is. Just encode the index of permutation used to scramble the otherwise sorted list. For 12 words you need to store 12! = ~32 bits so 3 words should be enough. \n>> \n>> Repetitions make this more difficult, though. \n>> \n>>> On Thu 7. 7. 2022 at 19:41, Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>>> On Thu, Jul 7, 2022 at 7:43 AM Anton Shevchenko via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>> \n>>>> I made a python implementation for a different mnemonic encoding. The encoding requires user to remember words but not the order of those words.\n>>>> The code is open (MIT license) at https://github.com/sancoder/noomnem\n>>> \n>>> Thanks Anton. There's an interesting mathematical question of whether it's possible to make a code like this which always uses the BIP-39 words for the same key as part of its encoding, basically adding a few words as error correction in case the order is lost or confused. If the BIP-39 contains a duplicate you can add an extra word.\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>> -- \n>> Best Regards / S pozdravom,\n>> \n>> Pavol \"stick\" Rusnak\n>> Co-Founder, SatoshiLabs\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220707/5485b726/attachment.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-08T04:35:16",
                "message_text_only": "Isn't it enough to just generate a seed in the same way as today, then sort the words alphabetically, and then use that as a seed? I know, the last word is a checksum, but there are only 2048 words, so it is not a big deal to get any checksum we want. If that is insecure, because of lower possible combinations, then it is always possible to increase the number of words to compensate that.\n\n\nOn 2022-07-08 04:27:21 user Eric Voskuil via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\nWithout a performance requirement there is no reason you can\u2019t store the BIP39 words in any order you want. So it\u2019s certainly possible, just brute force the recovery. If you have less than a second vs. a few days then it\u2019s a different question.\n\n\ne\n\n\nOn Jul 7, 2022, at 18:48, Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\nPart of the rules of my challenge is that the 'new' words need to be in the same pool as the 'old' words, so any ordering is okay. Without that requirement it's mathematically very straightforward.\n\n\nOn Thu, Jul 7, 2022 at 10:52 AM Pavol Rusnak <stick at satoshilabs.com> wrote:\nThere is. Just encode the index of permutation used to scramble the otherwise sorted list. For 12 words you need to store 12! = ~32 bits so 3 words should be enough.\u00a0\n\n\nRepetitions make this more difficult, though.\u00a0\n\n\nOn Thu 7. 7. 2022 at 19:41, Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\nOn Thu, Jul 7, 2022 at 7:43 AM Anton Shevchenko via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\nI made a python implementation for a different mnemonic encoding. The encoding requires user to remember words but not the order of those words.\nThe code is open (MIT license) at https://github.com/sancoder/noomnem\n\n\n\nThanks Anton. There's an interesting mathematical question of whether it's possible to make a code like this which always uses the BIP-39 words for the same key as part of its encoding, basically adding a few words as error correction in case the order is lost or confused. If the BIP-39 contains a duplicate you can add an extra word.\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Paul Sztorc",
                "date": "2022-07-08T09:12:06",
                "message_text_only": "What do you do if the \"first\" word (of 12), happens to be the last word in\nthe list alphabetically? So that seems like a dead end.\n\nSince users are never expected to memorize the \"whole list\" (of 2048 words)\nin any case, it seems that the smarter thing to do (if this \"order\"\ncriterion is desirable) may have been to just make the whole list 12x\nlonger and cut it into 12 sections. Each of the 12 slots would have 2048\ndistinct words. Then the computer would handle the order; the user could\nneglect it.\n\nI can guess why people weren't particularly interested in this: words\nalways have to be written down in some order or another. Even if you write\nthem down in a 3x4 grid, there are very few combinations needed to guess\nthe one true ordering. I wonder how obscure the words would have to be, by\nthe 12th list of 2048? But still it might be fun - the 4th word might\nalways be a nautical word, the 5th word a farm word, etc. And no one would\nconfuse it with a bip39 phrase -- in fact since they are just lists of\nintegers 1 to 2048, it would be pretty easy to make them interoperable.\nVery easy but perhaps still not worth doing.\n\nPaul\n\nOn Fri, Jul 8, 2022, 4:48 AM vjudeu via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Isn't it enough to just generate a seed in the same way as today, then\n> sort the words alphabetically, and then use that as a seed? I know, the\n> last word is a checksum, but there are only 2048 words, so it is not a big\n> deal to get any checksum we want. If that is insecure, because of lower\n> possible combinations, then it is always possible to increase the number of\n> words to compensate that.\n>\n>\n> On 2022-07-08 04:27:21 user Eric Voskuil via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>\n> Without a performance requirement there is no reason you can\u2019t store the\n> BIP39 words in any order you want. So it\u2019s certainly possible, just brute\n> force the recovery. If you have less than a second vs. a few days then it\u2019s\n> a different question.\n>\n>\n> e\n>\n>\n> On Jul 7, 2022, at 18:48, Bram Cohen via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> Part of the rules of my challenge is that the 'new' words need to be in\n> the same pool as the 'old' words, so any ordering is okay. Without that\n> requirement it's mathematically very straightforward.\n>\n>\n> On Thu, Jul 7, 2022 at 10:52 AM Pavol Rusnak <stick at satoshilabs.com>\n> wrote:\n> There is. Just encode the index of permutation used to scramble the\n> otherwise sorted list. For 12 words you need to store 12! = ~32 bits so 3\n> words should be enough.\n>\n>\n> Repetitions make this more difficult, though.\n>\n>\n> On Thu 7. 7. 2022 at 19:41, Bram Cohen via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> On Thu, Jul 7, 2022 at 7:43 AM Anton Shevchenko via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> I made a python implementation for a different mnemonic encoding. The\n> encoding requires user to remember words but not the order of those words.\n> The code is open (MIT license) at https://github.com/sancoder/noomnem\n>\n>\n>\n> Thanks Anton. There's an interesting mathematical question of whether it's\n> possible to make a code like this which always uses the BIP-39 words for\n> the same key as part of its encoding, basically adding a few words as error\n> correction in case the order is lost or confused. If the BIP-39 contains a\n> duplicate you can add an extra word.\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220708/d55f7008/attachment.html>"
            },
            {
                "author": "James MacWhyte",
                "date": "2022-07-08T14:08:54",
                "message_text_only": "> What do you do if the \"first\" word (of 12), happens to be the last word in\n> the list alphabetically?\n>\n\nThat couldn't happen. If one word is the very last from the wordlist, it\nwould end up at the end of your mnemonic once you rearrange your 12 words\nalphabetically.\n\nHowever!\n\n(@vjudeu) Choosing 11 random words and then sorting them alphabetically\nbefore assigning a checksum would reduce entropy considerably. If you think\nabout it, to bruteforce the entire keyspace one would only need to come up\nwith every possible combination of 11 words + 1 checksum. I'm not the best\nat napkin math, but I think that leaves you with around 10 trillion\ncombinations, which would only take a couple months to exhaust with\nhardware that can do 1 million guesses per second.\n\nJames\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220708/fa49a159/attachment.html>"
            },
            {
                "author": "Zac Greenwood",
                "date": "2022-07-09T20:31:22",
                "message_text_only": "Sorting a seed alphabetically reduces entropy by ~29 bits.\n\nA 12-word seed has (12, 12) permutations or 479 million, which is ln(469m)\n/ ln(2) ~= 29 bits of entropy. Sorting removes this entropy entirely,\nreducing the seed entropy from 128 to 99 bits.\n\nZac\n\n\nOn Fri, 8 Jul 2022 at 16:09, James MacWhyte via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n>\n> What do you do if the \"first\" word (of 12), happens to be the last word in\n>> the list alphabetically?\n>>\n>\n> That couldn't happen. If one word is the very last from the wordlist, it\n> would end up at the end of your mnemonic once you rearrange your 12 words\n> alphabetically.\n>\n> However!\n>\n> (@vjudeu) Choosing 11 random words and then sorting them alphabetically\n> before assigning a checksum would reduce entropy considerably. If you think\n> about it, to bruteforce the entire keyspace one would only need to come up\n> with every possible combination of 11 words + 1 checksum. I'm not the best\n> at napkin math, but I think that leaves you with around 10 trillion\n> combinations, which would only take a couple months to exhaust with\n> hardware that can do 1 million guesses per second.\n>\n>\n> James\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/fade4b82/attachment.html>"
            },
            {
                "author": "James MacWhyte",
                "date": "2022-07-09T22:21:16",
                "message_text_only": "Thanks, Zac!\n\nI indeed did get the napkin math very wrong. I now get around 10^30 total\npossible phrases, which would take an impossibly long time to brute force.\nSo, it is less entropy but probably still sufficient for low-stakes usage.\n\nJames\n\n\nOn Sat, Jul 9, 2022 at 10:31 PM Zac Greenwood <zachgrw at gmail.com> wrote:\n\n> Sorting a seed alphabetically reduces entropy by ~29 bits.\n>\n> A 12-word seed has (12, 12) permutations or 479 million, which is ln(469m)\n> / ln(2) ~= 29 bits of entropy. Sorting removes this entropy entirely,\n> reducing the seed entropy from 128 to 99 bits.\n>\n> Zac\n>\n>\n> On Fri, 8 Jul 2022 at 16:09, James MacWhyte via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>>\n>> What do you do if the \"first\" word (of 12), happens to be the last word\n>>> in the list alphabetically?\n>>>\n>>\n>> That couldn't happen. If one word is the very last from the wordlist, it\n>> would end up at the end of your mnemonic once you rearrange your 12 words\n>> alphabetically.\n>>\n>> However!\n>>\n>> (@vjudeu) Choosing 11 random words and then sorting them alphabetically\n>> before assigning a checksum would reduce entropy considerably. If you think\n>> about it, to bruteforce the entire keyspace one would only need to come up\n>> with every possible combination of 11 words + 1 checksum. I'm not the best\n>> at napkin math, but I think that leaves you with around 10 trillion\n>> combinations, which would only take a couple months to exhaust with\n>> hardware that can do 1 million guesses per second.\n>>\n>>\n>> James\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220710/26e276d1/attachment-0001.html>"
            },
            {
                "author": "Anton Shevchenko",
                "date": "2022-07-09T23:46:19",
                "message_text_only": "I would say removing ordering from 12-word seed reduces 25 bits of entropy, not 29. Additional 4 bits come from checksum (12 words encode 132 bits, not 128).\n\nMy idea [for developing this project] was to feed its output to some kind of AI story generator (GPT-3 based?) so a user can remember a story, not ordered words. But as others pointed out, having 12 words without order is probably good enough. So at this point there's not much sense of using the proposed encoding. Unless a remembered story has wholes/errors. In this case recovering few words would be easier with unordered encoding. Any thoughts?\n\n--  Anton Shevchenko\n\n\nOn Sat, Jul 9, 2022, at 1:31 PM, Zac Greenwood via bitcoin-dev wrote:\n> Sorting a seed alphabetically reduces entropy by ~29 bits.\n> \n> A 12-word seed has (12, 12) permutations or 479 million, which is ln(469m) / ln(2) ~= 29 bits of entropy. Sorting removes this entropy entirely, reducing the seed entropy from 128 to 99 bits.\n> \n> Zac\n> \n> \n> On Fri, 8 Jul 2022 at 16:09, James MacWhyte via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> \n>>> What do you do if the \"first\" word (of 12), happens to be the last word in the list alphabetically?\n>> \n>> That couldn't happen. If one word is the very last from the wordlist, it would end up at the end of your mnemonic once you rearrange your 12 words alphabetically.\n>> \n>> However! \n>> \n>> (@vjudeu) Choosing 11 random words and then sorting them alphabetically before assigning a checksum would reduce entropy considerably. If you think about it, to bruteforce the entire keyspace one would only need to come up with every possible combination of 11 words + 1 checksum. I'm not the best at napkin math, but I think that leaves you with around 10 trillion combinations, which would only take a couple months to exhaust with hardware that can do 1 million guesses per second.\n>> \n>> \n>> James\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n> \n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/ca003047/attachment.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-11T13:11:53",
                "message_text_only": "1. You can swap two positions, and then your recovery algorithm can\nbrute-force the result by trying all 132 possible swaps.\n2. You can make a single deletion and only have to brute 2048\n3. You can keep doing these, being aware that it becomes geometrically more\ndifficult each time (deletion + swap = 270k ops)\n4. A home PC can make 20k secpk256 operations per second per core, so try\nto keep your number under a few million ops and it's still a decent UX\n(under a minute)\n\n\nOn Sat, Jul 9, 2022 at 8:01 PM Anton Shevchenko via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> I would say removing ordering from 12-word seed reduces 25 bits of\n> entropy, not 29. Additional 4 bits come from checksum (12 words encode 132\n> bits, not 128).\n>\n> My idea [for developing this project] was to feed its output to some kind\n> of AI story generator (GPT-3 based?) so a user can remember a story, not\n> ordered words. But as others pointed out, having 12 words without order is\n> probably good enough. So at this point there's not much sense of using the\n> proposed encoding. Unless a remembered story has wholes/errors. In this\n> case recovering few words would be easier with unordered encoding. Any\n> thoughts?\n>\n> --  Anton Shevchenko\n>\n>\n> On Sat, Jul 9, 2022, at 1:31 PM, Zac Greenwood via bitcoin-dev wrote:\n>\n> Sorting a seed alphabetically reduces entropy by ~29 bits.\n>\n> A 12-word seed has (12, 12) permutations or 479 million, which is ln(469m)\n> / ln(2) ~= 29 bits of entropy. Sorting removes this entropy entirely,\n> reducing the seed entropy from 128 to 99 bits.\n>\n> Zac\n>\n>\n> On Fri, 8 Jul 2022 at 16:09, James MacWhyte via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>\n> What do you do if the \"first\" word (of 12), happens to be the last word in\n> the list alphabetically?\n>\n>\n> That couldn't happen. If one word is the very last from the wordlist, it\n> would end up at the end of your mnemonic once you rearrange your 12 words\n> alphabetically.\n>\n> However!\n>\n> (@vjudeu) Choosing 11 random words and then sorting them alphabetically\n> before assigning a checksum would reduce entropy considerably. If you think\n> about it, to bruteforce the entire keyspace one would only need to come up\n> with every possible combination of 11 words + 1 checksum. I'm not the best\n> at napkin math, but I think that leaves you with around 10 trillion\n> combinations, which would only take a couple months to exhaust with\n> hardware that can do 1 million guesses per second.\n>\n>\n> James\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/de802042/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-11T13:18:14",
                "message_text_only": "Sorry, I totally forgot the checksum.\n\nYou can take my ops-per-second and multiply it by about 16 (because of the\n4 check bits), making a delete + two swaps or 4 swaps, etc. still pretty\nreasonable.\n\n\n\nOn Mon, Jul 11, 2022 at 9:11 AM Erik Aronesty <erik at q32.com> wrote:\n\n> 1. You can swap two positions, and then your recovery algorithm can\n> brute-force the result by trying all 132 possible swaps.\n> 2. You can make a single deletion and only have to brute 2048\n> 3. You can keep doing these, being aware that it becomes geometrically\n> more difficult each time (deletion + swap = 270k ops)\n> 4. A home PC can make 20k secpk256 operations per second per core, so try\n> to keep your number under a few million ops and it's still a decent UX\n> (under a minute)\n>\n>\n> On Sat, Jul 9, 2022 at 8:01 PM Anton Shevchenko via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> I would say removing ordering from 12-word seed reduces 25 bits of\n>> entropy, not 29. Additional 4 bits come from checksum (12 words encode 132\n>> bits, not 128).\n>>\n>> My idea [for developing this project] was to feed its output to some kind\n>> of AI story generator (GPT-3 based?) so a user can remember a story, not\n>> ordered words. But as others pointed out, having 12 words without order is\n>> probably good enough. So at this point there's not much sense of using the\n>> proposed encoding. Unless a remembered story has wholes/errors. In this\n>> case recovering few words would be easier with unordered encoding. Any\n>> thoughts?\n>>\n>> --  Anton Shevchenko\n>>\n>>\n>> On Sat, Jul 9, 2022, at 1:31 PM, Zac Greenwood via bitcoin-dev wrote:\n>>\n>> Sorting a seed alphabetically reduces entropy by ~29 bits.\n>>\n>> A 12-word seed has (12, 12) permutations or 479 million, which is\n>> ln(469m) / ln(2) ~= 29 bits of entropy. Sorting removes this entropy\n>> entirely, reducing the seed entropy from 128 to 99 bits.\n>>\n>> Zac\n>>\n>>\n>> On Fri, 8 Jul 2022 at 16:09, James MacWhyte via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>\n>> What do you do if the \"first\" word (of 12), happens to be the last word\n>> in the list alphabetically?\n>>\n>>\n>> That couldn't happen. If one word is the very last from the wordlist, it\n>> would end up at the end of your mnemonic once you rearrange your 12 words\n>> alphabetically.\n>>\n>> However!\n>>\n>> (@vjudeu) Choosing 11 random words and then sorting them alphabetically\n>> before assigning a checksum would reduce entropy considerably. If you think\n>> about it, to bruteforce the entire keyspace one would only need to come up\n>> with every possible combination of 11 words + 1 checksum. I'm not the best\n>> at napkin math, but I think that leaves you with around 10 trillion\n>> combinations, which would only take a couple months to exhaust with\n>> hardware that can do 1 million guesses per second.\n>>\n>>\n>> James\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/d9ffd3af/attachment.html>"
            }
        ],
        "thread_summary": {
            "title": "No Order Mnemonic",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Eric Voskuil",
                "Anton Shevchenko",
                "Pavol Rusnak",
                "vjudeu at gazeta.pl",
                "James MacWhyte",
                "Paul Sztorc",
                "Erik Aronesty",
                "Zac Greenwood",
                "Bram Cohen"
            ],
            "messages_count": 14,
            "total_messages_chars_count": 28471
        }
    },
    {
        "title": "[bitcoin-dev] BIP draft: Half-Aggregation of BIP-340 Signatures",
        "thread_messages": [
            {
                "author": "Jonas Nick",
                "date": "2022-07-08T15:53:06",
                "message_text_only": "Half-aggregation has been mentioned several times on this list in various\ncontexts. To have a solid basis for discussing applications of half-aggregation,\nI think it's helpful to have a concrete specification of the scheme and a place\nfor collecting supplemental information like references to cryptographic\nsecurity proofs. You can find the BIP draft at\n\nhttps://github.com/ElementsProject/cross-input-aggregation/blob/master/half-aggregation.mediawiki\n\nSimilar to BIP-340, this BIP draft specifies only the cryptographic scheme and\ndoes not prescribe specific applications. It has not received an extensive\nsecurity review yet. Thanks to Elliott Jin and Tim Ruffing for the review so\nfar. One new feature that the specified scheme has is \"incremental aggregation\"\nwhich allows aggregating additional BIP-340 signatures into an existing\nhalf-aggregate signature.\n\nWhile BIP-340 has a pseudocode specification and a reference implementation in\npython, this BIP draft has a formal specification written in hacspec [0] and\nauxiliary pseudocode. The formal specification is a mathematically precise\ndescription of the scheme, which paves the way for computer-aided formal proofs.\nSoftware tools (\"proof assistants\") allow proving properties about the formal\nspecification (\"no integer overflow\") and apply formal software verification\n(\"implementation is behaviorally equivalent to the spec\"). I don't have concrete\nplans (nor the skillset) to use these techniques. Still, I think this is an\nexciting area to explore because it has the potential to increase the Bitcoin\necosystem's robustness significantly and has little downside. Since hacspec's\nsyntax is a subset of Rust's syntax, one can use the standard rust toolchain to\ncompile, execute and test the specification.\n\nYou can find a blog post that gives a broader context at\nhttps://blog.blockstream.com/half-aggregation-of-bip-340-signatures/\n\n[0] https://github.com/hacspec/hacspec"
            },
            {
                "author": "Michael Folkson",
                "date": "2022-07-17T13:26:26",
                "message_text_only": "Thanks for this Jonas. One question that was asked on Telegram (credit: Antoine D) and isn't clear to me skimming the blog post and the draft BIP is whether half aggregation needs a new output type or not like we expect cross input signature aggregation (CISA) to [0]. My understanding is Schnorr signature batch verification (no aggregation of signatures) can be done today but half aggregation and CISA would need a soft fork and potentially a new output type in addition.\n\n(I know this work is in its early stages and won't be proposed for a soft fork anytime soon. A few of us are just trying to get a basic sketch in our heads of what they require and whether they could be enabled in the same upgrade.)\n\n[0]: https://bitcoin.stackexchange.com/questions/106240/will-cross-input-signature-aggregation-need-a-new-output-type/\n\n\n\n--\nMichael Folkson\nEmail: michaelfolkson at protonmail.com\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n\n\n------- Original Message -------\nOn Friday, July 8th, 2022 at 16:53, Jonas Nick via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\n> Half-aggregation has been mentioned several times on this list in various\n> contexts. To have a solid basis for discussing applications of half-aggregation,\n> I think it's helpful to have a concrete specification of the scheme and a place\n> for collecting supplemental information like references to cryptographic\n> security proofs. You can find the BIP draft at\n>\n> https://github.com/ElementsProject/cross-input-aggregation/blob/master/half-aggregation.mediawiki\n>\n> Similar to BIP-340, this BIP draft specifies only the cryptographic scheme and\n> does not prescribe specific applications. It has not received an extensive\n> security review yet. Thanks to Elliott Jin and Tim Ruffing for the review so\n> far. One new feature that the specified scheme has is \"incremental aggregation\"\n> which allows aggregating additional BIP-340 signatures into an existing\n> half-aggregate signature.\n>\n> While BIP-340 has a pseudocode specification and a reference implementation in\n> python, this BIP draft has a formal specification written in hacspec [0] and\n> auxiliary pseudocode. The formal specification is a mathematically precise\n> description of the scheme, which paves the way for computer-aided formal proofs.\n> Software tools (\"proof assistants\") allow proving properties about the formal\n> specification (\"no integer overflow\") and apply formal software verification\n> (\"implementation is behaviorally equivalent to the spec\"). I don't have concrete\n> plans (nor the skillset) to use these techniques. Still, I think this is an\n> exciting area to explore because it has the potential to increase the Bitcoin\n> ecosystem's robustness significantly and has little downside. Since hacspec's\n> syntax is a subset of Rust's syntax, one can use the standard rust toolchain to\n> compile, execute and test the specification.\n>\n> You can find a blog post that gives a broader context at\n> https://blog.blockstream.com/half-aggregation-of-bip-340-signatures/\n>\n> [0] https://github.com/hacspec/hacspec\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Jonas Nick",
                "date": "2022-07-17T20:48:11",
                "message_text_only": "To be clear, whether \"half aggregation needs a new output type or not\" does not\nbecome clear in the draft BIP because it is out of scope. Half-aggregation has a\nfew possible applications. The draft only specifies the cryptographic scheme.\n\nThe StackExchange post you link to argues that CISA requires a new output type.\nThe same argument applies to half aggregating signatures across transaction\ninputs (CISHA, if you will). The only difference to \"full aggregation\" is that\nthe transaction signature is a single half-aggregate signature instead of a\n64-byte signature. You're right that it's possible to do batch verification of\nTaproot output key spends (Schnorr signatures) and script spends (key tweaks)."
            },
            {
                "author": "Michael Folkson",
                "date": "2022-07-20T11:16:40",
                "message_text_only": "So this half aggregation BIP draft could potentially play the role that BIP340 did for BIP341/342 but it is too premature to start formalizing what the equivalent of BIP341/342 for this draft BIP would look like. And given there are use cases for this half aggregation BIP that can be worked on today (e.g. Lightning gossip [0], Lightning gossip seems to be a very interesting research area at the moment with a number of possible upgrades) it makes sense to focus on those first.\n\nThere is a section[1] in the CISA repo which I missed originally that describes some of the challenges of implementing CISA/CISHA as a consensus change. A couple of things that stand out to me if this was attempted in the long term. One is that there would almost need to be two tiers of verification: verification for single signature key path spends where CISA, CISHA could be applied and verification for Taproot script paths where CISA, CISHA couldn't be applied. It could even be the case that a new output type is defined specifically for the CISA, CISHA use case where there is no access to a script path at all (i.e. where users don't have a need for anything other than a single signature spend path). With SegWit v0 (and today with SegWit v1) the intention is to get the entire community to move to the new output type. But there could be a long term future where you pick an output type depending on your use case. I recall that Mimblewimble only worked if scripting was ditched entirely and every spend was assumed to be a single signature spend.\n\nAnyway...thanks for indulging me on the long term stuff :)\n\n[0]: https://github.com/ElementsProject/cross-input-aggregation#sigagg-case-study-ln-channel-announcements\n\n[1]: https://github.com/ElementsProject/cross-input-aggregation#integration-into-the-bitcoin-protocol\n\n--\nMichael Folkson\nEmail: michaelfolkson at protonmail.com\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n\n\n------- Original Message -------\nOn Sunday, July 17th, 2022 at 21:45, Jonas Nick <jonasdnick at gmail.com> wrote:\n\n\n> To be clear, whether \"half aggregation needs a new output type or not\" does not\n> become clear in the draft BIP because it is out of scope. Half-aggregation has a\n> few possible applications. The draft only specifies the cryptographic scheme.\n>\n> The StackExchange post you link to argues that CISA requires a new output type.\n> The same argument applies to half aggregating signatures across transaction\n> inputs (CISHA, if you will). The only difference to \"full aggregation\" is that\n> the transaction signature is a single half-aggregate signature instead of a\n> 64-byte signature. You're right that it's possible to do batch verification of\n> Taproot output key spends (Schnorr signatures) and script spends (key tweaks)."
            }
        ],
        "thread_summary": {
            "title": "BIP draft: Half-Aggregation of BIP-340 Signatures",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Jonas Nick",
                "Michael Folkson"
            ],
            "messages_count": 4,
            "total_messages_chars_count": 8740
        }
    },
    {
        "title": "[bitcoin-dev] TAPLEAF_UPDATE_VERIFY covenant opcode",
        "thread_messages": [
            {
                "author": "Tim Ruffing",
                "date": "2022-07-08T19:52:12",
                "message_text_only": "Hi aj,\n\nI think there's another workaround for the x-only issue with\nTAPLEAF_UPDATE_VERIFY.\n\nSo the opcode will need a function f that ensures that the new internal\nkey f(P'), where P' = P + X, has even y. You describe what happens for\nthe canonical choice of\nf(P') = if has_even_y(P') then P' else -P'.\n\nThis leads to issues because negation turns around the signs of A and B\nif say P' = A + B. Or more generally, negation is multiplicative\ntweaking with a tweak -1, and that changes the coefficients of A und B.\n\nBut what if we use additive tweaking, which won't change the\ncoefficients? For example, you could try adding the generator until you\nhit an even point, i.e., \nf(P') = if has_even_y(P') then P' else f(P' + G).\n\nThen you may get a chain like\n * Pabc = A + B + C\n * Pab \u00a0= A + B \u00a0 \u00a0 \u00a0+ 2G\n* Pa = A + 2G + 1G = A + 3G\n\nPool members will simply need to track the accumulated tweak t and take\nthe tweak into account when signing. For example, A and B would sign\nwith t = 2 and A alone would sign with t = 3. \n\nThis choice of f will succeed after 1 addition on average. (I don't\nknow if this can be proven but even if not, experiments show that it's\ntrue and that's good enough.) So the actual running time is\nprobabilistic. I don't think that's an issue but if it is an issue,\nother choices of f are possible, e.g., let the spender provide the\ntweak t explicitly and set\nf(P',t) = if 0 <= t < 128 and has_even_y(P'+tG) then P'+tG else fail.\n\nThis workaround is not exactly elegant either but it may be better than\nthe other suggestions.\n\nBest,\nTim\n\nOn Thu, 2021-09-09 at 16:53 +1000, Anthony Towns via bitcoin-dev wrote:\n> Moving on to the pooled scheme and actually updating the internal\n> pubkey\n> is, unfortunately, where things start to come apart. In particular,\n> since taproot uses 32-byte x-only pubkeys (with implicit even-y) for\n> the\n> scriptPubKey and the internal public key, we have to worry about what\n> happens if, eg, A,B,C and A+B+C all have even-more elegy, but\n> (A+B)=(A+B+C)-C does\n> not have even-y. In that case allowing C to remove herself from the\n> pool,\n> might result in switching from the scriptPubKey Qabc to the\n> scriptPubKey\n> Qab as follows:\n> \n> \u00a0\u00a0\u00a0\u00a0 Qabc = (A+B+C) + H(A+B+C, (Sa, (Sb, Sc)))*G\n> \u00a0\u00a0\u00a0\u00a0 Qab = -(A+B) + H( -(A+B), (Sa, Sb)*G\n> \n> That's fine so far, but what happens if B then removes himself from\n> the\n> pool? You take the internal public key, which turns out to be -(A+B)\n> since (A+B) did not have even y, and then subtract B, but that gives\n> you\n> -A-2B instead of just A. So B obtains his funds, but B's signature\n> hasn't\n> been cancelled out from the internal public key, so is still required\n> in order to do key path spends, which is definitely not what we want.\n>"
            }
        ],
        "thread_summary": {
            "title": "TAPLEAF_UPDATE_VERIFY covenant opcode",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Tim Ruffing"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 2734
        }
    },
    {
        "title": "[bitcoin-dev] Surprisingly, Tail Emission Is Not Inflationary",
        "thread_messages": [
            {
                "author": "Peter Todd",
                "date": "2022-07-09T12:46:47",
                "message_text_only": "New blog post:\n\nhttps://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n\ntl;dr: Due to lost coins, a tail emission/fixed reward actually results in a\nstable money supply. Not an (monetarily) inflationary supply.\n\n...and for the purposes of reply/discussion, attached is the article itself in\nmarkdown format:\n\n---\nlayout: post\ntitle:  \"Surprisingly, Tail Emission Is Not Inflationary\"\ndate:   2022-07-09\ntags:\n- bitcoin\n- monero\n---\n\nAt present, all notable proof-of-work currencies reward miners with both a block\nreward, and transaction fees. With most currencies (including Bitcoin) phasing\nout block rewards over time. However in no currency have transaction fees\nconsistently been more than 5% to 10% of the total mining\nreward[^fee-in-reward], with the exception of Ethereum, from June 2020 to Aug 2021.\nTo date no proof-of-work currency has ever operated solely on transaction\nfees[^pow-tweet], and academic analysis has found that in this condition block\ngeneration is unstable.[^instability-without-block-reward] To paraphrase Andrew\nPoelstra, it's a scary phase change that no other coin has gone through.[^apoelstra-quote]\n\n[^pow-tweet]: [I asked on Twitter](https://twitter.com/peterktodd/status/1543231264597090304) and no-one replied with counter-examples.\n\n[^fee-in-reward]: [Average Fee Percentage in Total Block Reward](https://bitinfocharts.com/comparison/fee_to_reward-btc-eth-bch-ltc-doge-xmr-bsv-dash-zec.html#alltime)\n\n[^instability-without-block-reward]: [On the Instability of Bitcoin Without the Block Reward](https://www.cs.princeton.edu/~arvindn/publications/mining_CCS.pdf)\n\n[^apoelstra-quote]: [From a panel at TABConf 2021](https://twitter.com/peterktodd/status/1457066946898317316)\n\nMonero has chosen to implement what they call [tail\nemission](https://www.getmonero.org/resources/moneropedia/tail-emission.html):\na fixed reward per block that continues indefinitely. Dogecoin also has a fixed\nreward, which they widely - and incorrectly - refer to as an \"abundant\" supply[^dogecoin-abundant].\n\n[^dogecoin-abundant]: Googling \"dogecoin abundant\" returns dozens of hits.\n\nThis article will show that a fixed block reward does **not** lead to an\nabundant supply. In fact, due to the inevitability of lost coins, a fixed\nreward converges to a **stable** monetary supply that is neither inflationary\nnor deflationary, with the total supply proportional to rate of tail emission\nand probability of coin loss.\n\nCredit where credit is due: after writing the bulk of this article I found out\nthat Monero developer [smooth_xmr](https://www.reddit.com/user/smooth_xmr/)\nalso observed that tail emission results in a stable coin supply\n[a few years ago](https://www.reddit.com/r/Monero/comments/4z0azk/maam_28_monero_ask_anything_monday/d6sixyi/).\nThere's probably others too: it's a pretty obvious result.\n\n\n<div markdown=\"1\" class=\"post-toc\">\n# Contents\n{:.no_toc}\n0. TOC\n{:toc}\n</div>\n\n## Modeling the Fixed-Reward Monetary Supply\n\nSince the number of blocks is large, we can model the monetary supply as a\ncontinuous function $$N(t)$$, where $$t$$ is a given moment in time. If the\nblock reward is fixed we can model the reward as a slope $$k$$ added to an\ninitial supply $$N_0$$:\n\n$$\nN(t) = N_0 + kt\n$$\n\nOf course, this isn't realistic as coins are constantly being lost due to\ndeaths, forgotten passphrases, boating accidents, etc. These losses are\nindependent: I'm not any more or less likely to forget my passphrase because\nyou recently lost your coins in a boating accident \u2014 an accident I probably\ndon't even know happened. Since the number of individual coins (and their\nowners) is large \u2014 as with the number of blocks \u2014 we can model this loss as\nthough it happens continuously.\n\nSince coins can only be lost once, the *rate* of coin loss at time $$t$$ is\nproportional to the total supply *at that moment* in time. So let's look at the\n*first derivative* of our fixed-reward coin supply:\n\n$$\n\\frac{dN(t)}{dt} = k\n$$\n\n...and subtract from it the lost coins, using $$\\lambda$$ as our [coin loss\nconstant](https://en.wikipedia.org/wiki/Exponential_decay):\n\n$$\n\\frac{dN(t)}{dt} = k - \\lambda N(t)\n$$\n\nThat's a first-order differential equation, which can be easily solved with\nseparation of variables to get:\n\n$$\nN(t) = \\frac{k}{\\lambda} - Ce^{-\\lambda t}\n$$\n\nTo remove the integration constant $$C$$, let's look at $$t = 0$$, where the\ncoin supply is $$N_0$$:\n\n$$\n\\begin{align}\n    N_0 &= \\frac{k}{\\lambda} - Ce^{-\\lambda 0} = \\frac{k}{\\lambda} - C \\\\\n      C &= \\frac{k}{\\lambda} - N_0\n\\end{align}\n$$\n\nThus:\n\n$$\n\\begin{align}\n    N(t) &= \\frac{k}{\\lambda} - \\left(\\frac{k}{\\lambda} - N_0 \\right)e^{-\\lambda t} \\\\\n         &= \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda} \\right)e^{-\\lambda t}\n\\end{align}\n$$\n\n\n## Long Term Coin Supply\n\nIt's easy to see that in the long run, the second half of the coin supply\nequation goes to zero because $$\\lim_{t \\to \\infty} e^{-\\lambda t} = 0$$:\n\n$$\n\\begin{align}\n    \\lim_{t \\to \\infty} N(t) &= \\lim_{t \\to \\infty} \\left[ \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda} \\right)e^{-\\lambda t} \\right ] = \\frac{k}{\\lambda} \\\\\n                   N(\\infty) &= \\frac{k}{\\lambda}\n\\end{align}\n$$\n\nAn intuitive explanation for this result is that in the long run, the initial\nsupply $$N_0$$ doesn't matter, because approximately all of those coins will\neventually be lost. Thus in the long run, the coin supply will converge towards\n$$\\frac{k}{\\lambda}$$, the point where coins are created just as fast as they\nare lost.\n\n\n## Short Term Dynamics and Economic Considerations\n\nOf course, the intuitive explanation for why supply converges to\n$$\\frac{k}{\\lambda}$$, also tells us that supply must converge fairly slowly:\nif 1% of something is lost per year, after 100 years 37% of the initial supply\nremains. It's not clear what the rate of lost coins actually is in a mature,\nvaluable, coin. But 1%/year is likely to be a good guess \u2014 quite possibly less.\n\nIn the case of Monero, they've introduced tail emission at a point where it\nrepresents a 0.9% apparent monetary inflation rate[^p2pool-tail]. Since the number of\npreviously lost coins, and the current rate of coin loss, is\nunknown[^unknowable] it's not possible to know exactly what the true monetary\ninflation rate is right now. But regardless, the rate will only converge\ntowards zero going forward.\n\n[^unknowable]: Being a privacy coin with [shielded amounts](https://localmonero.co/blocks/richlist), it's not even possible to get an estimate of the total amount of XMR in active circulation.\n\n[^p2pool-tail]: P2Pool operates [a page with real-time date figures](https://p2pool.io/tail.html).\n\nIf an existing coin decides to implement tail emission as a means to fund\nsecurity, choosing an appropriate emission rate is simple: decide on the\nmaximum amount of inflation you are willing to have in the worst case, and set\nthe tail emission accordingly. In reality monetary inflation will be even lower\non day zero due to lost coins, and in the long run, it will converge towards\nzero.\n\nThe fact is, economic volatility dwarfs the effect of small amounts of\ninflation. Even a 0.5% inflation rate over 50 years only leads to a 22% drop.\nMeanwhile at the time of writing, Bitcoin has dropped 36% in the past year, and\ngained 993% over the past 5 years. While this discussion is a nice excuse to\nuse some mildly interesting math, in the end it's totally pedantic.\n\n## Could Bitcoin Add Tail Emission?\n\n...and why could Monero?\n\nAdding tail emission to Bitcoin would be a hard fork: a incompatible rule\nchange that existing Bitcoin nodes would reject as invalid. While Monero was\nable to get sufficiently broad consensus in the community to implement tail\nemission, it's unclear at best if it would ever be possible to achieve that for\nthe much larger[^btc-vs-xmr-market-cap] Bitcoin. Additionally, Monero has a\nculture of frequent hard forks that simply does not exist in Bitcoin.\n\n[^btc-vs-xmr-market-cap]: [As of writing](https://web.archive.org/web/20220708143920/https://www.coingecko.com/), the apparent market cap of Bitcoin is $409 billion, almost 200x larger than Monero's $2.3 billion.\n\nUltimately, as long as a substantial fraction of the Bitcoin community continue\nto run full nodes, the only way tail emission could ever be added to Bitcoin is\nby convincing that same community that it is a good idea.\n\n\n## Footnotes\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/7f1a65d7/attachment.sig>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-09T14:26:22",
                "message_text_only": "> Due to lost coins, a tail emission/fixed reward actually results in a stable money supply. Not an (monetarily) inflationary supply.\n\nThis observation is not a proof of lost coins, that is an assumption. It is the provable consequence of market, as opposed to monopoly, production.\n\nhttps://github.com/libbitcoin/libbitcoin-system/wiki/Inflation-Principle\n\nMises\u2019 unfortunate error in the application of the Cantillon Effect to gold perpetuates this misperception. One could imagine applying this theory to all goods, not just money, and conclude perpetual loss of value in everything produced, as a consequence of production. One might then be tempted to attribute the fact that this is not observable to loss/depreciation/consumption. While it is certainly possible that the amount of gold produced every year is offset by the amount lost, this of course implies that all of it is lost.\n\n\u201cCirculation\u201d does not determine demand, all money is always held by someone. Changing hands only changes who owns the money, not its purchasing power. See Rothbard\u2019s critique of monetary \u201cvelocity\u201d.\n\ne\n\n> On Jul 9, 2022, at 05:47, Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> \n> \ufeffNew blog post:\n> \n> https://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n> \n> tl;dr: Due to lost coins, a tail emission/fixed reward actually results in a\n> stable money supply. Not an (monetarily) inflationary supply.\n> \n> ...and for the purposes of reply/discussion, attached is the article itself in\n> markdown format:\n> \n> ---\n> layout: post\n> title:  \"Surprisingly, Tail Emission Is Not Inflationary\"\n> date:   2022-07-09\n> tags:\n> - bitcoin\n> - monero\n> ---\n> \n> At present, all notable proof-of-work currencies reward miners with both a block\n> reward, and transaction fees. With most currencies (including Bitcoin) phasing\n> out block rewards over time. However in no currency have transaction fees\n> consistently been more than 5% to 10% of the total mining\n> reward[^fee-in-reward], with the exception of Ethereum, from June 2020 to Aug 2021.\n> To date no proof-of-work currency has ever operated solely on transaction\n> fees[^pow-tweet], and academic analysis has found that in this condition block\n> generation is unstable.[^instability-without-block-reward] To paraphrase Andrew\n> Poelstra, it's a scary phase change that no other coin has gone through.[^apoelstra-quote]\n> \n> [^pow-tweet]: [I asked on Twitter](https://twitter.com/peterktodd/status/1543231264597090304) and no-one replied with counter-examples.\n> \n> [^fee-in-reward]: [Average Fee Percentage in Total Block Reward](https://bitinfocharts.com/comparison/fee_to_reward-btc-eth-bch-ltc-doge-xmr-bsv-dash-zec.html#alltime)\n> \n> [^instability-without-block-reward]: [On the Instability of Bitcoin Without the Block Reward](https://www.cs.princeton.edu/~arvindn/publications/mining_CCS.pdf)\n> \n> [^apoelstra-quote]: [From a panel at TABConf 2021](https://twitter.com/peterktodd/status/1457066946898317316)\n> \n> Monero has chosen to implement what they call [tail\n> emission](https://www.getmonero.org/resources/moneropedia/tail-emission.html):\n> a fixed reward per block that continues indefinitely. Dogecoin also has a fixed\n> reward, which they widely - and incorrectly - refer to as an \"abundant\" supply[^dogecoin-abundant].\n> \n> [^dogecoin-abundant]: Googling \"dogecoin abundant\" returns dozens of hits.\n> \n> This article will show that a fixed block reward does **not** lead to an\n> abundant supply. In fact, due to the inevitability of lost coins, a fixed\n> reward converges to a **stable** monetary supply that is neither inflationary\n> nor deflationary, with the total supply proportional to rate of tail emission\n> and probability of coin loss.\n> \n> Credit where credit is due: after writing the bulk of this article I found out\n> that Monero developer [smooth_xmr](https://www.reddit.com/user/smooth_xmr/)\n> also observed that tail emission results in a stable coin supply\n> [a few years ago](https://www.reddit.com/r/Monero/comments/4z0azk/maam_28_monero_ask_anything_monday/d6sixyi/).\n> There's probably others too: it's a pretty obvious result.\n> \n> \n> <div markdown=\"1\" class=\"post-toc\">\n> # Contents\n> {:.no_toc}\n> 0. TOC\n> {:toc}\n> </div>\n> \n> ## Modeling the Fixed-Reward Monetary Supply\n> \n> Since the number of blocks is large, we can model the monetary supply as a\n> continuous function $$N(t)$$, where $$t$$ is a given moment in time. If the\n> block reward is fixed we can model the reward as a slope $$k$$ added to an\n> initial supply $$N_0$$:\n> \n> $$\n> N(t) = N_0 + kt\n> $$\n> \n> Of course, this isn't realistic as coins are constantly being lost due to\n> deaths, forgotten passphrases, boating accidents, etc. These losses are\n> independent: I'm not any more or less likely to forget my passphrase because\n> you recently lost your coins in a boating accident \u2014 an accident I probably\n> don't even know happened. Since the number of individual coins (and their\n> owners) is large \u2014 as with the number of blocks \u2014 we can model this loss as\n> though it happens continuously.\n> \n> Since coins can only be lost once, the *rate* of coin loss at time $$t$$ is\n> proportional to the total supply *at that moment* in time. So let's look at the\n> *first derivative* of our fixed-reward coin supply:\n> \n> $$\n> \\frac{dN(t)}{dt} = k\n> $$\n> \n> ...and subtract from it the lost coins, using $$\\lambda$$ as our [coin loss\n> constant](https://en.wikipedia.org/wiki/Exponential_decay):\n> \n> $$\n> \\frac{dN(t)}{dt} = k - \\lambda N(t)\n> $$\n> \n> That's a first-order differential equation, which can be easily solved with\n> separation of variables to get:\n> \n> $$\n> N(t) = \\frac{k}{\\lambda} - Ce^{-\\lambda t}\n> $$\n> \n> To remove the integration constant $$C$$, let's look at $$t = 0$$, where the\n> coin supply is $$N_0$$:\n> \n> $$\n> \\begin{align}\n>    N_0 &= \\frac{k}{\\lambda} - Ce^{-\\lambda 0} = \\frac{k}{\\lambda} - C \\\\\n>      C &= \\frac{k}{\\lambda} - N_0\n> \\end{align}\n> $$\n> \n> Thus:\n> \n> $$\n> \\begin{align}\n>    N(t) &= \\frac{k}{\\lambda} - \\left(\\frac{k}{\\lambda} - N_0 \\right)e^{-\\lambda t} \\\\\n>         &= \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda} \\right)e^{-\\lambda t}\n> \\end{align}\n> $$\n> \n> \n> ## Long Term Coin Supply\n> \n> It's easy to see that in the long run, the second half of the coin supply\n> equation goes to zero because $$\\lim_{t \\to \\infty} e^{-\\lambda t} = 0$$:\n> \n> $$\n> \\begin{align}\n>    \\lim_{t \\to \\infty} N(t) &= \\lim_{t \\to \\infty} \\left[ \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda} \\right)e^{-\\lambda t} \\right ] = \\frac{k}{\\lambda} \\\\\n>                   N(\\infty) &= \\frac{k}{\\lambda}\n> \\end{align}\n> $$\n> \n> An intuitive explanation for this result is that in the long run, the initial\n> supply $$N_0$$ doesn't matter, because approximately all of those coins will\n> eventually be lost. Thus in the long run, the coin supply will converge towards\n> $$\\frac{k}{\\lambda}$$, the point where coins are created just as fast as they\n> are lost.\n> \n> \n> ## Short Term Dynamics and Economic Considerations\n> \n> Of course, the intuitive explanation for why supply converges to\n> $$\\frac{k}{\\lambda}$$, also tells us that supply must converge fairly slowly:\n> if 1% of something is lost per year, after 100 years 37% of the initial supply\n> remains. It's not clear what the rate of lost coins actually is in a mature,\n> valuable, coin. But 1%/year is likely to be a good guess \u2014 quite possibly less.\n> \n> In the case of Monero, they've introduced tail emission at a point where it\n> represents a 0.9% apparent monetary inflation rate[^p2pool-tail]. Since the number of\n> previously lost coins, and the current rate of coin loss, is\n> unknown[^unknowable] it's not possible to know exactly what the true monetary\n> inflation rate is right now. But regardless, the rate will only converge\n> towards zero going forward.\n> \n> [^unknowable]: Being a privacy coin with [shielded amounts](https://localmonero.co/blocks/richlist), it's not even possible to get an estimate of the total amount of XMR in active circulation.\n> \n> [^p2pool-tail]: P2Pool operates [a page with real-time date figures](https://p2pool.io/tail.html).\n> \n> If an existing coin decides to implement tail emission as a means to fund\n> security, choosing an appropriate emission rate is simple: decide on the\n> maximum amount of inflation you are willing to have in the worst case, and set\n> the tail emission accordingly. In reality monetary inflation will be even lower\n> on day zero due to lost coins, and in the long run, it will converge towards\n> zero.\n> \n> The fact is, economic volatility dwarfs the effect of small amounts of\n> inflation. Even a 0.5% inflation rate over 50 years only leads to a 22% drop.\n> Meanwhile at the time of writing, Bitcoin has dropped 36% in the past year, and\n> gained 993% over the past 5 years. While this discussion is a nice excuse to\n> use some mildly interesting math, in the end it's totally pedantic.\n> \n> ## Could Bitcoin Add Tail Emission?\n> \n> ...and why could Monero?\n> \n> Adding tail emission to Bitcoin would be a hard fork: a incompatible rule\n> change that existing Bitcoin nodes would reject as invalid. While Monero was\n> able to get sufficiently broad consensus in the community to implement tail\n> emission, it's unclear at best if it would ever be possible to achieve that for\n> the much larger[^btc-vs-xmr-market-cap] Bitcoin. Additionally, Monero has a\n> culture of frequent hard forks that simply does not exist in Bitcoin.\n> \n> [^btc-vs-xmr-market-cap]: [As of writing](https://web.archive.org/web/20220708143920/https://www.coingecko.com/), the apparent market cap of Bitcoin is $409 billion, almost 200x larger than Monero's $2.3 billion.\n> \n> Ultimately, as long as a substantial fraction of the Bitcoin community continue\n> to run full nodes, the only way tail emission could ever be added to Bitcoin is\n> by convincing that same community that it is a good idea.\n> \n> \n> ## Footnotes\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/3e785ca0/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-09T15:15:00",
                "message_text_only": "On Sat, Jul 09, 2022 at 07:26:22AM -0700, Eric Voskuil wrote:\n> > Due to lost coins, a tail emission/fixed reward actually results in a stable money supply. Not an (monetarily) inflationary supply.\n> \n> This observation is not a proof of lost coins, that is an assumption.\n\nTo be clear, are you claiming that there is no proof that coins are lost?\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/d3a4c87c/attachment.sig>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-09T15:24:51",
                "message_text_only": "To clarify, price inflation is not caused by market production. Attributing the observed lack of inflation (eg fee %) to loss is an assumed relation.\n\nEven if the amount of loss was known (which it is not), there remains an assumption in the correlation of non-lost coins to price. Demand determines price, not the amount of something in existence, hence the folly of S2F (1/monetary-inflation).\n\ne\n\n> On Jul 9, 2022, at 08:15, Peter Todd <pete at petertodd.org> wrote:\n> \n> \ufeffOn Sat, Jul 09, 2022 at 07:26:22AM -0700, Eric Voskuil wrote:\n>>> Due to lost coins, a tail emission/fixed reward actually results in a stable money supply. Not an (monetarily) inflationary supply.\n>> \n>> This observation is not a proof of lost coins, that is an assumption.\n> \n> To be clear, are you claiming that there is no proof that coins are lost?\n> \n> -- \n> https://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/octet-stream\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/ea261b14/attachment.obj>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-09T15:31:26",
                "message_text_only": "On Sat, Jul 09, 2022 at 08:24:51AM -0700, Eric Voskuil wrote:\n> To clarify, price inflation is not caused by market production. Attributing the observed lack of inflation (eg fee %) to loss is an assumed relation.\n\nMy article is a mathematical proof that has nothing to do with observations of\ninflation.\n\nWhat I did is prove that if there is tail emission/fixed supply, the coin\nsupply will converge towards a fixed amount because the coin supply dependant\nrate of coin loss balances out the fixed rate of coin production.\n\nThat proof has nothing to do with market dynamics and would happen in any\nsystem, economic or not, with similar underlying dynamics.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/c7521b4f/attachment-0001.sig>"
            },
            {
                "author": "naman naman",
                "date": "2022-07-09T17:43:49",
                "message_text_only": "Hi,\n\nThis approach raises the obvious question : If someone hasn't had access to\ntheir coins in a long time (yrs, decades, however you want to define it) -\nand they wish to access/move them after such a time - isn't your proposal\nsimply taking away their ability to do so? Some might call it : stealing\ntheir coins.\n\nHow does one conclusively prove that \"lost\" coins are \"lost forever\"?\n\nRegards,\nthenoblebot\n\nOn Sat, 9 Jul, 2022, 7:31 pm Peter Todd via bitcoin-dev, <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Sat, Jul 09, 2022 at 08:24:51AM -0700, Eric Voskuil wrote:\n> > To clarify, price inflation is not caused by market production.\n> Attributing the observed lack of inflation (eg fee %) to loss is an assumed\n> relation.\n>\n> My article is a mathematical proof that has nothing to do with\n> observations of\n> inflation.\n>\n> What I did is prove that if there is tail emission/fixed supply, the coin\n> supply will converge towards a fixed amount because the coin supply\n> dependant\n> rate of coin loss balances out the fixed rate of coin production.\n>\n> That proof has nothing to do with market dynamics and would happen in any\n> system, economic or not, with similar underlying dynamics.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/a7a6735f/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-09T17:48:38",
                "message_text_only": "On Sat, Jul 09, 2022 at 09:43:49PM +0400, naman naman wrote:\n> Hi,\n> \n> This approach raises the obvious question : If someone hasn't had access to\n> their coins in a long time (yrs, decades, however you want to define it) -\n> and they wish to access/move them after such a time - isn't your proposal\n> simply taking away their ability to do so? Some might call it : stealing\n> their coins.\n> \n> How does one conclusively prove that \"lost\" coins are \"lost forever\"?\n\nRe-read the article: https://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n\nIt has nothing to do with re-assigning ownership of coins.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/5fcea1ad/attachment-0001.sig>"
            },
            {
                "author": "naman naman",
                "date": "2022-07-10T06:54:16",
                "message_text_only": "Hello ,\n\nThanks for the correction - it however boils down to the same principle :\ndiluting other holders, possibly excessively, if you miscalculate the coins\n\"lost\".\n\nWhich boils down to the same question again : How would you definitively\nknow that coins are \"lost\" or simply not accessed for x amount of time?\n\nRegards,\nthenoblebot\n\nOn Sat, 9 Jul, 2022, 9:48 pm Peter Todd, <pete at petertodd.org> wrote:\n\n> On Sat, Jul 09, 2022 at 09:43:49PM +0400, naman naman wrote:\n> > Hi,\n> >\n> > This approach raises the obvious question : If someone hasn't had access\n> to\n> > their coins in a long time (yrs, decades, however you want to define it)\n> -\n> > and they wish to access/move them after such a time - isn't your proposal\n> > simply taking away their ability to do so? Some might call it : stealing\n> > their coins.\n> >\n> > How does one conclusively prove that \"lost\" coins are \"lost forever\"?\n>\n> Re-read the article:\n> https://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n>\n> It has nothing to do with re-assigning ownership of coins.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220710/0ae17a8a/attachment.html>"
            },
            {
                "author": "Tobin Harding",
                "date": "2022-07-10T02:10:40",
                "message_text_only": "Hi Peter,\n\nInteresting blog post. \n\nOn Sat, Jul 09, 2022 at 11:31:26AM -0400, Peter Todd via bitcoin-dev wrote:\n> On Sat, Jul 09, 2022 at 08:24:51AM -0700, Eric Voskuil wrote:\n> > To clarify, price inflation is not caused by market production. Attributing the observed lack of inflation (eg fee %) to loss is an assumed relation.\n> \n> My article is a mathematical proof that has nothing to do with observations of\n> inflation.\n> \n> What I did is prove that if there is tail emission/fixed supply, the coin\n> supply will converge towards a fixed amount because the coin supply dependant\n> rate of coin loss balances out the fixed rate of coin production.\n> \n> That proof has nothing to do with market dynamics and would happen in any\n> system, economic or not, with similar underlying dynamics.\n\nI'm not a mathematician but I think your models assumption that coin\nloss is proportional to number of coins misses something, correct me if\nI'm wrong but as value of coins goes up is it not reasonable to expect\ncoin loss to go down as people are more careful (not to mention\nimprovements in tooling and education).\n\nIs it really possible to model coin loss as exponential decay\nconsidering such things (I'm not being facetious, that is a real\nquestion, like I said I'm not a mathematician)?\n\nCheers,\nTobin.\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220710/3ff76efc/attachment-0001.sig>"
            },
            {
                "author": "John Tromp",
                "date": "2022-07-09T14:57:57",
                "message_text_only": "> New blog post:\n> https://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n\nA Tail Emission is best described as disinflationary; the yearly\nsupply inflation steadily decreases toward zero.\n\n> Dogecoin also has a fixed reward\n\nIt started out with random rewards up to 1M doge per block, with the\nmaximum halving every 100K blocks, until the fixed reward of 10K doge\nkicked in at height 600K.\n\n> If an existing coin decides to implement tail emission as a means to fund security, choosing an appropriate emission rate is simple: decide on the maximum amount of inflation you are willing to have in the worst case, and set the tail emission accordingly.\n\nAny coin without a premine starts with infinite inflation. Bitcoin in\nits first 4 years had yearly inflation rates of inf, 100%, 50%, and\n33%. So deciding on a maximum amount of inflation is deciding on a\npremine.\n\nWhile in the long term, a capped supply doesn't meaningfully differ\nfrom un uncapped supply [1], the 21M limit is central to Bitcoin's\nidentity, and removing this limit results in something that can no\nlonger be called Bitcoin.\n\n[1] https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-09T15:13:44",
                "message_text_only": "On Sat, Jul 09, 2022 at 04:57:57PM +0200, John Tromp via bitcoin-dev wrote:\n> > New blog post:\n> > https://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n> \n> A Tail Emission is best described as disinflationary; the yearly\n> supply inflation steadily decreases toward zero.\n\n_Apparently_ inflation. True monetary inflation includes lost coins - both\nintentionally and accidentally lost. It's quite possible that even with tail\nemission Monero is currently a monetarily deflationary coin, as the lost coin\nrate might be higher than the 0.8% apparent tail emission rate.\n\nWe just don't know. Doubly so in the case of monero where its privacy features\nhide coin activity.\n\n> > If an existing coin decides to implement tail emission as a means to fund security, choosing an appropriate emission rate is simple: decide on the maximum amount of inflation you are willing to have in the worst case, and set the tail emission accordingly.\n> \n> Any coin without a premine starts with infinite inflation. Bitcoin in\n> its first 4 years had yearly inflation rates of inf, 100%, 50%, and\n> 33%. So deciding on a maximum amount of inflation is deciding on a\n> premine.\n\nHence why I specified an *existing* coin.\n\n> While in the long term, a capped supply doesn't meaningfully differ\n> from un uncapped supply [1], the 21M limit is central to Bitcoin's\n> identity, and removing this limit results in something that can no\n> longer be called Bitcoin.\n\nPersonally I think basing your identity on a technical point that isn't even\ncorrect is stupid. And I suspect than when push comes to shove, if in ~10 years\nor whatever Bitcoin turns out to be unstable without a reward, the market as a\nwhole will be happy to redefine Bitcoin to remove the 21M limit. Whether or not\nit can do that fast enough to avoid Bitcoin dying first is an open question.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/4c36e63b/attachment.sig>"
            },
            {
                "author": "Dave Scotese",
                "date": "2022-07-11T18:44:46",
                "message_text_only": "I believe it's foolish to attempt objective definitions of things that we\ndefine collectively, like \"Bitcoin.\"  The best any one of us can do is to\nbe consistent with a subjective personal definition.  I believe most people\ndo that with the term \"Bitcoin\" and that the capped supply is intrinsic to\ntheir subjective definitions.  It is to mine.  Leading bodies, such as the\nBitcoin core team, the Ethereum foundation, and every government, are\nconstantly in danger of confusing objective reality with their own\ndecisions.  Since people have autonomy, the best a leading body can do is\nrecommend their decisions.  The common error is one made by governments,\nwhere they react violently to defiance of the definitions they make.\nShadows of that error show up in nongovernmental leading bodies as\nostracism, criticism, and even sometimes illegal activity against such\ndefiance of decisions.  What I mean here is that John is right in a sense\n(\" removing this limit results in something that can no longer be called\nBitcoin.  \"), but I don't think the way he expressed it is as helpful as it\ncould be.  There are many who will not call it Bitcoin, and I am among them.\n\nOn Sat, Jul 9, 2022 at 8:13 AM Peter Todd via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Sat, Jul 09, 2022 at 04:57:57PM +0200, John Tromp via bitcoin-dev wrote:\n> > > New blog post:\n> > >\n> https://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n> >\n> > A Tail Emission is best described as disinflationary; the yearly\n> > supply inflation steadily decreases toward zero.\n>\n> _Apparently_ inflation. True monetary inflation includes lost coins - both\n> intentionally and accidentally lost. It's quite possible that even with\n> tail\n> emission Monero is currently a monetarily deflationary coin, as the lost\n> coin\n> rate might be higher than the 0.8% apparent tail emission rate.\n>\n> We just don't know. Doubly so in the case of monero where its privacy\n> features\n> hide coin activity.\n>\n> > > If an existing coin decides to implement tail emission as a means to\n> fund security, choosing an appropriate emission rate is simple: decide on\n> the maximum amount of inflation you are willing to have in the worst case,\n> and set the tail emission accordingly.\n> >\n> > Any coin without a premine starts with infinite inflation. Bitcoin in\n> > its first 4 years had yearly inflation rates of inf, 100%, 50%, and\n> > 33%. So deciding on a maximum amount of inflation is deciding on a\n> > premine.\n>\n> Hence why I specified an *existing* coin.\n>\n> > While in the long term, a capped supply doesn't meaningfully differ\n> > from un uncapped supply [1], the 21M limit is central to Bitcoin's\n> > identity, and removing this limit results in something that can no\n> > longer be called Bitcoin.\n>\n> Personally I think basing your identity on a technical point that isn't\n> even\n> correct is stupid. And I suspect than when push comes to shove, if in ~10\n> years\n> or whatever Bitcoin turns out to be unstable without a reward, the market\n> as a\n> whole will be happy to redefine Bitcoin to remove the 21M limit. Whether\n> or not\n> it can do that fast enough to avoid Bitcoin dying first is an open\n> question.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n\n\n-- \nI own Litmocracy <http://www.litmocracy.com> and Meme Racing\n<http://www.memeracing.net> (in alpha).\nI'm the webmaster for The Voluntaryist <http://www.voluntaryist.com> which\nnow accepts Bitcoin.\n\"He ought to find it more profitable to play by the rules\" - Satoshi\nNakamoto\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/d60506ee/attachment.html>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-09T20:54:01",
                "message_text_only": "\ufeffYet you posted several links which made that specific correlation, to which I was responding.\n\nMath cannot prove how much coin is \u201clost\u201d, and even if it was provable that the amount of coin lost converges to the amount produced, it is of no consequence - for the reasons I\u2019ve already pointed out. The amount of market production has no impact on market price, just as it does not with any other good.\n\nThe reason to object to perpetual issuance is the impact on censorship resistance, not on price.\n\ne\n\n> On Jul 9, 2022, at 08:31, Peter Todd <pete at petertodd.org> wrote:\n> \ufeffOn Sat, Jul 09, 2022 at 08:24:51AM -0700, Eric Voskuil wrote:\n>> To clarify, price inflation is not caused by market production. Attributing the observed lack of inflation (eg fee %) to loss is an assumed relation.\n> \n> My article is a mathematical proof that has nothing to do with observations of\n> inflation.\n> \n> What I did is prove that if there is tail emission/fixed supply, the coin\n> supply will converge towards a fixed amount because the coin supply dependant\n> rate of coin loss balances out the fixed rate of coin production.\n> \n> That proof has nothing to do with market dynamics and would happen in any\n> system, economic or not, with similar underlying dynamics.\n> \n> -- \n> https://petertodd.org 'peter'[:-1]@petertodd.org\n\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/octet-stream\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/be85c5c5/attachment.obj>\n-------------- next part --------------"
            },
            {
                "author": "ZmnSCPxj",
                "date": "2022-07-09T21:59:06",
                "message_text_only": "Good morning e, and list,\n\n> Yet you posted several links which made that specific correlation, to which I was responding.\n>\n> Math cannot prove how much coin is \u201clost\u201d, and even if it was provable that the amount of coin lost converges to the amount produced, it is of no consequence - for the reasons I\u2019ve already pointed out. The amount of market production has no impact on market price, just as it does not with any other good.\n>\n> The reason to object to perpetual issuance is the impact on censorship resistance, not on price.\n\nTo clarify about censorship resistance and perpetual issuance (\"tail emission\"):\n\n* Suppose I have two blockchains, one with a constant block subsidy, and one which *had* a block subsidy but the block subsidy has become negligible or zero.\n* Now consider a censoring miner.\n  * If the miner rejects particular transactions (i.e. \"censors\") the miner loses out on the fees of those transactions.\n  * Presumably, the miner does this because it gains other benefits from the censorship, economically equal or better to the earnings lost.\n  * If the blockchain had a block subsidy, then the loss the miner incurs is small relative to the total earnings of each block.\n  * If the blockchain had 0 block subsidy, then the loss the miner incurs is large relative to the total earnings of each block.\n  * Thus, in the latter situation, the external benefit the miner gains from the censorship has to be proportionately larger than in the first situation.\n\nBasically, the block subsidy is a market distortion: the block subsidy erodes the value of held coins to pay for the security of coins being moved.\nBut the block subsidy is still issued whether or not coins being moved are censored or not censored.\nThus, there is no incentive, considering *only* the block subsidy, to not censor coin movements.\nOnly per-transaction fees have an incentive to not censor coin movements.\n\n\nThus, we should instead prepare for a future where the block subsidy *must* be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\nFortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n\n\nRegards,\nZmnSCPxj"
            },
            {
                "author": "alicexbt",
                "date": "2022-07-10T14:17:36",
                "message_text_only": "Hi ZmnSCPxj,\n\n\n> Thus, we should instead prepare for a future where the block subsidy must be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n> Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n\n`consensus.nSubsidyHalvingInterval` for mainnet in [chainparams.cpp][1] can be decreased to 195000. This will reduce the number of halvings from 34 to 14 and subsidy will be 0 when it becomes less than 0.01 although not sure if this will be a soft fork.\n\nI doubt there will be consensus for it because all the [projections and predictability][2] about bitcoin(currency) would be affected by this change. Maybe everyone can agree with this change if most of the miners start being 'compliant' like one of the coinjoin implementation.\n\n[1]: https://github.com/bitcoin/bitcoin/blob/master/src/chainparams.cpp#L66\n[2]: https://en.bitcoin.it/wiki/Controlled_supply\n\n\n/dev/fd0\n\nSent with Proton Mail secure email.\n\n------- Original Message -------\nOn Saturday, July 9th, 2022 at 9:59 PM, ZmnSCPxj via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\n> Good morning e, and list,\n>\n> > Yet you posted several links which made that specific correlation, to which I was responding.\n> >\n> > Math cannot prove how much coin is \u201clost\u201d, and even if it was provable that the amount of coin lost converges to the amount produced, it is of no consequence - for the reasons I\u2019ve already pointed out. The amount of market production has no impact on market price, just as it does not with any other good.\n> >\n> > The reason to object to perpetual issuance is the impact on censorship resistance, not on price.\n>\n>\n> To clarify about censorship resistance and perpetual issuance (\"tail emission\"):\n>\n> * Suppose I have two blockchains, one with a constant block subsidy, and one which had a block subsidy but the block subsidy has become negligible or zero.\n> * Now consider a censoring miner.\n> * If the miner rejects particular transactions (i.e. \"censors\") the miner loses out on the fees of those transactions.\n> * Presumably, the miner does this because it gains other benefits from the censorship, economically equal or better to the earnings lost.\n> * If the blockchain had a block subsidy, then the loss the miner incurs is small relative to the total earnings of each block.\n> * If the blockchain had 0 block subsidy, then the loss the miner incurs is large relative to the total earnings of each block.\n> * Thus, in the latter situation, the external benefit the miner gains from the censorship has to be proportionately larger than in the first situation.\n>\n> Basically, the block subsidy is a market distortion: the block subsidy erodes the value of held coins to pay for the security of coins being moved.\n> But the block subsidy is still issued whether or not coins being moved are censored or not censored.\n> Thus, there is no incentive, considering only the block subsidy, to not censor coin movements.\n> Only per-transaction fees have an incentive to not censor coin movements.\n>\n>\n> Thus, we should instead prepare for a future where the block subsidy must be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n> Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n>\n>\n> Regards,\n> ZmnSCPxj\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "alicexbt",
                "date": "2022-07-10T16:38:11",
                "message_text_only": "Sorry, I made some wrong calculations in the last email. I think the change would just be required in validation.cpp:\n\nhttps://github.com/bitcoin/bitcoin/blob/a7f3479ba3fda4c9fb29bd7080165744c02ee921/src/validation.cpp#L1472\n\n/dev/fd0\n\nSent with Proton Mail secure email.\n\n------- Original Message -------\nOn Sunday, July 10th, 2022 at 2:17 PM, alicexbt via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n\n> Hi ZmnSCPxj,\n>\n> > Thus, we should instead prepare for a future where the block subsidy must be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n> > Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n>\n>\n> `consensus.nSubsidyHalvingInterval` for mainnet in [chainparams.cpp][1] can be decreased to 195000. This will reduce the number of halvings from 34 to 14 and subsidy will be 0 when it becomes less than 0.01 although not sure if this will be a soft fork.\n>\n> I doubt there will be consensus for it because all the [projections and predictability][2] about bitcoin(currency) would be affected by this change. Maybe everyone can agree with this change if most of the miners start being 'compliant' like one of the coinjoin implementation.\n>\n> [1]: https://github.com/bitcoin/bitcoin/blob/master/src/chainparams.cpp#L66\n> [2]: https://en.bitcoin.it/wiki/Controlled_supply\n>\n>\n> /dev/fd0\n>\n> Sent with Proton Mail secure email.\n>\n>\n> ------- Original Message -------\n> On Saturday, July 9th, 2022 at 9:59 PM, ZmnSCPxj via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:\n>\n>\n>\n> > Good morning e, and list,\n> >\n> > > Yet you posted several links which made that specific correlation, to which I was responding.\n> > >\n> > > Math cannot prove how much coin is \u201clost\u201d, and even if it was provable that the amount of coin lost converges to the amount produced, it is of no consequence - for the reasons I\u2019ve already pointed out. The amount of market production has no impact on market price, just as it does not with any other good.\n> > >\n> > > The reason to object to perpetual issuance is the impact on censorship resistance, not on price.\n> >\n> > To clarify about censorship resistance and perpetual issuance (\"tail emission\"):\n> >\n> > * Suppose I have two blockchains, one with a constant block subsidy, and one which had a block subsidy but the block subsidy has become negligible or zero.\n> > * Now consider a censoring miner.\n> > * If the miner rejects particular transactions (i.e. \"censors\") the miner loses out on the fees of those transactions.\n> > * Presumably, the miner does this because it gains other benefits from the censorship, economically equal or better to the earnings lost.\n> > * If the blockchain had a block subsidy, then the loss the miner incurs is small relative to the total earnings of each block.\n> > * If the blockchain had 0 block subsidy, then the loss the miner incurs is large relative to the total earnings of each block.\n> > * Thus, in the latter situation, the external benefit the miner gains from the censorship has to be proportionately larger than in the first situation.\n> >\n> > Basically, the block subsidy is a market distortion: the block subsidy erodes the value of held coins to pay for the security of coins being moved.\n> > But the block subsidy is still issued whether or not coins being moved are censored or not censored.\n> > Thus, there is no incentive, considering only the block subsidy, to not censor coin movements.\n> > Only per-transaction fees have an incentive to not censor coin movements.\n> >\n> > Thus, we should instead prepare for a future where the block subsidy must be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n> > Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n> >\n> > Regards,\n> > ZmnSCPxj\n> > _______________________________________________\n> > bitcoin-dev mailing list\n> > bitcoin-dev at lists.linuxfoundation.org\n> > https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-10T17:29:51",
                "message_text_only": "On Sun, Jul 10, 2022 at 02:17:36PM +0000, alicexbt via bitcoin-dev wrote:\n> Hi ZmnSCPxj,\n> \n> \n> > Thus, we should instead prepare for a future where the block subsidy must be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n> > Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n> \n> `consensus.nSubsidyHalvingInterval` for mainnet in [chainparams.cpp][1] can be decreased to 195000. This will reduce the number of halvings from 34 to 14 and subsidy will be 0 when it becomes less than 0.01 although not sure if this will be a soft fork.\n\nWhat exactly would the benefit be of going through all the political headache\nof a soft fork for what I assume you are thinking would be an insignificant\nchange in total miner revenue?\n\nOr do you think total transaction fees at that point would be less than\n0.01BTC?\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220710/c4acd405/attachment.sig>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-10T17:27:05",
                "message_text_only": "On Sat, Jul 09, 2022 at 09:59:06PM +0000, ZmnSCPxj wrote:\n> Good morning e, and list,\n> \n> > Yet you posted several links which made that specific correlation, to which I was responding.\n> >\n> > Math cannot prove how much coin is \u201clost\u201d, and even if it was provable that the amount of coin lost converges to the amount produced, it is of no consequence - for the reasons I\u2019ve already pointed out. The amount of market production has no impact on market price, just as it does not with any other good.\n> >\n> > The reason to object to perpetual issuance is the impact on censorship resistance, not on price.\n> \n> To clarify about censorship resistance and perpetual issuance (\"tail emission\"):\n> \n> * Suppose I have two blockchains, one with a constant block subsidy, and one which *had* a block subsidy but the block subsidy has become negligible or zero.\n> * Now consider a censoring miner.\n>   * If the miner rejects particular transactions (i.e. \"censors\") the miner loses out on the fees of those transactions.\n>   * Presumably, the miner does this because it gains other benefits from the censorship, economically equal or better to the earnings lost.\n>   * If the blockchain had a block subsidy, then the loss the miner incurs is small relative to the total earnings of each block.\n>   * If the blockchain had 0 block subsidy, then the loss the miner incurs is large relative to the total earnings of each block.\n>   * Thus, in the latter situation, the external benefit the miner gains from the censorship has to be proportionately larger than in the first situation.\n\nNow let's look at an actual, real-world, attempt to censor Bitcoin via mining:\n\nhttps://petertodd.org/2016/mit-chainanchor-bribing-miners-to-regulate-bitcoin\n\nThe Chain Anchor model was to simply straight up bribe and coerce miners into\nonly accepting compliant transactions. That's only effective when a large % of\nminers actually do that - if a small % do the effect on confirmation time is\nminiscule. Obviously, censoring transactions is a significant threat to the\nvalue of Bitcoin - and thus all your Bitcoin-only hashing equipment.\n\nSo how do you make a Chain Anchor attack cheaper? By reducing total mining\nreward, and making it tied to transaction volume rather than the value of\nBitcoin as a whole.\n\n> Basically, the block subsidy is a market distortion: the block subsidy erodes the value of held coins to pay for the security of coins being moved.\n\nThe block subsidy directly ties miner revenue to the total value of Bitcoin:\nthat's exactly how you want to incentivise a service that keeps Bitcoin secure.\n\n> But the block subsidy is still issued whether or not coins being moved are censored or not censored.\n> Thus, there is no incentive, considering *only* the block subsidy, to not censor coin movements.\n> Only per-transaction fees have an incentive to not censor coin movements.\n\nThe strongest incentive not to censor is because it'll keep Bitcoin valuable.\nNot some piddling transaction fees.\n\n> Thus, we should instead prepare for a future where the block subsidy *must* be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n> Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n\nAbsolutely not.\n\nThe historical reality of transaction fees is they've had huge swings, about\n10x more volatile than total miner revenue. In the past three years they've\nranged from $8.4 million USD/30-day-average to as little as $140k/30-day-avg,\nwith the current amount being $370k/30-day-avg. That's a 60x difference.\n\nMeanwhile miner revenue has ranged from $60 million/30-day-avg to $9\nmillion/30-day-avg, a 7x difference.\n\nhttps://www.blockchain.com/charts/fees-usd-per-transaction\n\nWe want mining to be is a boring, predictable, business that anyone can do,\nwith as little reward as possible to larger scale miners. That's what you need\nfor maximal decentralization. Making mining a sophisticated business reduces\nthe pool of entities that can profitably compete in it, and increases their\nvisibility to government regulation.\n\nAdditionally, we want mining to be predictable to avoid having large gluts of\nunprofitable mining equipment laying around: mining equipment that could be\nused to attack Bitcoin. Fee revenue is obviously doing a much worse job of\nachieving that goal than subsidy revenue.\n\n\nIf transaction-fee-only mining was such a good idea, why hasn't any other coin\ndone it?\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220710/ae1fdb12/attachment.sig>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-10T18:12:35",
                "message_text_only": "> We want mining to be is a boring, predictable, business that anyone can do, with as little reward as possible to larger scale miners.\n\nTo reach that, miners should earn their block rewards inside Lightning Network. Then, if you want to send some transaction, and you have one satoshi fee, you can produce a Bitcoin block on your CPU, and get a discount on your fee for doing that. Imagine mining a block with difficulty one, and getting some millisatoshis, or even microsatoshis as a reward. Then, to bootstrap that system, it could at first accept any blocks, so existing miners could redirect their shares to such network, then a pool will be able to claim those rewards. And then, when miners will see that the system works as intended, they could switch to solo mining, to get their rewards directly to their addresses.\n\nOn 2022-07-10 19:27:28 user Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> On Sat, Jul 09, 2022 at 09:59:06PM +0000, ZmnSCPxj wrote:\n> Good morning e, and list,\n> \n> > Yet you posted several links which made that specific correlation, to which I was responding.\n> >\n> > Math cannot prove how much coin is \u201clost\u201d, and even if it was provable that the amount of coin lost converges to the amount produced, it is of no consequence - for the reasons I\u2019ve already pointed out. The amount of market production has no impact on market price, just as it does not with any other good.\n> >\n> > The reason to object to perpetual issuance is the impact on censorship resistance, not on price.\n> \n> To clarify about censorship resistance and perpetual issuance (\"tail emission\"):\n> \n> * Suppose I have two blockchains, one with a constant block subsidy, and one which *had* a block subsidy but the block subsidy has become negligible or zero.\n> * Now consider a censoring miner.\n>   * If the miner rejects particular transactions (i.e. \"censors\") the miner loses out on the fees of those transactions.\n>   * Presumably, the miner does this because it gains other benefits from the censorship, economically equal or better to the earnings lost.\n>   * If the blockchain had a block subsidy, then the loss the miner incurs is small relative to the total earnings of each block.\n>   * If the blockchain had 0 block subsidy, then the loss the miner incurs is large relative to the total earnings of each block.\n>   * Thus, in the latter situation, the external benefit the miner gains from the censorship has to be proportionately larger than in the first situation.\n\nNow let's look at an actual, real-world, attempt to censor Bitcoin via mining:\n\nhttps://petertodd.org/2016/mit-chainanchor-bribing-miners-to-regulate-bitcoin\n\nThe Chain Anchor model was to simply straight up bribe and coerce miners into\nonly accepting compliant transactions. That's only effective when a large % of\nminers actually do that - if a small % do the effect on confirmation time is\nminiscule. Obviously, censoring transactions is a significant threat to the\nvalue of Bitcoin - and thus all your Bitcoin-only hashing equipment.\n\nSo how do you make a Chain Anchor attack cheaper? By reducing total mining\nreward, and making it tied to transaction volume rather than the value of\nBitcoin as a whole.\n\n> Basically, the block subsidy is a market distortion: the block subsidy erodes the value of held coins to pay for the security of coins being moved.\n\nThe block subsidy directly ties miner revenue to the total value of Bitcoin:\nthat's exactly how you want to incentivise a service that keeps Bitcoin secure.\n\n> But the block subsidy is still issued whether or not coins being moved are censored or not censored.\n> Thus, there is no incentive, considering *only* the block subsidy, to not censor coin movements.\n> Only per-transaction fees have an incentive to not censor coin movements.\n\nThe strongest incentive not to censor is because it'll keep Bitcoin valuable.\nNot some piddling transaction fees.\n\n> Thus, we should instead prepare for a future where the block subsidy *must* be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n> Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n\nAbsolutely not.\n\nThe historical reality of transaction fees is they've had huge swings, about\n10x more volatile than total miner revenue. In the past three years they've\nranged from $8.4 million USD/30-day-average to as little as $140k/30-day-avg,\nwith the current amount being $370k/30-day-avg. That's a 60x difference.\n\nMeanwhile miner revenue has ranged from $60 million/30-day-avg to $9\nmillion/30-day-avg, a 7x difference.\n\nhttps://www.blockchain.com/charts/fees-usd-per-transaction\n\nWe want mining to be is a boring, predictable, business that anyone can do,\nwith as little reward as possible to larger scale miners. That's what you need\nfor maximal decentralization. Making mining a sophisticated business reduces\nthe pool of entities that can profitably compete in it, and increases their\nvisibility to government regulation.\n\nAdditionally, we want mining to be predictable to avoid having large gluts of\nunprofitable mining equipment laying around: mining equipment that could be\nused to attack Bitcoin. Fee revenue is obviously doing a much worse job of\nachieving that goal than subsidy revenue.\n\n\nIf transaction-fee-only mining was such a good idea, why hasn't any other coin\ndone it?\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "David A. Harding",
                "date": "2022-07-18T11:34:39",
                "message_text_only": "On 2022-07-10 07:27, Peter Todd via bitcoin-dev wrote:\n> The block subsidy directly ties miner revenue to the total value of \n> Bitcoin:\n> that's exactly how you want to incentivise a service that keeps Bitcoin \n> secure.\n\nI'm confused.  I thought your argument in the OP of this thread was that \na perpetual block subsidy would *not* be tied to the total value of \nbitcoin.  It'd be tied to the total value of bitcoin *lost* each year on \naverage.\n\nIf so, would you then agree that the inability of a perpetual block \nsubsidy to directly tie miner revenue to the total value of Bitcoin \nmakes it not exactly how we want to incentivise a service that keeps \nBitcoin secure?\n\nThanks,\n\n-Dave"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-18T19:14:15",
                "message_text_only": ">\n>\n> subsidy to directly tie miner revenue to the total value of Bitcoin\n> makes it not exactly how we want to incentivise a service that keeps\n>\n>\nagain, this is meaningless.   if the fees aren't enough to keep  bitcoin\nsecure for large transactions, then large holders are incentivised to mine\n\nthat's it.\n\nit's not complicated\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220718/442c400a/attachment.html>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-18T21:48:46",
                "message_text_only": "> On Jul 18, 2022, at 14:14, Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> \n> \ufeff\n>> \n>> subsidy to directly tie miner revenue to the total value of Bitcoin \n>> makes it not exactly how we want to incentivise a service that keeps \n>> \n> \n> again, this is meaningless.   if the fees aren't enough to keep  bitcoin secure for large transactions, then large holders are incentivised to mine\n\nYes, this is another way to pay the tx fee - you mine at cost sufficient to overpower the censor. You are spending the block reward in getting your txs confirmed, and that\u2019s your fee.\n\nBut unless you are mining full blocks of only your own transactions, this implies that you are accepting these higher fees on censored txs from others. Otherwise you are simply mining at a loss, which we cannot use as a rational basis for security.\n\nAnd therefore this reduces to the simple fact that tx fees are what provides censorship resistance, whether you mine your own or others\u2019.\n\ne\n\n> that's it.\n> \n> it's not complicated\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220718/fd07a1e3/attachment.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-25T15:04:39",
                "message_text_only": "even with zero block reward and minimal fees, large holders who perform\nzero transactions will still mine in order to preserve the value of the\nnetwork\n\nthis is not \"mining your own tx\", it is unrelated\n\nthis is \"mining at a small loss to preserve your stake\"\n\nnot only don't we need issuance or fees, but also the censorship resistance\nis not meaningfully improved with issuance\n\n\nOn Mon, Jul 18, 2022 at 3:14 PM Erik Aronesty <erik at q32.com> wrote:\n\n>\n>> subsidy to directly tie miner revenue to the total value of Bitcoin\n>> makes it not exactly how we want to incentivise a service that keeps\n>>\n>>\n> again, this is meaningless.   if the fees aren't enough to keep  bitcoin\n> secure for large transactions, then large holders are incentivised to mine\n>\n> that's it.\n>\n> it's not complicated\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220725/be53600c/attachment-0001.html>"
            },
            {
                "author": "jk_14 at op.pl",
                "date": "2022-07-26T15:44:55",
                "message_text_only": "\"large holders who perform zero transactions will still mine in order to preserve the value of the network\"\nlet me slightly modify the sentence below:\n\"The Prisoner's Dilemma is a standard example of a game analyzed in game theory that shows why completely rational large holders might not cooperate, even if it appears that it is in their best interests to do so.\"\nI'm pretty sure we will have a textbook case of Prisoner's Dilemma here.\nRegards\nJaroslaw\nW dniu 2022-07-26 10:20:38 u\u017cytkownik Erik Aronesty via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> napisa\u0142:\neven with zero block reward and minimal fees, large holders who perform zero transactions will still mine in order to preserve the value of the network\n\u00a0\nthis is not \"mining your own tx\", it is unrelated\n\u00a0\nthis is \"mining at a small loss to preserve your stake\"\n\u00a0\nnot only don't we need issuance or fees, but also the censorship resistance is not meaningfully improved with issuance\u00a0\n\u00a0\nOn Mon, Jul 18, 2022 at 3:14 PM Erik Aronesty <erik at q32.com> wrote:\nsubsidy to directly tie miner revenue to the total value of Bitcoin\nmakes it not exactly how we want to incentivise a service that keeps\n\u00a0\nagain, this is meaningless.\u00a0 \u00a0if the fees aren't enough\u00a0to keep\u00a0 bitcoin secure for large transactions, then large holders are incentivised to mine\n\u00a0\nthat's it.\n\u00a0\nit's not complicated\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/b91c65b7/attachment.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-26T17:05:58",
                "message_text_only": "> I'm pretty sure we will have a textbook case of Prisoner's Dilemma here.\n\nno, there is no large payoff for betrayal\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/5f2447ef/attachment-0001.html>"
            },
            {
                "author": "Peter",
                "date": "2022-07-09T22:21:05",
                "message_text_only": ">At present, all notable proof-of-work currencies reward miners with both a block reward, and transaction fees. With most currencies (including Bitcoin) phasing out block rewards over time. However in no currency have transaction fees consistently been more than 5% to 10% of the total mining reward[^fee-in-reward], with the exception of Ethereum, from June 2020 to Aug 2021. To date no proof-of-work currency has ever operated solely on transaction fees[^pow-tweet], and academic analysis has found that in this condition block generation is unstable.[^instability-without-block-reward] To paraphrase Andrew Poelstra, it's a scary phase change that no other coin has gone through.[^apoelstra-quote]\n\nWe should consider that a fixed block reward doesn't guarantee that the value of energy securing transactions is greater than the value being transacted in a practical amount of blocks where practical is a certain amount of time (currently 1 hour). If the energy expenditure is less than the value transacted in a given amount of blocks those transactions are at risk of being double spent. We have seen this failure with Ethereum Classic where any meaningful amount of value would need 2 weeks of blocks to be deeply confirmed for economic purposes.\n\nWe should also not assume that the Bitcoin emission curve implies there will be zero block rewards for mining Bitcoin, let me explain. There's an ugly solution that doesn't require a hard fork (I'm not advocating for this solution just presenting it) where a new coin is launched to merge mine with Bitcoin and that new coin (called BTail for discussion purposes) would enfranchise everyone who is a Bitcoin UTXO holder at the moment of the real-time launch of BTail at a well known block height. Using a technique we have seen with BCH to create an arguably fair launch. BTail would have a floating exchange rate to Bitcoin and its success or failure in terms of adoption would be determined by the market. It would require the same network effect barriers as a hard fork (opt-in) but would not put Bitcoin at risk while people can take time to install new software (and write new integrations) as they would with a soft fork.\n\nRegards\n\nPeter Kroll\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220709/ebf1878e/attachment.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-10T07:08:49",
                "message_text_only": "> Adding tail emission to Bitcoin would be a hard fork: a incompatible rule change that existing Bitcoin nodes would reject as invalid.\n\nIt won't, because we have zero satoshis. That means, it is possible to create any backward-compatible way of storing amounts. And if we will ever implement things like hiding amounts, then using zero would be a good way to maintain this backward compatibility.\n\n> Ultimately, as long as a substantial fraction of the Bitcoin community continue to run full nodes, the only way tail emission could ever be added to Bitcoin is by convincing that same community that it is a good idea.\n\nNot really, because people that run full nodes, just accepted Segwit and Taproot. They had no choice. And in case of zero satoshis, it could be the same: you would see zero if you look at raw bytes, but you will see non-zero values, if you use some upgraded client, that will support amount hiding, or other features.\n\nSegwit: old nodes see no new signatures, new nodes see all signatures\nZero satoshis: old nodes see new zero amounts, new nodes see all amounts\n\nIt is that simple.\n\nOn 2022-07-09 14:47:14 user Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> New blog post:\n\nhttps://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n\ntl;dr: Due to lost coins, a tail emission/fixed reward actually results in a\nstable money supply. Not an (monetarily) inflationary supply.\n\n...and for the purposes of reply/discussion, attached is the article itself in\nmarkdown format:\n\n---\nlayout: post\ntitle:  \"Surprisingly, Tail Emission Is Not Inflationary\"\ndate:   2022-07-09\ntags:\n- bitcoin\n- monero\n---\n\nAt present, all notable proof-of-work currencies reward miners with both a block\nreward, and transaction fees. With most currencies (including Bitcoin) phasing\nout block rewards over time. However in no currency have transaction fees\nconsistently been more than 5% to 10% of the total mining\nreward[^fee-in-reward], with the exception of Ethereum, from June 2020 to Aug 2021.\nTo date no proof-of-work currency has ever operated solely on transaction\nfees[^pow-tweet], and academic analysis has found that in this condition block\ngeneration is unstable.[^instability-without-block-reward] To paraphrase Andrew\nPoelstra, it's a scary phase change that no other coin has gone through.[^apoelstra-quote]\n\n[^pow-tweet]: [I asked on Twitter](https://twitter.com/peterktodd/status/1543231264597090304) and no-one replied with counter-examples.\n\n[^fee-in-reward]: [Average Fee Percentage in Total Block Reward](https://bitinfocharts.com/comparison/fee_to_reward-btc-eth-bch-ltc-doge-xmr-bsv-dash-zec.html#alltime)\n\n[^instability-without-block-reward]: [On the Instability of Bitcoin Without the Block Reward](https://www.cs.princeton.edu/~arvindn/publications/mining_CCS.pdf)\n\n[^apoelstra-quote]: [From a panel at TABConf 2021](https://twitter.com/peterktodd/status/1457066946898317316)\n\nMonero has chosen to implement what they call [tail\nemission](https://www.getmonero.org/resources/moneropedia/tail-emission.html):\na fixed reward per block that continues indefinitely. Dogecoin also has a fixed\nreward, which they widely - and incorrectly - refer to as an \"abundant\" supply[^dogecoin-abundant].\n\n[^dogecoin-abundant]: Googling \"dogecoin abundant\" returns dozens of hits.\n\nThis article will show that a fixed block reward does **not** lead to an\nabundant supply. In fact, due to the inevitability of lost coins, a fixed\nreward converges to a **stable** monetary supply that is neither inflationary\nnor deflationary, with the total supply proportional to rate of tail emission\nand probability of coin loss.\n\nCredit where credit is due: after writing the bulk of this article I found out\nthat Monero developer [smooth_xmr](https://www.reddit.com/user/smooth_xmr/)\nalso observed that tail emission results in a stable coin supply\n[a few years ago](https://www.reddit.com/r/Monero/comments/4z0azk/maam_28_monero_ask_anything_monday/d6sixyi/).\nThere's probably others too: it's a pretty obvious result.\n\n\n<div markdown=\"1\" class=\"post-toc\">\n# Contents\n{:.no_toc}\n0. TOC\n{:toc}\n</div>\n\n## Modeling the Fixed-Reward Monetary Supply\n\nSince the number of blocks is large, we can model the monetary supply as a\ncontinuous function $$N(t)$$, where $$t$$ is a given moment in time. If the\nblock reward is fixed we can model the reward as a slope $$k$$ added to an\ninitial supply $$N_0$$:\n\n$$\nN(t) = N_0 + kt\n$$\n\nOf course, this isn't realistic as coins are constantly being lost due to\ndeaths, forgotten passphrases, boating accidents, etc. These losses are\nindependent: I'm not any more or less likely to forget my passphrase because\nyou recently lost your coins in a boating accident \u2014 an accident I probably\ndon't even know happened. Since the number of individual coins (and their\nowners) is large \u2014 as with the number of blocks \u2014 we can model this loss as\nthough it happens continuously.\n\nSince coins can only be lost once, the *rate* of coin loss at time $$t$$ is\nproportional to the total supply *at that moment* in time. So let's look at the\n*first derivative* of our fixed-reward coin supply:\n\n$$\n\\frac{dN(t)}{dt} = k\n$$\n\n...and subtract from it the lost coins, using $$\\lambda$$ as our [coin loss\nconstant](https://en.wikipedia.org/wiki/Exponential_decay):\n\n$$\n\\frac{dN(t)}{dt} = k - \\lambda N(t)\n$$\n\nThat's a first-order differential equation, which can be easily solved with\nseparation of variables to get:\n\n$$\nN(t) = \\frac{k}{\\lambda} - Ce^{-\\lambda t}\n$$\n\nTo remove the integration constant $$C$$, let's look at $$t = 0$$, where the\ncoin supply is $$N_0$$:\n\n$$\n\\begin{align}\n    N_0 &= \\frac{k}{\\lambda} - Ce^{-\\lambda 0} = \\frac{k}{\\lambda} - C \\\\\n      C &= \\frac{k}{\\lambda} - N_0\n\\end{align}\n$$\n\nThus:\n\n$$\n\\begin{align}\n    N(t) &= \\frac{k}{\\lambda} - \\left(\\frac{k}{\\lambda} - N_0 \\right)e^{-\\lambda t} \\\\\n         &= \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda} \\right)e^{-\\lambda t}\n\\end{align}\n$$\n\n\n## Long Term Coin Supply\n\nIt's easy to see that in the long run, the second half of the coin supply\nequation goes to zero because $$\\lim_{t \\to \\infty} e^{-\\lambda t} = 0$$:\n\n$$\n\\begin{align}\n    \\lim_{t \\to \\infty} N(t) &= \\lim_{t \\to \\infty} \\left[ \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda} \\right)e^{-\\lambda t} \\right ] = \\frac{k}{\\lambda} \\\\\n                   N(\\infty) &= \\frac{k}{\\lambda}\n\\end{align}\n$$\n\nAn intuitive explanation for this result is that in the long run, the initial\nsupply $$N_0$$ doesn't matter, because approximately all of those coins will\neventually be lost. Thus in the long run, the coin supply will converge towards\n$$\\frac{k}{\\lambda}$$, the point where coins are created just as fast as they\nare lost.\n\n\n## Short Term Dynamics and Economic Considerations\n\nOf course, the intuitive explanation for why supply converges to\n$$\\frac{k}{\\lambda}$$, also tells us that supply must converge fairly slowly:\nif 1% of something is lost per year, after 100 years 37% of the initial supply\nremains. It's not clear what the rate of lost coins actually is in a mature,\nvaluable, coin. But 1%/year is likely to be a good guess \u2014 quite possibly less.\n\nIn the case of Monero, they've introduced tail emission at a point where it\nrepresents a 0.9% apparent monetary inflation rate[^p2pool-tail]. Since the number of\npreviously lost coins, and the current rate of coin loss, is\nunknown[^unknowable] it's not possible to know exactly what the true monetary\ninflation rate is right now. But regardless, the rate will only converge\ntowards zero going forward.\n\n[^unknowable]: Being a privacy coin with [shielded amounts](https://localmonero.co/blocks/richlist), it's not even possible to get an estimate of the total amount of XMR in active circulation.\n\n[^p2pool-tail]: P2Pool operates [a page with real-time date figures](https://p2pool.io/tail.html).\n\nIf an existing coin decides to implement tail emission as a means to fund\nsecurity, choosing an appropriate emission rate is simple: decide on the\nmaximum amount of inflation you are willing to have in the worst case, and set\nthe tail emission accordingly. In reality monetary inflation will be even lower\non day zero due to lost coins, and in the long run, it will converge towards\nzero.\n\nThe fact is, economic volatility dwarfs the effect of small amounts of\ninflation. Even a 0.5% inflation rate over 50 years only leads to a 22% drop.\nMeanwhile at the time of writing, Bitcoin has dropped 36% in the past year, and\ngained 993% over the past 5 years. While this discussion is a nice excuse to\nuse some mildly interesting math, in the end it's totally pedantic.\n\n## Could Bitcoin Add Tail Emission?\n\n...and why could Monero?\n\nAdding tail emission to Bitcoin would be a hard fork: a incompatible rule\nchange that existing Bitcoin nodes would reject as invalid. While Monero was\nable to get sufficiently broad consensus in the community to implement tail\nemission, it's unclear at best if it would ever be possible to achieve that for\nthe much larger[^btc-vs-xmr-market-cap] Bitcoin. Additionally, Monero has a\nculture of frequent hard forks that simply does not exist in Bitcoin.\n\n[^btc-vs-xmr-market-cap]: [As of writing](https://web.archive.org/web/20220708143920/https://www.coingecko.com/), the apparent market cap of Bitcoin is $409 billion, almost 200x larger than Monero's $2.3 billion.\n\nUltimately, as long as a substantial fraction of the Bitcoin community continue\nto run full nodes, the only way tail emission could ever be added to Bitcoin is\nby convincing that same community that it is a good idea.\n\n\n## Footnotes\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Larry Ruane",
                "date": "2022-07-11T18:25:41",
                "message_text_only": "On Sun, Jul 10, 2022 at 3:05 AM vjudeu via bitcoin-dev\n<bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n> Not really, because people that run full nodes, just accepted Segwit\n> and Taproot. They had no choice. And in case of zero satoshis, it could\n> be the same: you would see zero if you look at raw bytes, but you will\n> see non-zero values, if you use some upgraded client, that will support\n> amount hiding, or other features.\n>\n> Segwit: old nodes see no new signatures, new nodes see all signatures\n> Zero satoshis: old nodes see new zero amounts, new nodes see all amounts\n>\n> It is that simple.\n\nI see what you mean, have the P2P messages depend on whether the peer\nis running old code (doesn't know about tail emission) or new code\n(does know about it).\n\nI don't think this can work in this case. It worked for Segwit because\nthe P2P differences involved only signatures (which determine whether\nthe transaction is valid), not the *effect* of the transaction, that is,\nhow it changes the UTXO set. Consensus requires all nodes to always\nagree on the UTXO set.\n\nLarry Ruane"
            },
            {
                "author": "John Tromp",
                "date": "2022-07-10T07:44:01",
                "message_text_only": "A parallel discussion is taking place at\nhttps://bitcointalk.org/index.php?topic=5405755.0"
            },
            {
                "author": "Jacob Eliosoff",
                "date": "2022-07-10T10:18:17",
                "message_text_only": "> Credit where credit is due: after writing the bulk of this article I\nfound out\n> that Monero developer [smooth_xmr](https://www.reddit.com/user/smooth_xmr/\n)\n> also observed that tail emission results in a stable coin supply\n> [a few years ago](\nhttps://www.reddit.com/r/Monero/comments/4z0azk/maam_28_monero_ask_anything_monday/d6sixyi/\n).\n> There's probably others too: it's a pretty obvious result.\n\nFwiw, Joe Lubin, April 2014:  \"The expected rate of annual loss and\ndestruction of ETH will balance the rate of issuance.  Under this dynamic,\na quasi-steady state is reached and the amount of extant ETH no longer\ngrows.\"\nhttps://blog.ethereum.org/2014/04/10/the-issuance-model-in-ethereum/\n\nAs you say, probably an observation various people have made.  (Ethereum\nhas had some updates to its issuance model since 2014, in particular\nEIP-1559 and the block reward reduction coming with PoS.  But they've had a\nfixed rather than halving block subsidy since launch so the question of\nwhether it implied infinite supply often came up.)\n\n\nOn Sat, Jul 9, 2022, 7:47 AM Peter Todd via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> New blog post:\n>\n> https://petertodd.org/2022/surprisingly-tail-emission-is-not-inflationary\n>\n> tl;dr: Due to lost coins, a tail emission/fixed reward actually results in\n> a\n> stable money supply. Not an (monetarily) inflationary supply.\n>\n> ...and for the purposes of reply/discussion, attached is the article\n> itself in\n> markdown format:\n>\n> ---\n> layout: post\n> title:  \"Surprisingly, Tail Emission Is Not Inflationary\"\n> date:   2022-07-09\n> tags:\n> - bitcoin\n> - monero\n> ---\n>\n> At present, all notable proof-of-work currencies reward miners with both a\n> block\n> reward, and transaction fees. With most currencies (including Bitcoin)\n> phasing\n> out block rewards over time. However in no currency have transaction fees\n> consistently been more than 5% to 10% of the total mining\n> reward[^fee-in-reward], with the exception of Ethereum, from June 2020 to\n> Aug 2021.\n> To date no proof-of-work currency has ever operated solely on transaction\n> fees[^pow-tweet], and academic analysis has found that in this condition\n> block\n> generation is unstable.[^instability-without-block-reward] To paraphrase\n> Andrew\n> Poelstra, it's a scary phase change that no other coin has gone\n> through.[^apoelstra-quote]\n>\n> [^pow-tweet]: [I asked on Twitter](\n> https://twitter.com/peterktodd/status/1543231264597090304) and no-one\n> replied with counter-examples.\n>\n> [^fee-in-reward]: [Average Fee Percentage in Total Block Reward](\n> https://bitinfocharts.com/comparison/fee_to_reward-btc-eth-bch-ltc-doge-xmr-bsv-dash-zec.html#alltime\n> )\n>\n> [^instability-without-block-reward]: [On the Instability of Bitcoin\n> Without the Block Reward](\n> https://www.cs.princeton.edu/~arvindn/publications/mining_CCS.pdf)\n>\n> [^apoelstra-quote]: [From a panel at TABConf 2021](\n> https://twitter.com/peterktodd/status/1457066946898317316)\n>\n> Monero has chosen to implement what they call [tail\n> emission](\n> https://www.getmonero.org/resources/moneropedia/tail-emission.html):\n> a fixed reward per block that continues indefinitely. Dogecoin also has a\n> fixed\n> reward, which they widely - and incorrectly - refer to as an \"abundant\"\n> supply[^dogecoin-abundant].\n>\n> [^dogecoin-abundant]: Googling \"dogecoin abundant\" returns dozens of hits.\n>\n> This article will show that a fixed block reward does **not** lead to an\n> abundant supply. In fact, due to the inevitability of lost coins, a fixed\n> reward converges to a **stable** monetary supply that is neither\n> inflationary\n> nor deflationary, with the total supply proportional to rate of tail\n> emission\n> and probability of coin loss.\n>\n> Credit where credit is due: after writing the bulk of this article I found\n> out\n> that Monero developer [smooth_xmr](https://www.reddit.com/user/smooth_xmr/\n> )\n> also observed that tail emission results in a stable coin supply\n> [a few years ago](\n> https://www.reddit.com/r/Monero/comments/4z0azk/maam_28_monero_ask_anything_monday/d6sixyi/\n> ).\n> There's probably others too: it's a pretty obvious result.\n>\n>\n> <div markdown=\"1\" class=\"post-toc\">\n> # Contents\n> {:.no_toc}\n> 0. TOC\n> {:toc}\n> </div>\n>\n> ## Modeling the Fixed-Reward Monetary Supply\n>\n> Since the number of blocks is large, we can model the monetary supply as a\n> continuous function $$N(t)$$, where $$t$$ is a given moment in time. If the\n> block reward is fixed we can model the reward as a slope $$k$$ added to an\n> initial supply $$N_0$$:\n>\n> $$\n> N(t) = N_0 + kt\n> $$\n>\n> Of course, this isn't realistic as coins are constantly being lost due to\n> deaths, forgotten passphrases, boating accidents, etc. These losses are\n> independent: I'm not any more or less likely to forget my passphrase\n> because\n> you recently lost your coins in a boating accident \u2014 an accident I probably\n> don't even know happened. Since the number of individual coins (and their\n> owners) is large \u2014 as with the number of blocks \u2014 we can model this loss as\n> though it happens continuously.\n>\n> Since coins can only be lost once, the *rate* of coin loss at time $$t$$ is\n> proportional to the total supply *at that moment* in time. So let's look\n> at the\n> *first derivative* of our fixed-reward coin supply:\n>\n> $$\n> \\frac{dN(t)}{dt} = k\n> $$\n>\n> ...and subtract from it the lost coins, using $$\\lambda$$ as our [coin loss\n> constant](https://en.wikipedia.org/wiki/Exponential_decay):\n>\n> $$\n> \\frac{dN(t)}{dt} = k - \\lambda N(t)\n> $$\n>\n> That's a first-order differential equation, which can be easily solved with\n> separation of variables to get:\n>\n> $$\n> N(t) = \\frac{k}{\\lambda} - Ce^{-\\lambda t}\n> $$\n>\n> To remove the integration constant $$C$$, let's look at $$t = 0$$, where\n> the\n> coin supply is $$N_0$$:\n>\n> $$\n> \\begin{align}\n>     N_0 &= \\frac{k}{\\lambda} - Ce^{-\\lambda 0} = \\frac{k}{\\lambda} - C \\\\\n>       C &= \\frac{k}{\\lambda} - N_0\n> \\end{align}\n> $$\n>\n> Thus:\n>\n> $$\n> \\begin{align}\n>     N(t) &= \\frac{k}{\\lambda} - \\left(\\frac{k}{\\lambda} - N_0\n> \\right)e^{-\\lambda t} \\\\\n>          &= \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda}\n> \\right)e^{-\\lambda t}\n> \\end{align}\n> $$\n>\n>\n> ## Long Term Coin Supply\n>\n> It's easy to see that in the long run, the second half of the coin supply\n> equation goes to zero because $$\\lim_{t \\to \\infty} e^{-\\lambda t} = 0$$:\n>\n> $$\n> \\begin{align}\n>     \\lim_{t \\to \\infty} N(t) &= \\lim_{t \\to \\infty} \\left[\n> \\frac{k}{\\lambda} + \\left(N_0 - \\frac{k}{\\lambda} \\right)e^{-\\lambda t}\n> \\right ] = \\frac{k}{\\lambda} \\\\\n>                    N(\\infty) &= \\frac{k}{\\lambda}\n> \\end{align}\n> $$\n>\n> An intuitive explanation for this result is that in the long run, the\n> initial\n> supply $$N_0$$ doesn't matter, because approximately all of those coins\n> will\n> eventually be lost. Thus in the long run, the coin supply will converge\n> towards\n> $$\\frac{k}{\\lambda}$$, the point where coins are created just as fast as\n> they\n> are lost.\n>\n>\n> ## Short Term Dynamics and Economic Considerations\n>\n> Of course, the intuitive explanation for why supply converges to\n> $$\\frac{k}{\\lambda}$$, also tells us that supply must converge fairly\n> slowly:\n> if 1% of something is lost per year, after 100 years 37% of the initial\n> supply\n> remains. It's not clear what the rate of lost coins actually is in a\n> mature,\n> valuable, coin. But 1%/year is likely to be a good guess \u2014 quite possibly\n> less.\n>\n> In the case of Monero, they've introduced tail emission at a point where it\n> represents a 0.9% apparent monetary inflation rate[^p2pool-tail]. Since\n> the number of\n> previously lost coins, and the current rate of coin loss, is\n> unknown[^unknowable] it's not possible to know exactly what the true\n> monetary\n> inflation rate is right now. But regardless, the rate will only converge\n> towards zero going forward.\n>\n> [^unknowable]: Being a privacy coin with [shielded amounts](\n> https://localmonero.co/blocks/richlist), it's not even possible to get an\n> estimate of the total amount of XMR in active circulation.\n>\n> [^p2pool-tail]: P2Pool operates [a page with real-time date figures](\n> https://p2pool.io/tail.html).\n>\n> If an existing coin decides to implement tail emission as a means to fund\n> security, choosing an appropriate emission rate is simple: decide on the\n> maximum amount of inflation you are willing to have in the worst case, and\n> set\n> the tail emission accordingly. In reality monetary inflation will be even\n> lower\n> on day zero due to lost coins, and in the long run, it will converge\n> towards\n> zero.\n>\n> The fact is, economic volatility dwarfs the effect of small amounts of\n> inflation. Even a 0.5% inflation rate over 50 years only leads to a 22%\n> drop.\n> Meanwhile at the time of writing, Bitcoin has dropped 36% in the past\n> year, and\n> gained 993% over the past 5 years. While this discussion is a nice excuse\n> to\n> use some mildly interesting math, in the end it's totally pedantic.\n>\n> ## Could Bitcoin Add Tail Emission?\n>\n> ...and why could Monero?\n>\n> Adding tail emission to Bitcoin would be a hard fork: a incompatible rule\n> change that existing Bitcoin nodes would reject as invalid. While Monero\n> was\n> able to get sufficiently broad consensus in the community to implement tail\n> emission, it's unclear at best if it would ever be possible to achieve\n> that for\n> the much larger[^btc-vs-xmr-market-cap] Bitcoin. Additionally, Monero has a\n> culture of frequent hard forks that simply does not exist in Bitcoin.\n>\n> [^btc-vs-xmr-market-cap]: [As of writing](\n> https://web.archive.org/web/20220708143920/https://www.coingecko.com/),\n> the apparent market cap of Bitcoin is $409 billion, almost 200x larger than\n> Monero's $2.3 billion.\n>\n> Ultimately, as long as a substantial fraction of the Bitcoin community\n> continue\n> to run full nodes, the only way tail emission could ever be added to\n> Bitcoin is\n> by convincing that same community that it is a good idea.\n>\n>\n> ## Footnotes\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220710/1c603cdd/attachment-0001.html>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-10T17:42:59",
                "message_text_only": "\ufeff\n> On Jul 10, 2022, at 07:17, alicexbt <alicexbt at protonmail.com> wrote:\n> \ufeffHi ZmnSCPxj,\n> \n> \n>> Thus, we should instead prepare for a future where the block subsidy must be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n>> Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n> \n> `consensus.nSubsidyHalvingInterval` for mainnet in [chainparams.cpp][1] can be decreased to 195000. This will reduce the number of halvings from 34 to 14 and subsidy will be 0 when it becomes less than 0.01 although not sure if this will be a soft fork.\n\nSoft fork, though a bit aggressive, as it would invalidate all existing blocks above the first new halving height block which claimed more than the reduced reward.\n\nIncreasing the value would be a hard fork, as it would validate blocks that would previously have been invalid, as opposed to a soft fork, which invalidates blocks that would previously have been valid.\n\ne\n\n> I doubt there will be consensus for it because all the [projections and predictability][2] about bitcoin(currency) would be affected by this change. Maybe everyone can agree with this change if most of the miners start being 'compliant' like one of the coinjoin implementation.\n> \n> [1]: https://github.com/bitcoin/bitcoin/blob/master/src/chainparams.cpp#L66\n> [2]: https://en.bitcoin.it/wiki/Controlled_supply\n> \n> \n> /dev/fd0\n> \n> Sent with Proton Mail secure email.\n> \n> ------- Original Message -------\n> On Saturday, July 9th, 2022 at 9:59 PM, ZmnSCPxj via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> \n> \n>> Good morning e, and list,\n>> \n>>> Yet you posted several links which made that specific correlation, to which I was responding.\n>>> Math cannot prove how much coin is \u201clost\u201d, and even if it was provable that the amount of coin lost converges to the amount produced, it is of no consequence - for the reasons I\u2019ve already pointed out. The amount of market production has no impact on market price, just as it does not with any other good.\n>>> The reason to object to perpetual issuance is the impact on censorship resistance, not on price.\n>> \n>> \n>> To clarify about censorship resistance and perpetual issuance (\"tail emission\"):\n>> \n>> * Suppose I have two blockchains, one with a constant block subsidy, and one which had a block subsidy but the block subsidy has become negligible or zero.\n>> * Now consider a censoring miner.\n>> * If the miner rejects particular transactions (i.e. \"censors\") the miner loses out on the fees of those transactions.\n>> * Presumably, the miner does this because it gains other benefits from the censorship, economically equal or better to the earnings lost.\n>> * If the blockchain had a block subsidy, then the loss the miner incurs is small relative to the total earnings of each block.\n>> * If the blockchain had 0 block subsidy, then the loss the miner incurs is large relative to the total earnings of each block.\n>> * Thus, in the latter situation, the external benefit the miner gains from the censorship has to be proportionately larger than in the first situation.\n>> \n>> Basically, the block subsidy is a market distortion: the block subsidy erodes the value of held coins to pay for the security of coins being moved.\n>> But the block subsidy is still issued whether or not coins being moved are censored or not censored.\n>> Thus, there is no incentive, considering only the block subsidy, to not censor coin movements.\n>> Only per-transaction fees have an incentive to not censor coin movements.\n>> \n>> \n>> Thus, we should instead prepare for a future where the block subsidy must be removed, possibly before the existing schedule removes it, in case a majority coalition of miner ever decides to censor particular transactions without community consensus.\n>> Fortunately forcing the block subsidy to 0 is a softfork and thus easier to deploy.\n>> \n>> \n>> Regards,\n>> ZmnSCPxj\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-07-11T02:32:47",
                "message_text_only": "On Sat, Jul 09, 2022 at 08:46:47AM -0400, Peter Todd via bitcoin-dev wrote:\n> title:  \"Surprisingly, Tail Emission Is Not Inflationary\"\n\n> Of course, this isn't realistic as coins are constantly being lost due to\n> deaths, forgotten passphrases, boating accidents, etc. These losses are\n> independent:\n\nThis isn't necessarily true: if the losses are due to a common cause,\nthen they'll be heavily correlated rather than independent; for example\nlosses could be caused by a bug in a popular wallet/exchange software\nthat sends funds to invalid addresses, or by a war or natural disaster\nthat damages key storage hardware. They're also not independent over\ntime -- people improve their key storage habits over time; eg switching\nto less buggy wallets/exchanges, validating addresses before using them,\nusing distributed multisig to prevent a localised disaster from being\ncatastrophic.\n\n> the *rate* of coin loss at time $$t$$ is\n> proportional to the total supply *at that moment* in time.\n\nThis is the key assumption that produces the claimed result.\n\nIf you're losing a constant fraction, x (Peter's \\lambda), of Bitcoins\neach year, then as soon as the supply increases enough that the constant\nreward, k, corresponds to the constant fraction, ie k = x*N(t), then\nyou've hit an equilibrium.  (Likewise if you're losing more than you're\nincreasing -- you just need to wait until N(t) decreases enough that you\nreach the same equilibrium point) You don't really need any fancy maths.\n\nBut that assumption doesn't need to be true; coins could primarily be\nlost in \"black swan\" events (due to bugs, wars or disasters) rather\nthan at a predictable rate -- with actions taken thereafter such that\nthe same event repeating is no longer the same level of catastrophe,\nbut instead another new black swan event is required to maintain the same\nloss rate. If that's the case, then the rate at which funds are lost will\nvary chaotically, leading to \"inflationary\" periods in between events,\nand comparatively strong deflationary shocks when these events occur.\n\nAlternatively, losses could be at a predictable rate that's entirely\ndifferent to the one Peter assumes.\n\nOne alternative predictable rate that seems plausible to me is if funds\nare lost due to people not be careful about losing small amounts; even\nthough they are careful when amounts are larger. So when 10k BTC was\nworth $40, maybe it doesn't matter if you misplace a hard drive with\n7500 BTC on it since that's only worth $30; but by the time 7500 BTC\nis worth $150M, maybe you take a bit more care with that, but are still\nnot too worried if you lose 1.5mBTC, since that's also only worth $30.\n\nTo mathematise that, perhaps there are K people holding Bitcoin, and with\nprobability p, each loses $100 (in constant 2009 dollars say, so that we\ncan ignore inflation) of that Bitcoin a year through carelessness. For\nan equilibrium to occur in that case, you need:\n\n  N(t) + k - (100/P * Kp) = N(t)\n\nwhere P is the price of Bitcoin (again in constant 2009 dollars) and k\nis Peter's fixed tail subsidy. Simplifying gives:\n\n  P = K * 100p/k\n\nBut k and p are constant by assumption in this scenario, so equilibrium\nis reached only if price (P) is exactly proportional to number of\nusers (K). That requires you to have a non-inflationary currency\n(supply is constant) with constant adoption (assume K doesn't change)\nthat maintains a constant price (P=K*100p/k) in real terms even if the\neconomy is otherwise expanding or contracting.\n\nMore importantly, just from a goals point of view, x is something we\nshould be finding ways to minimise it over time, not leave constant.\nIn fact, you could argue for an even stronger goal: \"the real value held\nin BTC lost each year should decrease\", that is, x should be decreasing\nfaster than 1/(N(t)*P).\n\nCheers,\naj"
            },
            {
                "author": "Stefan Richter",
                "date": "2022-07-11T06:15:40",
                "message_text_only": "I very much agree with AJ here. This is something I remember discussing on\nBitcointalk back in 2011: I find it highly intuitive that the amount of\nlost coins is not a constant fraction of the supply, because people get\nbetter at keeping their coins with increasing value, distribution and\ntechnology/best practices. I also think that we have observed this effect\nin practice since then. The bulk of coins that are supposed to be lost (via\nonchain analysis) haven't been moved since at least 2010. Of course, in\nmost cases, we'll never know, but the assumption of constant loss rate\nseems unreasonable.\n\nCheers\n  Stefan\n\nAnthony Towns via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\nschrieb am Mo., 11. Juli 2022, 04:32:\n\n> On Sat, Jul 09, 2022 at 08:46:47AM -0400, Peter Todd via bitcoin-dev wrote:\n> > title:  \"Surprisingly, Tail Emission Is Not Inflationary\"\n>\n> > Of course, this isn't realistic as coins are constantly being lost due to\n> > deaths, forgotten passphrases, boating accidents, etc. These losses are\n> > independent:\n>\n> This isn't necessarily true: if the losses are due to a common cause,\n> then they'll be heavily correlated rather than independent; for example\n> losses could be caused by a bug in a popular wallet/exchange software\n> that sends funds to invalid addresses, or by a war or natural disaster\n> that damages key storage hardware. They're also not independent over\n> time -- people improve their key storage habits over time; eg switching\n> to less buggy wallets/exchanges, validating addresses before using them,\n> using distributed multisig to prevent a localised disaster from being\n> catastrophic.\n>\n> > the *rate* of coin loss at time $$t$$ is\n> > proportional to the total supply *at that moment* in time.\n>\n> This is the key assumption that produces the claimed result.\n>\n> If you're losing a constant fraction, x (Peter's \\lambda), of Bitcoins\n> each year, then as soon as the supply increases enough that the constant\n> reward, k, corresponds to the constant fraction, ie k = x*N(t), then\n> you've hit an equilibrium.  (Likewise if you're losing more than you're\n> increasing -- you just need to wait until N(t) decreases enough that you\n> reach the same equilibrium point) You don't really need any fancy maths.\n>\n> But that assumption doesn't need to be true; coins could primarily be\n> lost in \"black swan\" events (due to bugs, wars or disasters) rather\n> than at a predictable rate -- with actions taken thereafter such that\n> the same event repeating is no longer the same level of catastrophe,\n> but instead another new black swan event is required to maintain the same\n> loss rate. If that's the case, then the rate at which funds are lost will\n> vary chaotically, leading to \"inflationary\" periods in between events,\n> and comparatively strong deflationary shocks when these events occur.\n>\n> Alternatively, losses could be at a predictable rate that's entirely\n> different to the one Peter assumes.\n>\n> One alternative predictable rate that seems plausible to me is if funds\n> are lost due to people not be careful about losing small amounts; even\n> though they are careful when amounts are larger. So when 10k BTC was\n> worth $40, maybe it doesn't matter if you misplace a hard drive with\n> 7500 BTC on it since that's only worth $30; but by the time 7500 BTC\n> is worth $150M, maybe you take a bit more care with that, but are still\n> not too worried if you lose 1.5mBTC, since that's also only worth $30.\n>\n> To mathematise that, perhaps there are K people holding Bitcoin, and with\n> probability p, each loses $100 (in constant 2009 dollars say, so that we\n> can ignore inflation) of that Bitcoin a year through carelessness. For\n> an equilibrium to occur in that case, you need:\n>\n>   N(t) + k - (100/P * Kp) = N(t)\n>\n> where P is the price of Bitcoin (again in constant 2009 dollars) and k\n> is Peter's fixed tail subsidy. Simplifying gives:\n>\n>   P = K * 100p/k\n>\n> But k and p are constant by assumption in this scenario, so equilibrium\n> is reached only if price (P) is exactly proportional to number of\n> users (K). That requires you to have a non-inflationary currency\n> (supply is constant) with constant adoption (assume K doesn't change)\n> that maintains a constant price (P=K*100p/k) in real terms even if the\n> economy is otherwise expanding or contracting.\n>\n> More importantly, just from a goals point of view, x is something we\n> should be finding ways to minimise it over time, not leave constant.\n> In fact, you could argue for an even stronger goal: \"the real value held\n> in BTC lost each year should decrease\", that is, x should be decreasing\n> faster than 1/(N(t)*P).\n>\n> Cheers,\n> aj\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/2289f5fd/attachment-0001.html>"
            },
            {
                "author": "Giuseppe B",
                "date": "2022-07-11T10:42:58",
                "message_text_only": "I think the discussion has some anecdotic interest but has zero relevance\nas far as any decision making is concerned.\n\nAny extension of block rewards after the current deadline should only be\ndone if and only if the community agrees that it is the only way to keep\nthe network secure.\n\nThe fact that a mild inflation is sometimes compensated by coin loss is\nlike a bonus.\n\nOn Mon, Jul 11, 2022, 11:56 AM Stefan Richter via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> I very much agree with AJ here. This is something I remember discussing on\n> Bitcointalk back in 2011: I find it highly intuitive that the amount of\n> lost coins is not a constant fraction of the supply, because people get\n> better at keeping their coins with increasing value, distribution and\n> technology/best practices. I also think that we have observed this effect\n> in practice since then. The bulk of coins that are supposed to be lost (via\n> onchain analysis) haven't been moved since at least 2010. Of course, in\n> most cases, we'll never know, but the assumption of constant loss rate\n> seems unreasonable.\n>\n> Cheers\n>   Stefan\n>\n> Anthony Towns via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\n> schrieb am Mo., 11. Juli 2022, 04:32:\n>\n>> On Sat, Jul 09, 2022 at 08:46:47AM -0400, Peter Todd via bitcoin-dev\n>> wrote:\n>> > title:  \"Surprisingly, Tail Emission Is Not Inflationary\"\n>>\n>> > Of course, this isn't realistic as coins are constantly being lost due\n>> to\n>> > deaths, forgotten passphrases, boating accidents, etc. These losses are\n>> > independent:\n>>\n>> This isn't necessarily true: if the losses are due to a common cause,\n>> then they'll be heavily correlated rather than independent; for example\n>> losses could be caused by a bug in a popular wallet/exchange software\n>> that sends funds to invalid addresses, or by a war or natural disaster\n>> that damages key storage hardware. They're also not independent over\n>> time -- people improve their key storage habits over time; eg switching\n>> to less buggy wallets/exchanges, validating addresses before using them,\n>> using distributed multisig to prevent a localised disaster from being\n>> catastrophic.\n>>\n>> > the *rate* of coin loss at time $$t$$ is\n>> > proportional to the total supply *at that moment* in time.\n>>\n>> This is the key assumption that produces the claimed result.\n>>\n>> If you're losing a constant fraction, x (Peter's \\lambda), of Bitcoins\n>> each year, then as soon as the supply increases enough that the constant\n>> reward, k, corresponds to the constant fraction, ie k = x*N(t), then\n>> you've hit an equilibrium.  (Likewise if you're losing more than you're\n>> increasing -- you just need to wait until N(t) decreases enough that you\n>> reach the same equilibrium point) You don't really need any fancy maths.\n>>\n>> But that assumption doesn't need to be true; coins could primarily be\n>> lost in \"black swan\" events (due to bugs, wars or disasters) rather\n>> than at a predictable rate -- with actions taken thereafter such that\n>> the same event repeating is no longer the same level of catastrophe,\n>> but instead another new black swan event is required to maintain the same\n>> loss rate. If that's the case, then the rate at which funds are lost will\n>> vary chaotically, leading to \"inflationary\" periods in between events,\n>> and comparatively strong deflationary shocks when these events occur.\n>>\n>> Alternatively, losses could be at a predictable rate that's entirely\n>> different to the one Peter assumes.\n>>\n>> One alternative predictable rate that seems plausible to me is if funds\n>> are lost due to people not be careful about losing small amounts; even\n>> though they are careful when amounts are larger. So when 10k BTC was\n>> worth $40, maybe it doesn't matter if you misplace a hard drive with\n>> 7500 BTC on it since that's only worth $30; but by the time 7500 BTC\n>> is worth $150M, maybe you take a bit more care with that, but are still\n>> not too worried if you lose 1.5mBTC, since that's also only worth $30.\n>>\n>> To mathematise that, perhaps there are K people holding Bitcoin, and with\n>> probability p, each loses $100 (in constant 2009 dollars say, so that we\n>> can ignore inflation) of that Bitcoin a year through carelessness. For\n>> an equilibrium to occur in that case, you need:\n>>\n>>   N(t) + k - (100/P * Kp) = N(t)\n>>\n>> where P is the price of Bitcoin (again in constant 2009 dollars) and k\n>> is Peter's fixed tail subsidy. Simplifying gives:\n>>\n>>   P = K * 100p/k\n>>\n>> But k and p are constant by assumption in this scenario, so equilibrium\n>> is reached only if price (P) is exactly proportional to number of\n>> users (K). That requires you to have a non-inflationary currency\n>> (supply is constant) with constant adoption (assume K doesn't change)\n>> that maintains a constant price (P=K*100p/k) in real terms even if the\n>> economy is otherwise expanding or contracting.\n>>\n>> More importantly, just from a goals point of view, x is something we\n>> should be finding ways to minimise it over time, not leave constant.\n>> In fact, you could argue for an even stronger goal: \"the real value held\n>> in BTC lost each year should decrease\", that is, x should be decreasing\n>> faster than 1/(N(t)*P).\n>>\n>> Cheers,\n>> aj\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/a217aea1/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-11T12:56:04",
                "message_text_only": ">\n>\n> Alternatively, losses could be at a predictable rate that's entirely\n> different to the one Peter assumes.\n>\n\nNo, peter only assumes that there *is* a rate.\n\nRegardless of what the rate is, if it is any value for which there exists\n*any fixed central tendency*, tail emission is *evenually* non inflationary.\n\nBut you are correct about the other two things:\n\n1. If people are improving custody faster than 1/(N(t)*P) than tail\nemission can still be inflationary.  This seems far-fetched, imo.\n\n2. The rate will be somewhat stochastic (\"black swan envets\").  Plausible\n(popular wallet loses keys in coding error), but also... \"true no matter\nwhat\".  And not really relevant to tail-emission  being non-inflationary.\n Over a long enough time period, even these events can be factored into a\nfixed central tendency.   Even if it's 100 years, etc.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/451e1d28/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-11T16:59:53",
                "message_text_only": "On Mon, Jul 11, 2022 at 12:32:47PM +1000, Anthony Towns wrote:\n> This isn't necessarily true: if the losses are due to a common cause,\n> then they'll be heavily correlated rather than independent; for example\n> losses could be caused by a bug in a popular wallet/exchange software\n> that sends funds to invalid addresses, or by a war or natural disaster\n> that damages key storage hardware. They're also not independent over\n> time -- people improve their key storage habits over time; eg switching\n> to less buggy wallets/exchanges, validating addresses before using them,\n> using distributed multisig to prevent a localised disaster from being\n> catastrophic.\n\nPeople clearly continue to make downright irrational decisions about coin\nsecurity, doing things putting their entire crypto savings at risk for claimed\n5% returns.\n\nEven if people were rational, the coin loss rate would clearly reach a floor\nbecause as the probability of coin loss goes down, bothering to spend extra\neffort to decrease that already small chance is pointless. You mentioning black\nswan events actually strengthens my point: at low coin loss rates the true loss\nrate is dominated by black swan events. So it's pointless to go to extra effort\nto prevent them.\n\nFinally, you're forgetting that coin loss also includes *intentional* losses\nfrom proof-of-sacrifice protocols. There are a number of examples on Bitcoin.\nAgain, they put a floor on how much coin loss could diminish.\n\n> loss rate. If that's the case, then the rate at which funds are lost will\n> vary chaotically, leading to \"inflationary\" periods in between events,\n> and comparatively strong deflationary shocks when these events occur.\n\nGive me an example of an *actual* inflation rate you expect to see, given a\ndisaster of a given magnitude.\n\nIf you actually do the numbers on this, you'll realize it takes absolutely\ncatastrophic black swan events that make WW2 look like a minor conflict to make\neven insignificant inflation rate changes due to changes in lost coins.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/9822e234/attachment.sig>"
            },
            {
                "author": "Bram Cohen",
                "date": "2022-07-11T17:44:21",
                "message_text_only": "On Mon, Jul 11, 2022 at 10:00 AM Peter Todd via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n>\n> If you actually do the numbers on this, you'll realize it takes absolutely\n> catastrophic black swan events that make WW2 look like a minor conflict to\n> make\n> even insignificant inflation rate changes due to changes in lost coins.\n>\n\nThat somewhat depends on what you mean by 'significant' and 'catastrophic'\nbut I believe the way the model goes is that if X% of coins are lost that\nmeans that the value of all outstanding coins will go up by X%, and if the\nrate of breakage goes from Y% annually to Y*Z% annually then the value of\nall coins will go up by a factor of Z. This is of course an idealized model\nin steady state, but gives some idea of scale.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/81d9948d/attachment-0001.html>"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-07-11T23:57:31",
                "message_text_only": "On Mon, Jul 11, 2022 at 08:56:04AM -0400, Erik Aronesty via bitcoin-dev wrote:\n> > Alternatively, losses could be at a predictable rate that's entirely\n> > different to the one Peter assumes.\n> No, peter only assumes that there *is* a rate.\n\nNo, he assumes it's a constant rate. His integration step gives a\ndifferent result if lambda changes with t:\nhttps://www.wolframalpha.com/input?i=dN%2Fdt+%3D+k+-+lambda%28t%29*N\n\nOn Mon, Jul 11, 2022 at 12:59:53PM -0400, Peter Todd via bitcoin-dev wrote:\n> Give me an example of an *actual* inflation rate you expect to see, given a\n> disaster of a given magnitude.\n\nAll I was doing was saying your proof is incorrect (or, rather, relies\non a highly unrealistic assumption), since I hadn't seen anybody else\npoint that out already.\n\nBut even if the proof were correct, I don't think it provides a useful\nmechanism (since there's no reason to think miners gaining all the coins\nlost in a year will be sufficient for anything), and I don't really\nthink the \"security budget\" framework (ie, that the percentage of total\nsupply given to miners each year is what's important for security)\nyou're implicitly relying on is particularly meaningful.\n\nSo no, not particularly interested in diving into it any deeper.\n\nCheers,\naj"
            },
            {
                "author": "Zac Greenwood",
                "date": "2022-07-13T18:29:53",
                "message_text_only": "> your proof is incorrect (or, rather, relies on a highly unrealistic\nassumption)\n\nThe assumption that coin are lost ar a constant rate is not required. Tail\nemission will asymptotically decrease the rate of inflation to zero, at\nwhich point the increase in coin exactly matches the amount of coin lost.\nThe rate at which coin are lost is irrelevant.\n\nThis is easy to see. Consider no coin are ever lost. The rate of inflation\nwill slowly decline to zero as the amount of coin grows to infinity.\nHowever, lost coin ensures that the point at which the rate of inflation\nbecomes zero will be reached sooner.\n\nIf a black swan event destroys 90% of all coin, the constant tail emission\nwill instantly begin to inflate the supply at a 10x higher percentage. The\ninflation expressed as a percentage will also immediately start to decline\nbecause each new coin will inflate the total supply with a slightly smaller\npercentage than the previous new coin. The rate of inflation will continue\nto decline until zero, at which point it again matches the coin-loss\ninduced deflation rate.\n\nAnother scenario. Suppose that the number of coin lost becomes\nsignificantly less for instance because better wallets and a more mature\necosystem prevent many common coin loss events. A constant issuance of new\ncoin would increase the total supply, but each new coin would add less to\nthe total supply when expressed as a percentage. The rate of inflation\nwould decline to zero, at which point it again has matched the rate of\ndeflation due to coin loss.\n\nEven when the rate at which coin are lost will not be constant, a tail\nemission will tend to an equilibrium.\n\nIt must be observed that tail emission causes the total *potential* supply\nto vary greatly depending on the deflation rate. In a low-deflation\nscenario, the supply will have to grow much larger before an equilibrium\ncan be reached than in a scenario with moderate deflation rate. Not being\nable to predict the ultimate total supply of coin is however seems\nundesirable. But is it really?\n\nThe rate of inflation required for keeping Bitcoin useful highly depends on\nthe value of the token. At US$100k, a tail emission of 1 BTC per block\nensures safety within a few blocks for even large amounts. Continuing this\nexample, 1 BTC per block would mean 5.25m extra coin per 100 years. At 21m\ncoins and 1 BTC perpetual reward per block, the rate of inflation would be\n0.25% per year.\n\nThis should put things a bit into perspective.\n\n\nOn Tue, 12 Jul 2022 at 01:58, Anthony Towns via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Mon, Jul 11, 2022 at 08:56:04AM -0400, Erik Aronesty via bitcoin-dev\n> wrote:\n> > > Alternatively, losses could be at a predictable rate that's entirely\n> > > different to the one Peter assumes.\n> > No, peter only assumes that there *is* a rate.\n>\n> No, he assumes it's a constant rate. His integration step gives a\n> different result if lambda changes with t:\n> https://www.wolframalpha.com/input?i=dN%2Fdt+%3D+k+-+lambda%28t%29*N\n>\n> On Mon, Jul 11, 2022 at 12:59:53PM -0400, Peter Todd via bitcoin-dev wrote:\n> > Give me an example of an *actual* inflation rate you expect to see,\n> given a\n> > disaster of a given magnitude.\n>\n> All I was doing was saying your proof is incorrect (or, rather, relies\n> on a highly unrealistic assumption), since I hadn't seen anybody else\n> point that out already.\n>\n> But even if the proof were correct, I don't think it provides a useful\n> mechanism (since there's no reason to think miners gaining all the coins\n> lost in a year will be sufficient for anything), and I don't really\n> think the \"security budget\" framework (ie, that the percentage of total\n> supply given to miners each year is what's important for security)\n> you're implicitly relying on is particularly meaningful.\n>\n> So no, not particularly interested in diving into it any deeper.\n>\n> Cheers,\n> aj\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220713/37d7c521/attachment.html>"
            },
            {
                "author": "Alfred Hodler",
                "date": "2022-07-13T14:06:29",
                "message_text_only": "Rather than get bogged down discussing the technical details of how such a change could even take place, I'll go ahead and say that modifying the 21M cap is a supremely reckless idea. Your mathematical proof aside, the idea rests on the unprovable premise that people will keep losing coins indefinitely. You could also argue that once Bitcoin is valuable or widespread enough, it'll incentivize the creation of superior storage, custody and inheritance solutions. One could also write a bunch of \"proofs\" to support that, but it doesn't mean much when the core idea remains purely in the hypothetical sphere.\n\nOne of Bitcoin's value propositions is having a fixed supply cap with a predictable issuance curve. People bought into Bitcoin because it promises to NOT be fiat and because it promises NOT to do what central banks are doing. The moment you start messing with that, it'll invite people to try to tinker with the protocol whenever \"security\" concerns demand it. Once a powerful enough adversary sees that Overton window moving, they'll probably throw everything they have at this particular weakness in an attempt to subvert the protocol further.\n\nAlfred"
            },
            {
                "author": "Peter",
                "date": "2022-07-19T18:36:59",
                "message_text_only": ">And therefore this reduces to the simple fact that tx fees are what provides censorship resistance, whether you mine your own or others?.\n\nWhat's the business model of the person who mines with the intention to censor transactions when there's no block reward?\n\nRegards\n\nPeter Kroll\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220719/f6a76da3/attachment.html>"
            },
            {
                "author": "Eric Voskuil",
                "date": "2022-07-20T14:35:52",
                "message_text_only": "If there\u2019s no block reward, there\u2019s no Bitcoin, so that\u2019s moot. But setting that aside. The business model of the state is to preserve the reward it obtains from its own money. This is the reason for currency controls, which are common.\n\ne\n\n> On Jul 20, 2022, at 03:17, Peter via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> \n> \ufeff>And therefore this reduces to the simple fact that tx fees are what provides censorship resistance, whether you mine your own or others?.\n> \n> \n> What's the business model of the person who mines with the intention to censor transactions when there's no block reward?\n> \n> \n> \n> Regards\n> \n> Peter Kroll\n> \n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "jk_14 at op.pl",
                "date": "2022-07-26T20:01:25",
                "message_text_only": "Let's assume fees don't compensate low block reward.\nAnd for example every 10 BTC holding needs to be secured by one Antminer S19 running.\n\nIn an ideal world every large bitcoin holder will run proper amount of ASICs and run it at loss.\nThe holders of less than 10 BTC - will organize \"group pays\", this time for sharing loss (electricity costs)\n(exactly the same way like people made \"group buys\" of ASIC hardware in 2013)\n\n\nPretty sure in real world it won't work. And there is a large payoff for betrayal, or more precise:\nPeople will think there is tiny punishment for betrayal.\n\nEven Bitcoin can't beat a human nature.\n\n\nRegards\nJaroslaw\n\n\nW dniu 2022-07-26 19:06:12 u\u017cytkownik Erik Aronesty <erik at q32.com> napisa\u0142:\n> I'm pretty sure we will have a textbook case of Prisoner's Dilemma here.\n\n\nno, there is no large payoff for betrayal"
            }
        ],
        "thread_summary": {
            "title": "Surprisingly, Tail Emission Is Not Inflationary",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "jk_14 at op.pl",
                "Giuseppe B",
                "Anthony Towns",
                "Alfred Hodler",
                "Jacob Eliosoff",
                "Stefan Richter",
                "Peter Todd",
                "alicexbt",
                "Erik Aronesty",
                "naman naman",
                "Bram Cohen",
                "Larry Ruane",
                "Eric Voskuil",
                "David A. Harding",
                "Peter",
                "Dave Scotese",
                "ZmnSCPxj",
                "Zac Greenwood",
                "vjudeu at gazeta.pl",
                "John Tromp",
                "Tobin Harding"
            ],
            "messages_count": 43,
            "total_messages_chars_count": 119541
        }
    },
    {
        "title": "[bitcoin-dev]  Surprisingly, Tail Emission Is Not Inflationary",
        "thread_messages": [
            {
                "author": "Eric Voskuil",
                "date": "2022-07-09T20:53:56",
                "message_text_only": "\ufeffIn Bitcoin we use the term \u201csupply\u201c as a reference to the number of coins minted. This colloquialism is commonly conflated with the economic concept of supply, and then injected into a supply/demand relation as if it had the same applicability. Economically supply refers to desire to sell, while demand refers to desire to buy.\n\ne\n\n> On Jul 9, 2022, at 08:24, Eric Voskuil <eric at voskuil.org> wrote:\n> \n> \ufeffTo clarify, price inflation is not caused by market production. Attributing the observed lack of inflation (eg fee %) to loss is an assumed relation.\n> \n> Even if the amount of loss was known (which it is not), there remains an assumption in the correlation of non-lost coins to price. Demand determines price, not the amount of something in existence, hence the folly of S2F (1/monetary-inflation).\n> \n> e\n> \n>> On Jul 9, 2022, at 08:15, Peter Todd <pete at petertodd.org> wrote:\n>> \ufeffOn Sat, Jul 09, 2022 at 07:26:22AM -0700, Eric Voskuil wrote:\n>>>> Due to lost coins, a tail emission/fixed reward actually results in a stable money supply. Not an (monetarily) inflationary supply.\n>>> This observation is not a proof of lost coins, that is an assumption.\n>> To be clear, are you claiming that there is no proof that coins are lost?\n>> --\n>> https://petertodd.org 'peter'[:-1]@petertodd.org"
            }
        ],
        "thread_summary": {
            "title": "Surprisingly, Tail Emission Is Not Inflationary",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Eric Voskuil"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 1302
        }
    },
    {
        "title": "[bitcoin-dev] Security problems with relying on transaction fees for security",
        "thread_messages": [
            {
                "author": "Bram Cohen",
                "date": "2022-07-11T18:12:52",
                "message_text_only": "If transaction fees came in at an even rate over time all at the exact same\nlevel then they work fine for security, acting similarly to fixed block\nrewards. Unfortunately that isn't how it works in the real world. There's a\nvery well established day/night cycle with fees going to zero overnight and\neven longer gaps on weekends and holidays. If in the future Bitcoin is\nentirely dependent on fees for security (scheduled very strongly) and this\npattern keeps up (overwhelmingly likely) then this is going to become a\nserious problem.\n\nWhat's likely to happen is that at first there will simply be no or very\nfew blocks mined overnight. There are likely to be some, as miners at first\nturn off their mining rigs completely overnight then adopt the more\nsophisticated strategy of waiting until there are enough fees in the\nmempool to warrant attempting to make a block and only then doing it.\nUnfortunately the gaming doesn't end there. Eventually the miners with\nlower costs of operation will figure out that they can collectively reorg\nthe last hour (or some time period) of the day overnight and this will be\nprofitable. That's likely to cause the miners with more expensive\noperations to stop attempting mining the last hour of the day preemptively.\n\nWhat happens after that I'm not sure. There are a small enough number of\nminers with a quirky enough distribution of costs of operation and\nprofitability that the dynamic is heavily dependent on those specifics, but\nthe beginnings of a slippery slope to a mining cabal which reorgs everyone\nelse out of existence and eventually 51% attacks the whole thing have\nbegun. It even gets worse than that because once there's a cabal\naggressively reorging anyone else out when they make a block other miners\nwill shut down and rapidly lose the ability to quickly spin up again, so\nthe threshold needed for that 51% attack will keep going down.\n\nIn short, relying completely on transaction fees for security is likely to\nbe a disaster. What we can say from existing experience is that having\ntransaction fees be about 10% of rewards on average works well. It's enough\nto incentivize collecting fees but not so much that it makes incentives get\nall weird. 90% transaction fees is probably very bad. 50% works but runs\nthe risk of spikes getting too high.\n\nThere are a few possible approaches to fixes. One would be to drag most of\neast asia eastward to a later time zone thus smoothing out the day/night\ncycle but that's probably unrealistic. Another would be to hard fork in\nfixed rewards in perpetuity, which is slightly less unrealistic but still\nextremely problematic.\n\nMuch more actionable are measures which smooth out fees over time. Having\nwallets opportunistically collect their dust during times of low\ntransaction fees would help and would save users on fees. Also making UX\nwhich clarifies when things are likely to take a day or week but that it's\nreliable would be a reasonable thing to do, but users unfortunately are\nvery averse to transactions taking a while.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/27bad65b/attachment.html>"
            },
            {
                "author": "micaroni at gmail.com",
                "date": "2022-07-11T18:38:34",
                "message_text_only": "The expectation is that in a few years a space in the block will be very\ncompetitive / expensive and be used only as a bridge for second layers or\nbig transactions. Who would have thought in 2017 that one day we would be\nworried about cheap rates!\n\nAnyway, it seems like a good point and I suggest giving this issue some\nname for easy and later reference.\n\n\nOn Mon, Jul 11, 2022 at 3:20 PM Bram Cohen via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> If transaction fees came in at an even rate over time all at the exact\n> same level then they work fine for security, acting similarly to fixed\n> block rewards. Unfortunately that isn't how it works in the real world.\n> There's a very well established day/night cycle with fees going to zero\n> overnight and even longer gaps on weekends and holidays. If in the future\n> Bitcoin is entirely dependent on fees for security (scheduled very\n> strongly) and this pattern keeps up (overwhelmingly likely) then this is\n> going to become a serious problem.\n>\n> What's likely to happen is that at first there will simply be no or very\n> few blocks mined overnight. There are likely to be some, as miners at first\n> turn off their mining rigs completely overnight then adopt the more\n> sophisticated strategy of waiting until there are enough fees in the\n> mempool to warrant attempting to make a block and only then doing it.\n> Unfortunately the gaming doesn't end there. Eventually the miners with\n> lower costs of operation will figure out that they can collectively reorg\n> the last hour (or some time period) of the day overnight and this will be\n> profitable. That's likely to cause the miners with more expensive\n> operations to stop attempting mining the last hour of the day preemptively.\n>\n> What happens after that I'm not sure. There are a small enough number of\n> miners with a quirky enough distribution of costs of operation and\n> profitability that the dynamic is heavily dependent on those specifics, but\n> the beginnings of a slippery slope to a mining cabal which reorgs everyone\n> else out of existence and eventually 51% attacks the whole thing have\n> begun. It even gets worse than that because once there's a cabal\n> aggressively reorging anyone else out when they make a block other miners\n> will shut down and rapidly lose the ability to quickly spin up again, so\n> the threshold needed for that 51% attack will keep going down.\n>\n> In short, relying completely on transaction fees for security is likely to\n> be a disaster. What we can say from existing experience is that having\n> transaction fees be about 10% of rewards on average works well. It's enough\n> to incentivize collecting fees but not so much that it makes incentives get\n> all weird. 90% transaction fees is probably very bad. 50% works but runs\n> the risk of spikes getting too high.\n>\n> There are a few possible approaches to fixes. One would be to drag most of\n> east asia eastward to a later time zone thus smoothing out the day/night\n> cycle but that's probably unrealistic. Another would be to hard fork in\n> fixed rewards in perpetuity, which is slightly less unrealistic but still\n> extremely problematic.\n>\n> Much more actionable are measures which smooth out fees over time. Having\n> wallets opportunistically collect their dust during times of low\n> transaction fees would help and would save users on fees. Also making UX\n> which clarifies when things are likely to take a day or week but that it's\n> reliable would be a reasonable thing to do, but users unfortunately are\n> very averse to transactions taking a while.\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/9e338c0a/attachment.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-11T18:43:27",
                "message_text_only": "> If in the future Bitcoin is entirely dependent on fees for security\n(scheduled very strongly) and this pattern keeps up (overwhelmingly likely)\nthen this is going to become a serious problem.\n\nWe should carefully define \"when\" this becomes an issue.\n\nSuppose the reward is 1.5625 BTC.   That's not very far away.   Assume you\nneed a 12-month investment in hardware.   One-year * 100% mining capacity\nat that time is thus incentivised with 82125 bitcoin in losses against a\ndouble spend.   If the price remains the same as it is now, that's 1.6\nbillion.  Is that a sufficient security budget?\n\nAs the rewards drop, the security of Bitcoin increasingly relies on \"price\nincreases\" and \"fee pressure\".  Obviously \"price increases\" isn't something\nanyone should rely on.   Therefore the correct thing to address is \"fee\npressure\".\n\n> There are a few possible approaches to fixes. One would be to drag most\nof east asia eastward to a later time zone thus smoothing out the day/night\ncycle but that's probably unrealistic. Another would be to hard fork in\nfixed rewards in perpetuity...\n\nThere is abundant evidence that modifying on-chain utility alters fees.\nThere is little doubt that the lightning network has cut into the security\nbudget.  Future privacy protocols, such as mweb, will cut in even further.\n\nTherefore another solution would be to simply *increase on-chain utility*,\ndriving up fees in response to the growth of layered transactions.\n\nProposals like \"payment codes\" and protocols like \"omni\" and \"omnibolt\" all\nuse on-chain resources without needing a soft fork.   Other proposals, like\ncovenants, may increase fee pressure more.   And, of course, promoting the\nuse of Bitcoin & Lightning in transactions - not just \"holding\", helps\npromote fee growth and helps maintain the security budget.\n\nEven if it's less fixed and predictable than tail-emissions, this approach\nseems to make much more sense.\n\n\nOn Mon, Jul 11, 2022 at 2:19 PM Bram Cohen via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> If transaction fees came in at an even rate over time all at the exact\n> same level then they work fine for security, acting similarly to fixed\n> block rewards. Unfortunately that isn't how it works in the real world.\n> There's a very well established day/night cycle with fees going to zero\n> overnight and even longer gaps on weekends and holidays. If in the future\n> Bitcoin is entirely dependent on fees for security (scheduled very\n> strongly) and this pattern keeps up (overwhelmingly likely) then this is\n> going to become a serious problem.\n>\n> What's likely to happen is that at first there will simply be no or very\n> few blocks mined overnight. There are likely to be some, as miners at first\n> turn off their mining rigs completely overnight then adopt the more\n> sophisticated strategy of waiting until there are enough fees in the\n> mempool to warrant attempting to make a block and only then doing it.\n> Unfortunately the gaming doesn't end there. Eventually the miners with\n> lower costs of operation will figure out that they can collectively reorg\n> the last hour (or some time period) of the day overnight and this will be\n> profitable. That's likely to cause the miners with more expensive\n> operations to stop attempting mining the last hour of the day preemptively.\n>\n> What happens after that I'm not sure. There are a small enough number of\n> miners with a quirky enough distribution of costs of operation and\n> profitability that the dynamic is heavily dependent on those specifics, but\n> the beginnings of a slippery slope to a mining cabal which reorgs everyone\n> else out of existence and eventually 51% attacks the whole thing have\n> begun. It even gets worse than that because once there's a cabal\n> aggressively reorging anyone else out when they make a block other miners\n> will shut down and rapidly lose the ability to quickly spin up again, so\n> the threshold needed for that 51% attack will keep going down.\n>\n> In short, relying completely on transaction fees for security is likely to\n> be a disaster. What we can say from existing experience is that having\n> transaction fees be about 10% of rewards on average works well. It's enough\n> to incentivize collecting fees but not so much that it makes incentives get\n> all weird. 90% transaction fees is probably very bad. 50% works but runs\n> the risk of spikes getting too high.\n>\n> There are a few possible approaches to fixes. One would be to drag most of\n> east asia eastward to a later time zone thus smoothing out the day/night\n> cycle but that's probably unrealistic. Another would be to hard fork in\n> fixed rewards in perpetuity, which is slightly less unrealistic but still\n> extremely problematic.\n>\n> Much more actionable are measures which smooth out fees over time. Having\n> wallets opportunistically collect their dust during times of low\n> transaction fees would help and would save users on fees. Also making UX\n> which clarifies when things are likely to take a day or week but that it's\n> reliable would be a reasonable thing to do, but users unfortunately are\n> very averse to transactions taking a while.\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/c357b407/attachment-0001.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-11T19:45:39",
                "message_text_only": "This problem can be solved by mining decentralization.\n\n> What's likely to happen is that at first there will simply be no or very few blocks mined overnight.\n\nWhy? When it comes to energy usage, there are also cycles, because energy usage during the day is definitely higher than at night. You can clearly see that there are different prices for energy usage, and it depends if you use that energy overnight or not (usually, energy at night is cheaper, in the same way as other resources like Internet bandwidth limits, which are lower at night).\n\nIf less energy is used at night, then that energy is cheaper, and that means mining at night is more profitable.\n\n> There are likely to be some, as miners at first turn off their mining rigs completely overnight then adopt the more sophisticated strategy of waiting until there are enough fees in the mempool to warrant attempting to make a block and only then doing it.\n\nAgain, that's the problem that should be solved by decentralized mining. Each reward of each miner should depend on all fees collected by that miner. It is easier to think about it if you assume zero basic block reward, where the whole coinbase transaction is based only on transaction fees. So, all that is needed, is to make it possible to get some transaction fees, related to mined transactions. So, it is far better to think about some kind of commit-and-reveal scheme, where each miner will independently mine a share of the block, and commit the block header on-chain. Then, it will be later possible to prove that such share was created at a given point in time, and to claim some reward (even off-chain), based on that proof.\n\n> Eventually the miners with lower costs of operation will figure out that they can collectively reorg the last hour (or some time period) of the day overnight and this will be profitable.\n\nThat would mean on-chain transaction fees are very low. And that would mean off-chain transaction fees are higher (because if that's not the case, then it would mean that people stopped making any transactions at all, on all monetary systems globally, including all altcoins, and all fiat currencies). So, that case is possible in a situation, where Lightning Network will handle the most of the traffic, and where there will be almost no need to touch on-chain coins, because all of them will fly inside other networks like LN, sidechains, or Merge-Mined altcoins.\n\n> In short, relying completely on transaction fees for security is likely to be a disaster.\n\nNote that if you want to rely on something else than fees, then you have three options: big blocks, tail supply, or Merged Mining. Big blocks were discussed heavily in the past, tail supply is discussed now, and Merged Mining is still not touched correctly (to get it right, it is needed to track the heaviest chain of Proof of Work headers, and to distribute a fractions of coins, based on that, not like NameCoin, where you have a separate difficulty, so you can 51% attack NameCoin, even if you don't have 51% on Bitcoin). So, why not Merged Mining? Or what else could it be? And if it will be tail supply, then why hard-fork is needed at all? Make it explicitly, take single satoshis from all UTXOs in existence, and make it crystal clear, what this proposal is about: it is about taking a tiny fractions of satoshis or even smaller amounts from all UTXOs to form the future block rewards, that's what it is truly about, and users should be aware of that.\n\n> One would be to drag most of east asia eastward to a later time zone thus smoothing out the day/night cycle but that's probably unrealistic.\n\nWhat is unrealistic? Trustless mining on someone's behalf and being rewarded for doing that in P2P way is unrealistic? It is perfectly possible to deploy any \"I will pay you for increasing block reward for block 1000000\" scheme. We have OP_CHECKLOCKTIMEVERIFY for that, anyone can do that, even non-mining users can send their own coins to the future block numbers to increase future rewards with their own coins.\n\n> Another would be to hard fork in fixed rewards in perpetuity, which is slightly less unrealistic but still extremely problematic.\n\nNo hard-fork is needed. Moving coins to OP_CHECKLOCKTIMEVERIFY outputs is a no-fork. Enforcing that on consensus level to make block rewards more smooth is a soft-fork. Creating a Merge-Mined sidechain for that is a no-fork (because new coins are produced out of thin air, so Proof of Work alone, and tracking the main chain is enough, no new rules are needed on the main chain).\n\n> Much more actionable are measures which smooth out fees over time.\n\nWhat about RSK and their way of making fees more smooth?\n\n\nOn 2022-07-11 20:19:51 user Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\nIf transaction fees came in at an even rate over time all at the exact same level then they work fine for security, acting similarly to fixed block rewards. Unfortunately that isn't how it works in the real world. There's a very well established day/night cycle with fees going to zero overnight and even longer gaps on weekends and holidays. If in the future Bitcoin is entirely dependent on fees for security (scheduled very strongly) and this pattern keeps up (overwhelmingly likely) then this is going to become a serious problem.\n\n\nWhat's likely to happen is that at first there will simply be no or very few blocks mined overnight. There are likely to be some, as miners at first turn off their mining rigs completely overnight then adopt the more sophisticated strategy of waiting until there are enough fees in the mempool to warrant attempting to make a block and only then doing it. Unfortunately the gaming doesn't end there. Eventually the miners with lower costs of operation will figure out that they can collectively reorg the last hour (or some time period) of the day overnight and this will be profitable. That's likely to cause the miners with more expensive operations to stop attempting mining the last hour of the day preemptively.\u00a0\n\n\nWhat happens after that I'm not sure. There are a small enough number of miners with a quirky enough distribution of costs of operation and profitability that the dynamic is heavily dependent on those specifics, but the beginnings of a slippery slope to a mining cabal which reorgs everyone else out of existence and eventually 51% attacks the whole thing have begun. It even gets worse than that because once there's a cabal aggressively reorging anyone else out when they make a block other miners will shut down and rapidly lose the ability to quickly spin up again, so the threshold needed for that 51% attack will keep going down.\n\n\nIn short, relying completely on transaction fees for security is likely to be a disaster. What we can say from existing experience is that having transaction fees be about 10% of rewards on average works well. It's enough to incentivize collecting fees but not so much that it makes incentives get all weird. 90% transaction fees is probably very bad. 50% works but runs the risk of spikes getting too high.\n\n\nThere are a few possible approaches to fixes. One would be to drag most of east asia eastward to a later time zone thus smoothing out the day/night cycle but that's probably unrealistic. Another would be to hard fork in fixed rewards in perpetuity, which is slightly less unrealistic but still extremely problematic.\u00a0\n\n\nMuch more actionable are measures which smooth out fees over time. Having wallets opportunistically collect their dust during times of low transaction fees would help and would save users on fees. Also making UX which clarifies when things are likely to take a day or week but that it's reliable would be a reasonable thing to do, but users unfortunately are very averse to transactions taking a while."
            },
            {
                "author": "Russell O'Connor",
                "date": "2022-07-11T20:35:02",
                "message_text_only": "On Mon, Jul 11, 2022 at 2:19 PM Bram Cohen via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> If transaction fees came in at an even rate over time all at the exact\n> same level then they work fine for security, acting similarly to fixed\n> block rewards. Unfortunately that isn't how it works in the real world.\n> There's a very well established day/night cycle with fees going to zero\n> overnight and even longer gaps on weekends and holidays. If in the future\n> Bitcoin is entirely dependent on fees for security (scheduled very\n> strongly) and this pattern keeps up (overwhelmingly likely) then this is\n> going to become a serious problem.\n>\n> What's likely to happen is that at first there will simply be no or very\n> few blocks mined overnight. There are likely to be some, as miners at first\n> turn off their mining rigs completely overnight then adopt the more\n> sophisticated strategy of waiting until there are enough fees in the\n> mempool to warrant attempting to make a block and only then doing it.\n> Unfortunately the gaming doesn't end there. Eventually the miners with\n> lower costs of operation will figure out that they can collectively reorg\n> the last hour (or some time period) of the day overnight and this will be\n> profitable. That's likely to cause the miners with more expensive\n> operations to stop attempting mining the last hour of the day preemptively.\n>\n> What happens after that I'm not sure.\n>\n\nMiners will learn to create anyone-can-spend outputs to bribe other miners\nto build on their block rather than reorg it.  (Due to the coinbase\nmaturity, this will require some amount of floating capital.)\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/6e8e216d/attachment-0001.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-11T20:52:39",
                "message_text_only": ">\n> Miners will learn to create anyone-can-spend outputs to bribe other miners\n> to build on their block rather than reorg it.  (Due to the coinbase\n> maturity, this will require some amount of floating capital.)\n>\n\n(reward + avg fee) * 144 * 365 (one year) == approximate investment needed\nto reorg the chain for a double-spend attack\n\nin 30 years, assuming fees are still negligible (why wouldn't they be?\nlayer 2 works and layer 3 is coming), that's only 1200 bitcoin.  not really\na lot.\n\nthere's only few things that allow that security budget to be ok\n\n - we assume the price goes up a lot\n - we assume transactions get a lot more expensive\n - we don't care about double-spend attacks for very large transactions\n\ni'd rather engineer block demand than ignore it\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/4d93ee87/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-11T21:36:52",
                "message_text_only": "On Mon, Jul 11, 2022 at 04:35:02PM -0400, Russell O'Connor via bitcoin-dev wrote:\n> > What happens after that I'm not sure.\n> >\n> \n> Miners will learn to create anyone-can-spend outputs to bribe other miners\n> to build on their block rather than reorg it.  (Due to the coinbase\n> maturity, this will require some amount of floating capital.)\n\n...and that's a disaster for mining centralization, because the smaller miners\nneed to pay larger bribes than larger miners. Not to mention having to keep\ncapital around to do it.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/d84b815b/attachment.sig>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-11T21:56:53",
                "message_text_only": "On Mon, Jul 11, 2022 at 05:36:52PM -0400, Peter Todd via bitcoin-dev wrote:\n> On Mon, Jul 11, 2022 at 04:35:02PM -0400, Russell O'Connor via bitcoin-dev wrote:\n> > > What happens after that I'm not sure.\n> > >\n> > \n> > Miners will learn to create anyone-can-spend outputs to bribe other miners\n> > to build on their block rather than reorg it.  (Due to the coinbase\n> > maturity, this will require some amount of floating capital.)\n> \n> ...and that's a disaster for mining centralization, because the smaller miners\n> need to pay larger bribes than larger miners. Not to mention having to keep\n> capital around to do it.\n\nAlso, note how from a practical point of view, we'll need to add a new type of\ntx that's only valid in a specific block, or other miners will just reorg those\nanyone-can-spend outputs to steal them. It's not all that trivial to actually\ndo that... you'd have to have a signature that commits to the non-segwit part\nof the coinbase outputs. Ugh.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/bc25b2ad/attachment.sig>"
            },
            {
                "author": "Russell O'Connor",
                "date": "2022-07-12T00:21:40",
                "message_text_only": "Oops, you are right.  We need the bribe to be the output of the coinbase,\nbut due to the maturity rule, it isn't really a bribe.\n\nToo bad coinbases cannot take other coinbase outputs as inputs to bypass\nthe maturity rule.\n\nI guess that means the bribe has to be by leaving transactions in the\nmempool.\n\nAlso your point about centralization pressure is well taken.\n\nOn Mon, Jul 11, 2022 at 5:56 PM Peter Todd <pete at petertodd.org> wrote:\n\n> On Mon, Jul 11, 2022 at 05:36:52PM -0400, Peter Todd via bitcoin-dev wrote:\n> > On Mon, Jul 11, 2022 at 04:35:02PM -0400, Russell O'Connor via\n> bitcoin-dev wrote:\n> > > > What happens after that I'm not sure.\n> > > >\n> > >\n> > > Miners will learn to create anyone-can-spend outputs to bribe other\n> miners\n> > > to build on their block rather than reorg it.  (Due to the coinbase\n> > > maturity, this will require some amount of floating capital.)\n> >\n> > ...and that's a disaster for mining centralization, because the smaller\n> miners\n> > need to pay larger bribes than larger miners. Not to mention having to\n> keep\n> > capital around to do it.\n>\n> Also, note how from a practical point of view, we'll need to add a new\n> type of\n> tx that's only valid in a specific block, or other miners will just reorg\n> those\n> anyone-can-spend outputs to steal them. It's not all that trivial to\n> actually\n> do that... you'd have to have a signature that commits to the non-segwit\n> part\n> of the coinbase outputs. Ugh.\n>\n> --\n> https://petertodd.org 'peter'[:-1]@petertodd.org\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/2b9c824a/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-12T00:37:11",
                "message_text_only": "On Mon, Jul 11, 2022 at 08:21:40PM -0400, Russell O'Connor via bitcoin-dev wrote:\n> Oops, you are right.  We need the bribe to be the output of the coinbase,\n> but due to the maturity rule, it isn't really a bribe.\n> \n> Too bad coinbases cannot take other coinbase outputs as inputs to bypass\n> the maturity rule.\n>\n> I guess that means the bribe has to be by leaving transactions in the\n> mempool.\n\n...and that's hardly a bribe. That's just being unable to mine competitively\nbecause your operation is too small.\n\nAnyway, I think all this is a good example of how mining being dependent on\nfee-income makes mining much more complex, and harder to do as a small player.\nNot good.\n\n> Also your point about centralization pressure is well taken.\n\nThanks\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/bde354fc/attachment.sig>"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-07-14T00:54:48",
                "message_text_only": "On Mon, Jul 11, 2022 at 08:21:40PM -0400, Russell O'Connor via bitcoin-dev wrote:\n> Oops, you are right.  We need the bribe to be the output of the coinbase,\n> but due to the maturity rule, it isn't really a bribe.\n> Too bad coinbases cannot take other coinbase outputs as inputs to bypass\n> the maturity rule.\n\nSufficiently advanced tx introspection could be used for this; spend the\nfees in the coinbase to address A, but also create a 0sat output via a\nregular tx to the scriptPubKey \"1 CSV\". Note that tx's txid as B. The\nnext miner claims the bribe B, by spending the 0sat output to itself\nwith a 1-in, 1-out tx, with scriptPubKey C.\n\n  nVersion = 1\n  inputs = [txid=B, vout=0, scriptSig=\"\", nSeq=1]\n  outputs = [value=0, scriptPubKey=C]\n  nLocktime = 0\n\nNow we get back to A, and say that it's scriptPubKey uses a script that\ntakes \"C\" as input, has \"B\" hardcoded, calculates the txid of the tx\nabove, call it D, and then uses tx introspection to check that one of\nthe inputs of the tx has D as the txid.\n\n> I guess that means the bribe has to be by leaving transactions in the\n> mempool.\n\nYou *could* make that work if you allow tx's to use the annex to commit\nto a recent block.\n\nThat is, if you just mined block 740,000 and its hash was\n00000000000000000005f28764680afdbd8375216ff8f30b17eeb26bd98aac63,\nyou construct a bribe tx paying to \"OP_1\", but when you sign it,\nyou add \"50ee070b4aa0d98aac63\" as the annex (tag=ee, length=07,\nvalue[0:3]=height=0b4aa0=470k, value[3:]=d98aac63), and (via a soft fork)\nnodes then only consider that tx valid if the block at \"height\" ends in\n\"d98aac63\". There's then only a 1-in-4B chance that someone who extends\na competitor to your block could claim the bribe, at a cost of 11 extra\nwitness bytes.\n\nBut such txs (and anything that descends from them) would become invalid\nwith as little as a 1-block reorg, which would pretty much defeat the\nentire purpose of the maturity delay...\n\nCheers,\naj"
            },
            {
                "author": "Pox",
                "date": "2022-07-11T21:18:10",
                "message_text_only": "On 11 Jul 2022, at 19:12, Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n<snip>\n> There's a very well established day/night cycle with fees going to zero overnight and even longer gaps on weekends and holidays. If in the future Bitcoin is entirely dependent on fees for security (scheduled very strongly) and this pattern keeps up (overwhelmingly likely) then this is going to become a serious problem.\n\nThis may be true today when adoption is still low but will likely change if/when Bitcoin drives the world economy and is used 24/7 globally. There's a good chance our grandchildren will never see an empty mempool.\n\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: Message signed with OpenPGP\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/1d316623/attachment-0001.sig>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-11T21:53:37",
                "message_text_only": "On Mon, Jul 11, 2022 at 11:12:52AM -0700, Bram Cohen via bitcoin-dev wrote:\n> If transaction fees came in at an even rate over time all at the exact same\n> level then they work fine for security, acting similarly to fixed block\n> rewards. Unfortunately that isn't how it works in the real world. There's a\n> very well established day/night cycle with fees going to zero overnight and\n> even longer gaps on weekends and holidays. If in the future Bitcoin is\n> entirely dependent on fees for security (scheduled very strongly) and this\n> pattern keeps up (overwhelmingly likely) then this is going to become a\n> serious problem.\n> \n> What's likely to happen is that at first there will simply be no or very\n> few blocks mined overnight. There are likely to be some, as miners at first\n> turn off their mining rigs completely overnight then adopt the more\n> sophisticated strategy of waiting until there are enough fees in the\n> mempool to warrant attempting to make a block and only then doing it.\n> Unfortunately the gaming doesn't end there. Eventually the miners with\n> lower costs of operation will figure out that they can collectively reorg\n> the last hour (or some time period) of the day overnight and this will be\n> profitable. That's likely to cause the miners with more expensive\n> operations to stop attempting mining the last hour of the day preemptively.\n> \n> What happens after that I'm not sure. There are a small enough number of\n> miners with a quirky enough distribution of costs of operation and\n> profitability that the dynamic is heavily dependent on those specifics, but\n> the beginnings of a slippery slope to a mining cabal which reorgs everyone\n> else out of existence and eventually 51% attacks the whole thing have\n> begun. It even gets worse than that because once there's a cabal\n> aggressively reorging anyone else out when they make a block other miners\n> will shut down and rapidly lose the ability to quickly spin up again, so\n> the threshold needed for that 51% attack will keep going down.\n> \n> In short, relying completely on transaction fees for security is likely to\n> be a disaster. What we can say from existing experience is that having\n> transaction fees be about 10% of rewards on average works well. It's enough\n> to incentivize collecting fees but not so much that it makes incentives get\n> all weird. 90% transaction fees is probably very bad. 50% works but runs\n> the risk of spikes getting too high.\n> \n> There are a few possible approaches to fixes. One would be to drag most of\n> east asia eastward to a later time zone thus smoothing out the day/night\n> cycle but that's probably unrealistic. Another would be to hard fork in\n> fixed rewards in perpetuity, which is slightly less unrealistic but still\n> extremely problematic.\n> \n> Much more actionable are measures which smooth out fees over time.\n\nNote that a tricky thing here is that smoothing out fees is made difficult by\nthe fact that users can by-pass the fee system by including anyone-can-spend\noutputs in their transactions. Or worse, by simply paying large miners\nout-of-band to get their txs confirmed. So any smothing scheme that tries to\nsmooth the market-based fees we already have will fail.\n\nThe only type of fee-smoothing scheme that is feasible is to smooth an entirely\nseparate category of fees that are made mandatory. For example, you could\nachieve the economic impact of inflation by having a fixed value*time based fee\nthat goes to timelocked anyone-can-spend outputs in the coinbase to push the\nfee forward to other miners.\n\nDoing this is of course a gigantic accounting headache, and problematic for\nexisting L2 protocols, because you are reducing the value of txouts as they age\n(demurrage). But at least it's a soft-fork.\n\nInterestingly, if you look at transaction fees in blocks right now, people\nregularly pay far higher transaction fees than necessary. There seem to be a\nbunch of high value users, eg $1 million txs, without terrible fee estimation.\nAnd I suspect the reason why this happens is simply that for a $1 million tx,\noverpaying 100x with a $100 tx fee is irrelevant. Of course, this is also a\nproblem from the re-org point of view...\n\n> Having\n> wallets opportunistically collect their dust during times of low\n> transaction fees would help and would save users on fees.\n\nYou're assuming wallets will even have dust to collect. With widespread use of\nLightning that will likely not be true. Indeed, with sufficiently efficient L2\nsolutions it's really unclear as to how much demand there will be for block\nspace.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/6626ac18/attachment.sig>"
            },
            {
                "author": "Bram Cohen",
                "date": "2022-07-12T02:47:43",
                "message_text_only": "On Mon, Jul 11, 2022 at 2:53 PM Peter Todd <pete at petertodd.org> wrote:\n\n>\n> The only type of fee-smoothing scheme that is feasible is to smooth an\n> entirely\n> separate category of fees that are made mandatory. For example, you could\n> achieve the economic impact of inflation by having a fixed value*time\n> based fee\n> that goes to timelocked anyone-can-spend outputs in the coinbase to push\n> the\n> fee forward to other miners.\n>\n\nI'm not sure what the implications would be of charging coins for moving\nbased on their value times how long since they last moved would be (I\n*think* that's what you're suggesting). It isn't obviously bad, but feels\nweird to me.\n\nThat said, a scheme which would work would be to have a fixed minimum fee\nof satoshis/vbyte which is required to be repaid out by the miner into a\npool and they get back a fixed fraction of what was in that pool. The pool\ncould simply be a rolling coin which keeps the balance. That's still a bit\nugly but doesn't lessen block size significantly, is fairly coherent, and\nis a soft fork. It's the best emergency measure I'm aware of.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/519eb7bd/attachment.html>"
            },
            {
                "author": "James MacWhyte",
                "date": "2022-07-11T22:19:06",
                "message_text_only": "I think many of these discussions about the loss of the mining reward are\nfatally shortsighted.\n\nIt's always daytime somewhere--when you talk about volume dropping at\nnight, that simply means there is not enough activity outside the US. If\nBitcoin continues its rise in price, mining rewards will still be\nsubstantial for decades to come. Given another 10 years, I'm fairly\nconfident there will be enough adoption worldwide to make mining profitable\naround the clock, even if the mining reward were minimal.\n\nJames\n\n\nOn Mon, Jul 11, 2022 at 8:19 PM Bram Cohen via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> If transaction fees came in at an even rate over time all at the exact\n> same level then they work fine for security, acting similarly to fixed\n> block rewards. Unfortunately that isn't how it works in the real world.\n> There's a very well established day/night cycle with fees going to zero\n> overnight and even longer gaps on weekends and holidays. If in the future\n> Bitcoin is entirely dependent on fees for security (scheduled very\n> strongly) and this pattern keeps up (overwhelmingly likely) then this is\n> going to become a serious problem.\n>\n> What's likely to happen is that at first there will simply be no or very\n> few blocks mined overnight. There are likely to be some, as miners at first\n> turn off their mining rigs completely overnight then adopt the more\n> sophisticated strategy of waiting until there are enough fees in the\n> mempool to warrant attempting to make a block and only then doing it.\n> Unfortunately the gaming doesn't end there. Eventually the miners with\n> lower costs of operation will figure out that they can collectively reorg\n> the last hour (or some time period) of the day overnight and this will be\n> profitable. That's likely to cause the miners with more expensive\n> operations to stop attempting mining the last hour of the day preemptively.\n>\n> What happens after that I'm not sure. There are a small enough number of\n> miners with a quirky enough distribution of costs of operation and\n> profitability that the dynamic is heavily dependent on those specifics, but\n> the beginnings of a slippery slope to a mining cabal which reorgs everyone\n> else out of existence and eventually 51% attacks the whole thing have\n> begun. It even gets worse than that because once there's a cabal\n> aggressively reorging anyone else out when they make a block other miners\n> will shut down and rapidly lose the ability to quickly spin up again, so\n> the threshold needed for that 51% attack will keep going down.\n>\n> In short, relying completely on transaction fees for security is likely to\n> be a disaster. What we can say from existing experience is that having\n> transaction fees be about 10% of rewards on average works well. It's enough\n> to incentivize collecting fees but not so much that it makes incentives get\n> all weird. 90% transaction fees is probably very bad. 50% works but runs\n> the risk of spikes getting too high.\n>\n> There are a few possible approaches to fixes. One would be to drag most of\n> east asia eastward to a later time zone thus smoothing out the day/night\n> cycle but that's probably unrealistic. Another would be to hard fork in\n> fixed rewards in perpetuity, which is slightly less unrealistic but still\n> extremely problematic.\n>\n> Much more actionable are measures which smooth out fees over time. Having\n> wallets opportunistically collect their dust during times of low\n> transaction fees would help and would save users on fees. Also making UX\n> which clarifies when things are likely to take a day or week but that it's\n> reliable would be a reasonable thing to do, but users unfortunately are\n> very averse to transactions taking a while.\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220712/4828c452/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-11T22:26:31",
                "message_text_only": "On Tue, Jul 12, 2022 at 12:19:06AM +0200, James MacWhyte via bitcoin-dev wrote:\n> I think many of these discussions about the loss of the mining reward are\n> fatally shortsighted.\n> \n> It's always daytime somewhere--when you talk about volume dropping at\n> night, that simply means there is not enough activity outside the US. If\n> Bitcoin continues its rise in price, mining rewards will still be\n> substantial for decades to come. Given another 10 years, I'm fairly\n> confident there will be enough adoption worldwide to make mining profitable\n> around the clock, even if the mining reward were minimal.\n\nEarth's population is extremely uneven over the earths surface, and the pacific\nocean is enormous and sparsely populated:\n\nhttps://earthsky.org/earth/99-percent-worlds-population-receive-sunlight/\n\nAnyway, designing protocols for \"price go up forever\" hopium is a bad idea.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/cc885f97/attachment.sig>"
            },
            {
                "author": "James MacWhyte",
                "date": "2022-07-12T00:01:09",
                "message_text_only": "On Tue, Jul 12, 2022 at 12:26 AM Peter Todd <pete at petertodd.org> wrote:\n\n> Anyway, designing protocols for \"price go up forever\" hopium is a bad idea.\n>\n\nI'm quite disappointed that this is what you've reduced my argument to. The\nprice doesn't need hopium; if it stays between where it is now and the all\ntime high, that is enough to make mining rewards appealing.\n\nAnyway, once the LA dinner rush ends at 8PM it is already noon in Tokyo.\nThe Pacific is big, but not *that* big.\n\nCertainly we should be designing protocols in anticipation of increased\nadoption, and not assuming the world will always be exactly as it is today?\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220712/05d46411/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-12T00:31:19",
                "message_text_only": "On Tue, Jul 12, 2022 at 02:01:09AM +0200, James MacWhyte wrote:\n> On Tue, Jul 12, 2022 at 12:26 AM Peter Todd <pete at petertodd.org> wrote:\n> \n> > Anyway, designing protocols for \"price go up forever\" hopium is a bad idea.\n> >\n> \n> I'm quite disappointed that this is what you've reduced my argument to. The\n> price doesn't need hopium; if it stays between where it is now and the all\n> time high, that is enough to make mining rewards appealing.\n> \n> Anyway, once the LA dinner rush ends at 8PM it is already noon in Tokyo.\n> The Pacific is big, but not *that* big.\n> \n> Certainly we should be designing protocols in anticipation of increased\n> adoption, and not assuming the world will always be exactly as it is today?\n\nWe should design protocols that do reasonably well in *both* scenarios. Because\nthe future is unknown. Hell, I won't be surprised if further developments come\nalong that reduce demand for on-chain txs even further.\n\nThe fact is basing security budget in part on the total value of the coin being\nsecured very cleanly solves the problem of ensuring that there is sufficient\nmining reward. Similarly, we also have to plan for the potential environment\nwhere fee demand is very high. And we've done a good job of that, including\nLightning, replace-by-fee, etc.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220711/4918b612/attachment-0001.sig>"
            },
            {
                "author": "Tom Harding",
                "date": "2022-07-13T00:38:32",
                "message_text_only": "On 7/11/22 15:26, Peter Todd via bitcoin-dev wrote:\n>\n> Anyway, designing protocols for \"price go up forever\" hopium is a bad idea.\n\nYet that is the design, and it's a good one.\u00a0 It is equivalent to \nrelying on bitcoin to steadily grow in utility vs. fiat currencies.\n\nIf it fails to do that, there's no point anyway."
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-13T12:18:43",
                "message_text_only": "Bitcoin doesn't rely on fees.  It relys on users protecting the network out\nof self interest\n\n- running nodes now\n- mining later\n\nIt has always been incentivised by holders acting out of self interest\n\nIf large holders allocating a small percentage to mining to protect their\ninterest, that's all Bitcoin needs\n\nAlthough I can think of other protocols that work that way and people don't\nlike them\n\n\n\n\n\n\n\nOn Wed, Jul 13, 2022, 4:06 AM Tom Harding via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On 7/11/22 15:26, Peter Todd via bitcoin-dev wrote:\n> >\n> > Anyway, designing protocols for \"price go up forever\" hopium is a bad\n> idea.\n>\n> Yet that is the design, and it's a good one.  It is equivalent to\n> relying on bitcoin to steadily grow in utility vs. fiat currencies.\n>\n> If it fails to do that, there's no point anyway.\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220713/671597fe/attachment.html>"
            },
            {
                "author": "Anthony Towns",
                "date": "2022-07-11T23:29:47",
                "message_text_only": "On Mon, Jul 11, 2022 at 11:12:52AM -0700, Bram Cohen via bitcoin-dev wrote:\n> If transaction fees came in at an even rate over time all at the exact same\n> level then they work fine for security, acting similarly to fixed block\n> rewards. Unfortunately that isn't how it works in the real world.\n\nThat just becomes a market design question. There's been some trivial\neffort put into that for bitcoin (ie, getting people to actually chooses\nfees based on the weight of their transaction, and having weight be the\nsole limiting factor for miners), but not a lot, and there's evidence\nboth from previous times in Bitcoin's history and from altcoin's that\nthe market can support higher fees.\n\nShould we work on that today, though? It doesn't seem smart to me:\nthe subsidy is already quite substantial ($6.5 billion USD per year at\ncurrent prices) so raising fees to 10% of block reward would transfer\nanother $650M USD from bitcoin users to miners (or ASIC manfucturers\nand electricity producers) each year, achieving what? Refuting some FUD?\n\nCheers,\naj"
            },
            {
                "author": "Peter",
                "date": "2022-07-12T03:56:03",
                "message_text_only": "The Bitcoin emission curve requires a 2x value increase per 210,000 blocks to maintain the existing security level.\n\nTransactions are practically irreversible when the value the miners expend (not receive) is greater than said transaction value.\n\nIf you send 1000 gold grams of value in a transaction then it's finalized after 1000 gold grams worth of energy have been spent on mining blocks.\n\nBitcoin is bootstrapping from the English population and its final steady state is to eliminate fiat and be a global reserve currency and a daily transactional currency. So, we should engineer for other language and religious communities to join in. Saturday and Sunday are business days in a large portion of the planet.\n\nBike shedding a tail emission to try to support Bitcoin with the current 2% to 4% global adoption (in terms of holding not spending) as the world's premier pet rock is a poor strategy.\n\nWe can expect Bitcoin to never have a steady value because businesses turn profits on average of 10% so there will be a steady increase in hoarding to fuel number go up technology. Prices will be more reliably accounted for in gold grams, as well as corporate and government accounts being denominated in gold grams not satoshis. We can expect the boom and bust economic cycle to disappear when the price of money (interest rates) is set by the market. The value of money will still be set by the government via average government wages.\n\nWith 3000 Lightning open/ close tx per block and 6 billion adults it's 38 years of backlog to onboard the entire adult population. That's not including corporations.\n\nIf we assume 20% of people use non-custodial Lightning but they each have 5 channels open we are back to 38 years backlog.\n\nThere's a cost and risk to reorganize the chain to chase fees in a zero block reward world. And as stated miners can leave honey in the mempool pot. We shouldn't expect empty mempools with occational transactions with outlier large fees that cause overnight reorganizations.\n\nIn a state of victory, nation-states will use solar power during the daytime to ensure local entities have priority access to confirmations and Bitcoin will receive nation-state altruism in such a future as it receives person-based altruism today. Because we as individuals and nation states all win if we keep the Schelling point of 21M bitcoins.\n\nWe shouldn't make naive miner centralization models when there's national security considerations to keep the chain moving forward in a stable way. Big miners won't take all the fees and put small miners out of business because energy production itself is decentralized and idle energy will always keep a diverse set of miners on the network.\n\nBlock rewards are no guarantee of security as we have seen with lesser PoW coins (Ethereum Classic and others). And during the Bitcoin immaculate conception period of 2009 to 2012 the block reward served mainly as a distribution method since JP Morgan had enough GPU power to reorganize us to block 0 but that didn't happen. So, the block reward offered little security in those days.\n\nBitcoin works but in order to win it needs global adoption. No amount of arbitrary inflation can ensure a sufficient security budget.\n\nBlock rewards are to distribute the money we can expect mining to transition to a public service from the current for-profit business model when there's a 38 year backlog and every nation is on board for the game theoretic reason to deny any single nation the power of seigniorage of the global reserve currency.\n\nRegards\n\nPeter Kroll\n\n(pointbiz / BTCCuracao)\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220712/1d5c426a/attachment.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-12T11:57:40",
                "message_text_only": ">\n>  we can expect mining to transition to a public service from the current\n> for-profit business model\n>\n\nI get it now\n\nGame theory would predict all of the major players mining in the future\nwill be large holders\n\nIf you're holding a hundred Bitcoin you should take one, sell it for mining\nequipment and use it  to ensure the rest is stable\n\nI guess that's perfectly reasonable\n\nYeah I'm on board with the idea that this is a non-issue\n\nInterested parties will continue to maintain the security of the chain with\nthe same basic game theoretic stuff\n\nBitcoin doesn't need a security budget\n\nExisting holders have the ability the means and the incentive to secure\ntheir funds\n\nProbably the only thing Bitcoiners should do is to advertise this rather\nthan to make it some sort of secret\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220712/df4c711e/attachment.html>"
            },
            {
                "author": "Peter",
                "date": "2022-07-12T15:08:41",
                "message_text_only": ">Probably the only thing Bitcoiners should do is to advertise this rather than to make it some sort of secret\n\nSatoshi made this clear in the beginning that mining will trend to where energy is free.\n\nDuring this stage of bootstrapping we need a security budget to prevent nation state attacks. In the future we will need to lose money mining Bitcoin to prevent the reemergence of a fiat reserve currency.\n\nThe emission curve lasts over 100 years because Bitcoin success state requires it to be entrenched globally.\n\nWe all work for Satoshi because he invented a currency that is digital and deflationary. Gold doesn't work as a deflationary currency because of physical limitations.\n\nYes, today people are spending some of their Bitcoin to protect the remainder of their bag. We should expect this to continue into the future. I routinely give away Bitcoin to grow support for it in my local jurisdiction. This is another form of securing Bitcoin (people power). This helps protect my deflationary wealth increase and is net profitable in my view because increased adoption powers deflation. If Bitcoin loses its deflationary promise then it will be abandoned.\n\nIn the future all the miners will be energy producers. There may be small home miners who have excess energy but most energy is produced by governments today and likely in the future.\n\nSo, a potential solution is you take 1% of your Bitcoin annually to secure the network for the promise of 10% deflation (increase in purchasing power). More likely large holders will be doing this. Yes, there will be free riders. Today there's also free riders who receive part of our Bitcoins via tax collection and welfare. In the future they receive free deflation instead and are incentived to save Bitcoin to receive this stipend.\n\nRegards\n\nPeter Kroll\n\n-------- Original Message --------\nOn 12 Jul 2022, 07:57, Erik Aronesty wrote:\n\n>> we can expect mining to transition to a public service from the current for-profit business model\n>\n> I get it now\n>\n> Game theory would predict all of the major players mining in the future will be large holders\n>\n> If you're holding a hundred Bitcoin you should take one, sell it for mining equipment and use it to ensure the rest is stable\n>\n> I guess that's perfectly reasonable\n>\n> Yeah I'm on board with the idea that this is a non-issue\n>\n> Interested parties will continue to maintain the security of the chain with the same basic game theoretic stuff\n>\n> Bitcoin doesn't need a security budget\n>\n> Existing holders have the ability the means and the incentive to secure their funds\n>\n> Probably the only thing Bitcoiners should do is to advertise this rather than to make it some sort of secret\n>\n>>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220712/e4c06b53/attachment.html>"
            },
            {
                "author": "Ryan Grant",
                "date": "2022-07-12T17:46:43",
                "message_text_only": "BIP119, OP_CTV, allows value to be assigned in a predetermined tree\nof payments that confirms with a single output.\n\nThis allows batched transactions in the predetermined tree (e.g.\nwithdrawals from a centralized exchange) to be anchored in a way that\ndisallows double-spending of the inputs, yet allows the recipients to\nsmooth out mining fees for their withdrawal outputs, at their leisure.\n\nIt's a perfect design for a world where there are always more\ntransactions to be made than block space allows, yet only some of them\nare urgent.  As it applies to concerns mentioned in this thread, it\ncan be used to shift transaction fees to later blocks.  Whenever\nsmoothing transaction fees would be a nice-to-have, this is one way to\nhave it.\n\n  https://utxos.org/uses/scaling/\n  https://utxos.org/analysis/bip_simulation/\n\nOn Tue, Jul 12, 2022 at 9:49 AM Peter <dizzle at pointbiz.com> wrote:\n> With 3000 Lightning open/ close tx per block and 6 billion adults\n> it's 38 years of backlog to onboard the entire adult\n> population. That's not including corporations.\n\nSeparately, OP_CTV also allows slightly different payment channels\nfrom the existing Lightning Network, that allow non-interactive\nbatched opens.  Using this technique, onboarding 6 billion adults to\npayment channels would be limited only by their willingness to\nparticipate.\n\n  https://utxos.org/uses/non-interactive-channels/"
            },
            {
                "author": "John Tromp",
                "date": "2022-07-13T09:43:57",
                "message_text_only": "> The emission curve lasts over 100 years because Bitcoin success state requires it to be entrenched globally.\n\nIt effectively doesn't. The last 100 years from 2040-2140 only emits a\npittance of about 0.4 of all bitcoin.\n\nWhat matters for proper distribution is the shape of the emission\ncurve. If you emit 99% in the first year and 1% in the next 100 years,\nyour emission \"lasts\" over 100 years, and you achieve a super low\nsupply inflation rate immediately after 1 year, but it's obviously a\nterrible form of distribution.\n\nThis is easy to quantify as the expected time of emission which would\nbe 0.99 * 0.5yr + 0.01* 51yr = 2 years.\nBitcoin is not much better in that the expected time of emission of an\nbitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n\nMonero appears much better since its tail emission yields an infinite\nexpected time of emission, but if we avoid infinities by looking at\njust the soft total emission [1], which is all that is emitted before\na 1% yearly inflation, then Monero is seen to actually be a lot worse\nthan Bitcoin, due to emitting over 40% in its first year and halving\nthe reward much faster. Ethereum is much worse still with its huge\npremine and PoS coins like Algorand are scraping the bottom with their\nexpected emission time of 0.\n\nThere's only one coin whose expected (soft) emission time is larger\nthan bitcoin's, and it's about an order of magnitude larger, at 50\nyears.\n\n[1] https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153"
            },
            {
                "author": "John Tromp",
                "date": "2022-07-13T11:56:33",
                "message_text_only": "> There's only one coin whose expected (soft) emission time is larger\n> than bitcoin's, and it's about an order of magnitude larger, at 50\n> years.\n\nMake that two coins. For DOGE it is 33 years."
            },
            {
                "author": "Gino Pinuto",
                "date": "2022-07-13T12:11:59",
                "message_text_only": "What about burning all fees and keep a block reward that will smooth out\nwhile keeping the ~21M coins limit ?\n\nBenefits :\n- Miners would still be incentivized to collect higher fees transaction\nwith the indirect perspective to generate more reward in future.\n- Revenues are equally distributed over time to all participants and we\nsolve the overnight discrepancy.\n- Increased velocity of money will reduce the immediate supply of bitcoin\ncooling down the economy.\n- Reduction of velocity will have an impact on miners only if it persevere\nin the long term but short term they will still perceive the buffered\nreward.\n\nI don't have ideas yet on how to elegantly implement this.\n\n\nOn Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> > The emission curve lasts over 100 years because Bitcoin success state\n> requires it to be entrenched globally.\n>\n> It effectively doesn't. The last 100 years from 2040-2140 only emits a\n> pittance of about 0.4 of all bitcoin.\n>\n> What matters for proper distribution is the shape of the emission\n> curve. If you emit 99% in the first year and 1% in the next 100 years,\n> your emission \"lasts\" over 100 years, and you achieve a super low\n> supply inflation rate immediately after 1 year, but it's obviously a\n> terrible form of distribution.\n>\n> This is easy to quantify as the expected time of emission which would\n> be 0.99 * 0.5yr + 0.01* 51yr = 2 years.\n> Bitcoin is not much better in that the expected time of emission of an\n> bitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n>\n> Monero appears much better since its tail emission yields an infinite\n> expected time of emission, but if we avoid infinities by looking at\n> just the soft total emission [1], which is all that is emitted before\n> a 1% yearly inflation, then Monero is seen to actually be a lot worse\n> than Bitcoin, due to emitting over 40% in its first year and halving\n> the reward much faster. Ethereum is much worse still with its huge\n> premine and PoS coins like Algorand are scraping the bottom with their\n> expected emission time of 0.\n>\n> There's only one coin whose expected (soft) emission time is larger\n> than bitcoin's, and it's about an order of magnitude larger, at 50\n> years.\n>\n> [1]\n> https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220713/66fdc965/attachment.html>"
            },
            {
                "author": "Manuel Costa",
                "date": "2022-07-13T13:29:43",
                "message_text_only": "> What about burning all fees and keep a block reward that will smooth out\nwhile keeping the ~21M coins limit ?\n\nThis would be a hard fork afaict as it would go against the rules of the\ncoinbase transaction following the usual halving schedule.\n\nHowever, if instead we added a rule that fees have to be sent to an anyone\ncan spend output with a timelock we might be able to achieve a similar\nthing.\n\nHighly inefficient example:\n\n- Split blocks into 144 (about a day)\n- A mined block takes all the fees and distributes them equally into 144\nnew outputs (anyone can spend) time locked to each of the 144 blocks of the\nnext day.\n- Next day, for each block, we'd have available an amount equivalent to the\nprevious day total fees / 144. So we deliver previous day's fees smoothed\nout.\n\nNotes:\n144 is arbitrary in the example.\nThis specific approach would obviously not work as most of those outputs\nwould be dust and the miner would need to waste an absurd amount of block\nspace just to grab them, but maybe there's a smarter way to do it.\n\n\nGino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\nescreveu no dia quarta, 13/07/2022 \u00e0(s) 13:19:\n\n> What about burning all fees and keep a block reward that will smooth out\n> while keeping the ~21M coins limit ?\n>\n> Benefits :\n> - Miners would still be incentivized to collect higher fees transaction\n> with the indirect perspective to generate more reward in future.\n> - Revenues are equally distributed over time to all participants and we\n> solve the overnight discrepancy.\n> - Increased velocity of money will reduce the immediate supply of bitcoin\n> cooling down the economy.\n> - Reduction of velocity will have an impact on miners only if it persevere\n> in the long term but short term they will still perceive the buffered\n> reward.\n>\n> I don't have ideas yet on how to elegantly implement this.\n>\n>\n> On Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> > The emission curve lasts over 100 years because Bitcoin success state\n>> requires it to be entrenched globally.\n>>\n>> It effectively doesn't. The last 100 years from 2040-2140 only emits a\n>> pittance of about 0.4 of all bitcoin.\n>>\n>> What matters for proper distribution is the shape of the emission\n>> curve. If you emit 99% in the first year and 1% in the next 100 years,\n>> your emission \"lasts\" over 100 years, and you achieve a super low\n>> supply inflation rate immediately after 1 year, but it's obviously a\n>> terrible form of distribution.\n>>\n>> This is easy to quantify as the expected time of emission which would\n>> be 0.99 * 0.5yr + 0.01* 51yr = 2 years.\n>> Bitcoin is not much better in that the expected time of emission of an\n>> bitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n>>\n>> Monero appears much better since its tail emission yields an infinite\n>> expected time of emission, but if we avoid infinities by looking at\n>> just the soft total emission [1], which is all that is emitted before\n>> a 1% yearly inflation, then Monero is seen to actually be a lot worse\n>> than Bitcoin, due to emitting over 40% in its first year and halving\n>> the reward much faster. Ethereum is much worse still with its huge\n>> premine and PoS coins like Algorand are scraping the bottom with their\n>> expected emission time of 0.\n>>\n>> There's only one coin whose expected (soft) emission time is larger\n>> than bitcoin's, and it's about an order of magnitude larger, at 50\n>> years.\n>>\n>> [1]\n>> https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220713/a72fcc5e/attachment-0001.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-14T09:33:13",
                "message_text_only": "> This specific approach would obviously not work as most of those outputs would be dust and the miner would need to waste an absurd amount of block space just to grab them, but maybe there's a smarter way to do it.\n\nThere is a smarter way. Just send 0.01 BTC per block to the timelocked outputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that percentage will grow over time, as basic block reward will shrink, and we will have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess what: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it simply means you can lock 2,100 BTC in an endless circulation loop, and avoid this \"tail supply attack\".\n\nSo, fortunately, even if \"tail supply attackers\" will win, we will still have a chance to counter-attack by burning those coins, or (even better) by locking them in an endless circulation loop, just to satisfy their malicious soft-fork, whatever amount it will require. Because even if it will be mandatory to timelock 0.01 BTC to the current block number plus 210,000, then it is still perfectly valid to move that amount endlessly, without taking it, just to resist this \"tail supply attack\".\n\n\nOn 2022-07-13 20:01:39 user Manuel Costa via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> What about burning all fees and keep a block reward that will smooth out while keeping the ~21M coins limit ?\n\nThis would be a hard fork afaict as it would go against the rules of the coinbase transaction following the usual halving schedule.\n\nHowever, if instead we added a rule that fees have to be sent to an anyone can spend output with a timelock we might be able to achieve a similar thing.\n\nHighly inefficient example:\n\n- Split blocks into 144 (about a day)\n- A mined block takes all the fees and distributes them equally into 144 new outputs (anyone can spend) time locked\u00a0to each of the 144 blocks of the next day.\n- Next day, for each block, we'd have available an amount equivalent to the previous day total fees / 144. So we deliver previous day's fees smoothed out.\n\nNotes:\n144 is arbitrary in the example.\nThis specific approach would obviously not work as\u00a0most of those outputs would be dust and the miner would need to waste an absurd\u00a0amount of block space just to grab them, but maybe there's a smarter way to do it.\n\n\n\n\nGino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> escreveu no dia quarta, 13/07/2022 \u00e0(s) 13:19:\nWhat about burning all fees and keep a block reward that will smooth out while keeping the ~21M coins limit ?\n\n\nBenefits :\n- Miners would still be incentivized to collect higher fees transaction with the indirect perspective to generate more reward in future.\n- Revenues are equally distributed over time to all participants and we solve the overnight discrepancy.\n- Increased velocity of money will reduce the immediate supply of bitcoin cooling down the economy.\n- Reduction of velocity will have an impact on miners only if it persevere in the long term but short term they will still perceive the buffered reward.\n\n\nI don't have ideas yet on how to elegantly implement this.\n\n\n\nOn Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> The emission curve lasts over 100 years because Bitcoin success state requires it to be entrenched globally.\n\nIt effectively doesn't. The last 100 years from 2040-2140 only emits a\npittance of about 0.4 of all bitcoin.\n\nWhat matters for proper distribution is the shape of the emission\ncurve. If you emit 99% in the first year and 1% in the next 100 years,\nyour emission \"lasts\" over 100 years, and you achieve a super low\nsupply inflation rate immediately after 1 year, but it's obviously a\nterrible form of distribution.\n\nThis is easy to quantify as the expected time of emission which would\nbe 0.99 * 0.5yr + 0.01* 51yr = 2 years.\nBitcoin is not much better in that the expected time of emission of an\nbitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n\nMonero appears much better since its tail emission yields an infinite\nexpected time of emission, but if we avoid infinities by looking at\njust the soft total emission [1], which is all that is emitted before\na 1% yearly inflation, then Monero is seen to actually be a lot worse\nthan Bitcoin, due to emitting over 40% in its first year and halving\nthe reward much faster. Ethereum is much worse still with its huge\npremine and PoS coins like Algorand are scraping the bottom with their\nexpected emission time of 0.\n\nThere's only one coin whose expected (soft) emission time is larger\nthan bitcoin's, and it's about an order of magnitude larger, at 50\nyears.\n\n[1] https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-14T09:57:41",
                "message_text_only": "Fees and miner rewards are not needed at all for security at all since long\nterm holders can simply invest in mining to secure the value of their stake.\n\nIsn't it enough that the protocol has a mechanism to secure value?\n\nSure fees *might* be enough.\n\nBut in the event that they are not, large holders can burn a bit to make\nsure the hashrate stays high.\n\nI know, I know it's a tax on the rich and it's not fair because smaller\nholders are less likely to do it, but it's a miniscule tax even in the\nworst case\n\n\n\n\n\n\n\n\n\nOn Thu, Jul 14, 2022, 5:35 AM vjudeu via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> > This specific approach would obviously not work as most of those outputs\n> would be dust and the miner would need to waste an absurd amount of block\n> space just to grab them, but maybe there's a smarter way to do it.\n>\n> There is a smarter way. Just send 0.01 BTC per block to the timelocked\n> outputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that\n> percentage will grow over time, as basic block reward will shrink, and we\n> will have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess\n> what: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it\n> simply means you can lock 2,100 BTC in an endless circulation loop, and\n> avoid this \"tail supply attack\".\n>\n> So, fortunately, even if \"tail supply attackers\" will win, we will still\n> have a chance to counter-attack by burning those coins, or (even better) by\n> locking them in an endless circulation loop, just to satisfy their\n> malicious soft-fork, whatever amount it will require. Because even if it\n> will be mandatory to timelock 0.01 BTC to the current block number plus\n> 210,000, then it is still perfectly valid to move that amount endlessly,\n> without taking it, just to resist this \"tail supply attack\".\n>\n>\n> On 2022-07-13 20:01:39 user Manuel Costa via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> > What about burning all fees and keep a block reward that will smooth out\n> while keeping the ~21M coins limit ?\n>\n> This would be a hard fork afaict as it would go against the rules of the\n> coinbase transaction following the usual halving schedule.\n>\n> However, if instead we added a rule that fees have to be sent to an anyone\n> can spend output with a timelock we might be able to achieve a similar\n> thing.\n>\n> Highly inefficient example:\n>\n> - Split blocks into 144 (about a day)\n> - A mined block takes all the fees and distributes them equally into 144\n> new outputs (anyone can spend) time locked to each of the 144 blocks of the\n> next day.\n> - Next day, for each block, we'd have available an amount equivalent to\n> the previous day total fees / 144. So we deliver previous day's fees\n> smoothed out.\n>\n> Notes:\n> 144 is arbitrary in the example.\n> This specific approach would obviously not work as most of those outputs\n> would be dust and the miner would need to waste an absurd amount of block\n> space just to grab them, but maybe there's a smarter way to do it.\n>\n>\n>\n>\n> Gino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\n> escreveu no dia quarta, 13/07/2022 \u00e0(s) 13:19:\n> What about burning all fees and keep a block reward that will smooth out\n> while keeping the ~21M coins limit ?\n>\n>\n> Benefits :\n> - Miners would still be incentivized to collect higher fees transaction\n> with the indirect perspective to generate more reward in future.\n> - Revenues are equally distributed over time to all participants and we\n> solve the overnight discrepancy.\n> - Increased velocity of money will reduce the immediate supply of bitcoin\n> cooling down the economy.\n> - Reduction of velocity will have an impact on miners only if it persevere\n> in the long term but short term they will still perceive the buffered\n> reward.\n>\n>\n> I don't have ideas yet on how to elegantly implement this.\n>\n>\n>\n> On Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n> > The emission curve lasts over 100 years because Bitcoin success state\n> requires it to be entrenched globally.\n>\n> It effectively doesn't. The last 100 years from 2040-2140 only emits a\n> pittance of about 0.4 of all bitcoin.\n>\n> What matters for proper distribution is the shape of the emission\n> curve. If you emit 99% in the first year and 1% in the next 100 years,\n> your emission \"lasts\" over 100 years, and you achieve a super low\n> supply inflation rate immediately after 1 year, but it's obviously a\n> terrible form of distribution.\n>\n> This is easy to quantify as the expected time of emission which would\n> be 0.99 * 0.5yr + 0.01* 51yr = 2 years.\n> Bitcoin is not much better in that the expected time of emission of an\n> bitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n>\n> Monero appears much better since its tail emission yields an infinite\n> expected time of emission, but if we avoid infinities by looking at\n> just the soft total emission [1], which is all that is emitted before\n> a 1% yearly inflation, then Monero is seen to actually be a lot worse\n> than Bitcoin, due to emitting over 40% in its first year and halving\n> the reward much faster. Ethereum is much worse still with its huge\n> premine and PoS coins like Algorand are scraping the bottom with their\n> expected emission time of 0.\n>\n> There's only one coin whose expected (soft) emission time is larger\n> than bitcoin's, and it's about an order of magnitude larger, at 50\n> years.\n>\n> [1]\n> https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220714/75951273/attachment-0001.html>"
            },
            {
                "author": "Gino Pinuto",
                "date": "2022-07-14T11:42:56",
                "message_text_only": "This is not an argument in line with bitcoin values, on that scenario only\nrich people will be able to mine and participate to the consensus process.\nLike George Soros today, he use its financial reserves to monopolize ONG in\norder to manipulate nation states. I would not define this a \"tax\",\nmoreover a cost to maintain control over the network.\n\nThose rich holders could crate a cartel and without market dynamics all\ngame theory stop to work and the bitcoin network value drop.\n\nWe should think about how to maximise the network value instead of trying\nto preserve it with corruptible practices outside of market dynamics\nprinciples.\n\nOn Thu, 14 Jul 2022, 12:53 Erik Aronesty via bitcoin-dev, <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Fees and miner rewards are not needed at all for security at all since\n> long term holders can simply invest in mining to secure the value of their\n> stake.\n>\n> Isn't it enough that the protocol has a mechanism to secure value?\n>\n> Sure fees *might* be enough.\n>\n> But in the event that they are not, large holders can burn a bit to make\n> sure the hashrate stays high.\n>\n> I know, I know it's a tax on the rich and it's not fair because smaller\n> holders are less likely to do it, but it's a miniscule tax even in the\n> worst case\n>\n>\n>\n>\n>\n>\n>\n>\n>\n> On Thu, Jul 14, 2022, 5:35 AM vjudeu via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> > This specific approach would obviously not work as most of those\n>> outputs would be dust and the miner would need to waste an absurd amount of\n>> block space just to grab them, but maybe there's a smarter way to do it.\n>>\n>> There is a smarter way. Just send 0.01 BTC per block to the timelocked\n>> outputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that\n>> percentage will grow over time, as basic block reward will shrink, and we\n>> will have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess\n>> what: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it\n>> simply means you can lock 2,100 BTC in an endless circulation loop, and\n>> avoid this \"tail supply attack\".\n>>\n>> So, fortunately, even if \"tail supply attackers\" will win, we will still\n>> have a chance to counter-attack by burning those coins, or (even better) by\n>> locking them in an endless circulation loop, just to satisfy their\n>> malicious soft-fork, whatever amount it will require. Because even if it\n>> will be mandatory to timelock 0.01 BTC to the current block number plus\n>> 210,000, then it is still perfectly valid to move that amount endlessly,\n>> without taking it, just to resist this \"tail supply attack\".\n>>\n>>\n>> On 2022-07-13 20:01:39 user Manuel Costa via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> > What about burning all fees and keep a block reward that will smooth\n>> out while keeping the ~21M coins limit ?\n>>\n>> This would be a hard fork afaict as it would go against the rules of the\n>> coinbase transaction following the usual halving schedule.\n>>\n>> However, if instead we added a rule that fees have to be sent to an\n>> anyone can spend output with a timelock we might be able to achieve a\n>> similar thing.\n>>\n>> Highly inefficient example:\n>>\n>> - Split blocks into 144 (about a day)\n>> - A mined block takes all the fees and distributes them equally into 144\n>> new outputs (anyone can spend) time locked to each of the 144 blocks of the\n>> next day.\n>> - Next day, for each block, we'd have available an amount equivalent to\n>> the previous day total fees / 144. So we deliver previous day's fees\n>> smoothed out.\n>>\n>> Notes:\n>> 144 is arbitrary in the example.\n>> This specific approach would obviously not work as most of those outputs\n>> would be dust and the miner would need to waste an absurd amount of block\n>> space just to grab them, but maybe there's a smarter way to do it.\n>>\n>>\n>>\n>>\n>> Gino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\n>> escreveu no dia quarta, 13/07/2022 \u00e0(s) 13:19:\n>> What about burning all fees and keep a block reward that will smooth out\n>> while keeping the ~21M coins limit ?\n>>\n>>\n>> Benefits :\n>> - Miners would still be incentivized to collect higher fees transaction\n>> with the indirect perspective to generate more reward in future.\n>> - Revenues are equally distributed over time to all participants and we\n>> solve the overnight discrepancy.\n>> - Increased velocity of money will reduce the immediate supply of bitcoin\n>> cooling down the economy.\n>> - Reduction of velocity will have an impact on miners only if it\n>> persevere in the long term but short term they will still perceive the\n>> buffered reward.\n>>\n>>\n>> I don't have ideas yet on how to elegantly implement this.\n>>\n>>\n>>\n>> On Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> > The emission curve lasts over 100 years because Bitcoin success state\n>> requires it to be entrenched globally.\n>>\n>> It effectively doesn't. The last 100 years from 2040-2140 only emits a\n>> pittance of about 0.4 of all bitcoin.\n>>\n>> What matters for proper distribution is the shape of the emission\n>> curve. If you emit 99% in the first year and 1% in the next 100 years,\n>> your emission \"lasts\" over 100 years, and you achieve a super low\n>> supply inflation rate immediately after 1 year, but it's obviously a\n>> terrible form of distribution.\n>>\n>> This is easy to quantify as the expected time of emission which would\n>> be 0.99 * 0.5yr + 0.01* 51yr = 2 years.\n>> Bitcoin is not much better in that the expected time of emission of an\n>> bitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n>>\n>> Monero appears much better since its tail emission yields an infinite\n>> expected time of emission, but if we avoid infinities by looking at\n>> just the soft total emission [1], which is all that is emitted before\n>> a 1% yearly inflation, then Monero is seen to actually be a lot worse\n>> than Bitcoin, due to emitting over 40% in its first year and halving\n>> the reward much faster. Ethereum is much worse still with its huge\n>> premine and PoS coins like Algorand are scraping the bottom with their\n>> expected emission time of 0.\n>>\n>> There's only one coin whose expected (soft) emission time is larger\n>> than bitcoin's, and it's about an order of magnitude larger, at 50\n>> years.\n>>\n>> [1]\n>> https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220714/26ddeac0/attachment.html>"
            },
            {
                "author": "Erik Aronesty",
                "date": "2022-07-14T16:01:39",
                "message_text_only": "it's in line with the values of\n\n - immutable supply\n - enforced by the game theory of hard money\n\nand no, it's not only \"rich holders\"... i mine, and lots of people i know do\n\nit's certainly more decentralized than the alternatives\n\n\n\n\nOn Thu, Jul 14, 2022 at 7:43 AM Gino Pinuto <gino.pinuto at gmail.com> wrote:\n\n> This is not an argument in line with bitcoin values, on that scenario only\n> rich people will be able to mine and participate to the consensus process.\n> Like George Soros today, he use its financial reserves to monopolize ONG\n> in order to manipulate nation states. I would not define this a \"tax\",\n> moreover a cost to maintain control over the network.\n>\n> Those rich holders could crate a cartel and without market dynamics all\n> game theory stop to work and the bitcoin network value drop.\n>\n> We should think about how to maximise the network value instead of trying\n> to preserve it with corruptible practices outside of market dynamics\n> principles.\n>\n> On Thu, 14 Jul 2022, 12:53 Erik Aronesty via bitcoin-dev, <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Fees and miner rewards are not needed at all for security at all since\n>> long term holders can simply invest in mining to secure the value of their\n>> stake.\n>>\n>> Isn't it enough that the protocol has a mechanism to secure value?\n>>\n>> Sure fees *might* be enough.\n>>\n>> But in the event that they are not, large holders can burn a bit to make\n>> sure the hashrate stays high.\n>>\n>> I know, I know it's a tax on the rich and it's not fair because smaller\n>> holders are less likely to do it, but it's a miniscule tax even in the\n>> worst case\n>>\n>>\n>>\n>>\n>>\n>>\n>>\n>>\n>>\n>> On Thu, Jul 14, 2022, 5:35 AM vjudeu via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>> > This specific approach would obviously not work as most of those\n>>> outputs would be dust and the miner would need to waste an absurd amount of\n>>> block space just to grab them, but maybe there's a smarter way to do it.\n>>>\n>>> There is a smarter way. Just send 0.01 BTC per block to the timelocked\n>>> outputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that\n>>> percentage will grow over time, as basic block reward will shrink, and we\n>>> will have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess\n>>> what: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it\n>>> simply means you can lock 2,100 BTC in an endless circulation loop, and\n>>> avoid this \"tail supply attack\".\n>>>\n>>> So, fortunately, even if \"tail supply attackers\" will win, we will still\n>>> have a chance to counter-attack by burning those coins, or (even better) by\n>>> locking them in an endless circulation loop, just to satisfy their\n>>> malicious soft-fork, whatever amount it will require. Because even if it\n>>> will be mandatory to timelock 0.01 BTC to the current block number plus\n>>> 210,000, then it is still perfectly valid to move that amount endlessly,\n>>> without taking it, just to resist this \"tail supply attack\".\n>>>\n>>>\n>>> On 2022-07-13 20:01:39 user Manuel Costa via bitcoin-dev <\n>>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>> > What about burning all fees and keep a block reward that will smooth\n>>> out while keeping the ~21M coins limit ?\n>>>\n>>> This would be a hard fork afaict as it would go against the rules of the\n>>> coinbase transaction following the usual halving schedule.\n>>>\n>>> However, if instead we added a rule that fees have to be sent to an\n>>> anyone can spend output with a timelock we might be able to achieve a\n>>> similar thing.\n>>>\n>>> Highly inefficient example:\n>>>\n>>> - Split blocks into 144 (about a day)\n>>> - A mined block takes all the fees and distributes them equally into 144\n>>> new outputs (anyone can spend) time locked to each of the 144 blocks of the\n>>> next day.\n>>> - Next day, for each block, we'd have available an amount equivalent to\n>>> the previous day total fees / 144. So we deliver previous day's fees\n>>> smoothed out.\n>>>\n>>> Notes:\n>>> 144 is arbitrary in the example.\n>>> This specific approach would obviously not work as most of those outputs\n>>> would be dust and the miner would need to waste an absurd amount of block\n>>> space just to grab them, but maybe there's a smarter way to do it.\n>>>\n>>>\n>>>\n>>>\n>>> Gino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\n>>> escreveu no dia quarta, 13/07/2022 \u00e0(s) 13:19:\n>>> What about burning all fees and keep a block reward that will smooth out\n>>> while keeping the ~21M coins limit ?\n>>>\n>>>\n>>> Benefits :\n>>> - Miners would still be incentivized to collect higher fees transaction\n>>> with the indirect perspective to generate more reward in future.\n>>> - Revenues are equally distributed over time to all participants and we\n>>> solve the overnight discrepancy.\n>>> - Increased velocity of money will reduce the immediate supply of\n>>> bitcoin cooling down the economy.\n>>> - Reduction of velocity will have an impact on miners only if it\n>>> persevere in the long term but short term they will still perceive the\n>>> buffered reward.\n>>>\n>>>\n>>> I don't have ideas yet on how to elegantly implement this.\n>>>\n>>>\n>>>\n>>> On Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <\n>>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>> > The emission curve lasts over 100 years because Bitcoin success state\n>>> requires it to be entrenched globally.\n>>>\n>>> It effectively doesn't. The last 100 years from 2040-2140 only emits a\n>>> pittance of about 0.4 of all bitcoin.\n>>>\n>>> What matters for proper distribution is the shape of the emission\n>>> curve. If you emit 99% in the first year and 1% in the next 100 years,\n>>> your emission \"lasts\" over 100 years, and you achieve a super low\n>>> supply inflation rate immediately after 1 year, but it's obviously a\n>>> terrible form of distribution.\n>>>\n>>> This is easy to quantify as the expected time of emission which would\n>>> be 0.99 * 0.5yr + 0.01* 51yr = 2 years.\n>>> Bitcoin is not much better in that the expected time of emission of an\n>>> bitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n>>>\n>>> Monero appears much better since its tail emission yields an infinite\n>>> expected time of emission, but if we avoid infinities by looking at\n>>> just the soft total emission [1], which is all that is emitted before\n>>> a 1% yearly inflation, then Monero is seen to actually be a lot worse\n>>> than Bitcoin, due to emitting over 40% in its first year and halving\n>>> the reward much faster. Ethereum is much worse still with its huge\n>>> premine and PoS coins like Algorand are scraping the bottom with their\n>>> expected emission time of 0.\n>>>\n>>> There's only one coin whose expected (soft) emission time is larger\n>>> than bitcoin's, and it's about an order of magnitude larger, at 50\n>>> years.\n>>>\n>>> [1]\n>>> https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220714/9baac65d/attachment-0001.html>"
            },
            {
                "author": "Manuel Costa",
                "date": "2022-07-14T16:27:55",
                "message_text_only": "> There is a smarter way. Just send 0.01 BTC per block to the timelocked\noutputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that\npercentage will grow over time, as basic block reward will shrink, and we\nwill have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess\nwhat: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it\nsimply means you can lock 2,100 BTC in an endless circulation loop, and\navoid this \"tail supply attack\".\n\nMy understanding of this is that it would basically remove 0.01 BTC rewards\nfrom the next 210k blocks, and then do nothing.\nAfter 210k blocks have passed, you're just rolling it forward, taking from\nthe anyone can spend output and locking it in a new one for 210k blocks\nfrom now.\nYou're basically just using the next 210k block's reward to create a stash\nof forever locked coins in a loop.\nUnsure how this solves or relates to the smoothing of block rewards. Let me\nknow if I misunderstood.\n\nGino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\nescreveu no dia quinta, 14/07/2022 \u00e0(s) 13:18:\n\n> This is not an argument in line with bitcoin values, on that scenario only\n> rich people will be able to mine and participate to the consensus process.\n> Like George Soros today, he use its financial reserves to monopolize ONG\n> in order to manipulate nation states. I would not define this a \"tax\",\n> moreover a cost to maintain control over the network.\n>\n> Those rich holders could crate a cartel and without market dynamics all\n> game theory stop to work and the bitcoin network value drop.\n>\n> We should think about how to maximise the network value instead of trying\n> to preserve it with corruptible practices outside of market dynamics\n> principles.\n>\n> On Thu, 14 Jul 2022, 12:53 Erik Aronesty via bitcoin-dev, <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Fees and miner rewards are not needed at all for security at all since\n>> long term holders can simply invest in mining to secure the value of their\n>> stake.\n>>\n>> Isn't it enough that the protocol has a mechanism to secure value?\n>>\n>> Sure fees *might* be enough.\n>>\n>> But in the event that they are not, large holders can burn a bit to make\n>> sure the hashrate stays high.\n>>\n>> I know, I know it's a tax on the rich and it's not fair because smaller\n>> holders are less likely to do it, but it's a miniscule tax even in the\n>> worst case\n>>\n>>\n>>\n>>\n>>\n>>\n>>\n>>\n>>\n>> On Thu, Jul 14, 2022, 5:35 AM vjudeu via bitcoin-dev <\n>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>> > This specific approach would obviously not work as most of those\n>>> outputs would be dust and the miner would need to waste an absurd amount of\n>>> block space just to grab them, but maybe there's a smarter way to do it.\n>>>\n>>> There is a smarter way. Just send 0.01 BTC per block to the timelocked\n>>> outputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that\n>>> percentage will grow over time, as basic block reward will shrink, and we\n>>> will have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess\n>>> what: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it\n>>> simply means you can lock 2,100 BTC in an endless circulation loop, and\n>>> avoid this \"tail supply attack\".\n>>>\n>>> So, fortunately, even if \"tail supply attackers\" will win, we will still\n>>> have a chance to counter-attack by burning those coins, or (even better) by\n>>> locking them in an endless circulation loop, just to satisfy their\n>>> malicious soft-fork, whatever amount it will require. Because even if it\n>>> will be mandatory to timelock 0.01 BTC to the current block number plus\n>>> 210,000, then it is still perfectly valid to move that amount endlessly,\n>>> without taking it, just to resist this \"tail supply attack\".\n>>>\n>>>\n>>> On 2022-07-13 20:01:39 user Manuel Costa via bitcoin-dev <\n>>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>> > What about burning all fees and keep a block reward that will smooth\n>>> out while keeping the ~21M coins limit ?\n>>>\n>>> This would be a hard fork afaict as it would go against the rules of the\n>>> coinbase transaction following the usual halving schedule.\n>>>\n>>> However, if instead we added a rule that fees have to be sent to an\n>>> anyone can spend output with a timelock we might be able to achieve a\n>>> similar thing.\n>>>\n>>> Highly inefficient example:\n>>>\n>>> - Split blocks into 144 (about a day)\n>>> - A mined block takes all the fees and distributes them equally into 144\n>>> new outputs (anyone can spend) time locked to each of the 144 blocks of the\n>>> next day.\n>>> - Next day, for each block, we'd have available an amount equivalent to\n>>> the previous day total fees / 144. So we deliver previous day's fees\n>>> smoothed out.\n>>>\n>>> Notes:\n>>> 144 is arbitrary in the example.\n>>> This specific approach would obviously not work as most of those outputs\n>>> would be dust and the miner would need to waste an absurd amount of block\n>>> space just to grab them, but maybe there's a smarter way to do it.\n>>>\n>>>\n>>>\n>>>\n>>> Gino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\n>>> escreveu no dia quarta, 13/07/2022 \u00e0(s) 13:19:\n>>> What about burning all fees and keep a block reward that will smooth out\n>>> while keeping the ~21M coins limit ?\n>>>\n>>>\n>>> Benefits :\n>>> - Miners would still be incentivized to collect higher fees transaction\n>>> with the indirect perspective to generate more reward in future.\n>>> - Revenues are equally distributed over time to all participants and we\n>>> solve the overnight discrepancy.\n>>> - Increased velocity of money will reduce the immediate supply of\n>>> bitcoin cooling down the economy.\n>>> - Reduction of velocity will have an impact on miners only if it\n>>> persevere in the long term but short term they will still perceive the\n>>> buffered reward.\n>>>\n>>>\n>>> I don't have ideas yet on how to elegantly implement this.\n>>>\n>>>\n>>>\n>>> On Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <\n>>> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>> > The emission curve lasts over 100 years because Bitcoin success state\n>>> requires it to be entrenched globally.\n>>>\n>>> It effectively doesn't. The last 100 years from 2040-2140 only emits a\n>>> pittance of about 0.4 of all bitcoin.\n>>>\n>>> What matters for proper distribution is the shape of the emission\n>>> curve. If you emit 99% in the first year and 1% in the next 100 years,\n>>> your emission \"lasts\" over 100 years, and you achieve a super low\n>>> supply inflation rate immediately after 1 year, but it's obviously a\n>>> terrible form of distribution.\n>>>\n>>> This is easy to quantify as the expected time of emission which would\n>>> be 0.99 * 0.5yr + 0.01* 51yr = 2 years.\n>>> Bitcoin is not much better in that the expected time of emission of an\n>>> bitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n>>>\n>>> Monero appears much better since its tail emission yields an infinite\n>>> expected time of emission, but if we avoid infinities by looking at\n>>> just the soft total emission [1], which is all that is emitted before\n>>> a 1% yearly inflation, then Monero is seen to actually be a lot worse\n>>> than Bitcoin, due to emitting over 40% in its first year and halving\n>>> the reward much faster. Ethereum is much worse still with its huge\n>>> premine and PoS coins like Algorand are scraping the bottom with their\n>>> expected emission time of 0.\n>>>\n>>> There's only one coin whose expected (soft) emission time is larger\n>>> than bitcoin's, and it's about an order of magnitude larger, at 50\n>>> years.\n>>>\n>>> [1]\n>>> https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220714/c61c1ae4/attachment.html>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-15T06:03:57",
                "message_text_only": "> Unsure how this solves or relates to the smoothing of block rewards. Let me know if I misunderstood.\n\nThis example shows clearly that even if tail supply supporters will win, then no matter how they will introduce new coins to the system, we can still resist that attack by burning those coins, or by locking them in some endless loop, to make it compatible with their malicious soft-fork (because I don't think the community will agree on some hard-fork, when none is needed).\n\nAnd when it comes to smoothing rewards, then if you decide, that for example any miner can take only 0.01 BTC, and the rest should be timelocked to the future blocks, then it will make block rewards more smooth. So, when it comes to making fees more smooth, it is only a matter of choosing the right amount, that miners can agree to introduce (because reducing 6.25 BTC plus fees into 0.01 BTC now, and getting a promise that the block reward will never go below 0.01 BTC, is not something they are likely to support, so different amounts should be chosen).\n\n\nOn 2022-07-14 18:34:24 user Manuel Costa via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> There is a smarter way. Just send 0.01 BTC per block to the timelocked outputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that percentage will grow over time, as basic block reward will shrink, and we will have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess what: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it simply means you can lock 2,100 BTC in an endless circulation loop, and avoid this \"tail supply attack\".\n\nMy understanding of this is that it would basically remove 0.01 BTC rewards from the next 210k blocks, and then do nothing.\nAfter 210k blocks have passed, you're just rolling it forward, taking from the anyone can spend output and locking it in a new one for 210k blocks from now.\nYou're basically just using the next 210k block's reward to create a stash of forever locked coins in a loop.\nUnsure how this solves or relates to the smoothing of block rewards. Let me know if I misunderstood.\n\n\nGino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> escreveu no dia quinta, 14/07/2022 \u00e0(s) 13:18:\nThis is not an argument in line with bitcoin values, on that scenario only rich people will be able to mine and participate to the consensus process.\nLike George Soros today, he use its financial reserves to monopolize ONG in order to manipulate nation states. I would not define this a \"tax\", moreover a cost to maintain control over the network.\n\n\nThose rich holders could crate a cartel and without market dynamics all game theory stop to work and the bitcoin network value drop.\n\n\nWe should think about how to maximise the network value instead of trying to preserve it with corruptible practices outside of market dynamics principles.\n\n\nOn Thu, 14 Jul 2022, 12:53 Erik Aronesty via bitcoin-dev, <bitcoin-dev at lists.linuxfoundation.org> wrote:\nFees and miner rewards are not needed at all for security at all since long term holders can simply invest in mining to secure the value of their stake.\n\n\nIsn't it enough that the protocol has a mechanism to secure value?\n\n\nSure fees *might* be enough.\u00a0\u00a0\n\n\nBut in the event that they are not, large holders can burn a bit to make sure the hashrate stays high.\n\n\nI know, I know it's a tax on the rich and it's not fair because smaller holders are less likely to do it, but it's a miniscule tax even in the worst case\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOn Thu, Jul 14, 2022, 5:35 AM vjudeu via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> This specific approach would obviously not work as most of those outputs would be dust and the miner would need to waste an absurd amount of block space just to grab them, but maybe there's a smarter way to do it.\n\nThere is a smarter way. Just send 0.01 BTC per block to the timelocked outputs. Now, we have 6.25 BTC, so it means less than 0.2%. But that percentage will grow over time, as basic block reward will shrink, and we will have mandatory 0.01 BTC endlessly moved, until it will wrap. And guess what: if it will be 0.01 BTC per block, wrapped every 210,000 blocks, it simply means you can lock 2,100 BTC in an endless circulation loop, and avoid this \"tail supply attack\".\n\nSo, fortunately, even if \"tail supply attackers\" will win, we will still have a chance to counter-attack by burning those coins, or (even better) by locking them in an endless circulation loop, just to satisfy their malicious soft-fork, whatever amount it will require. Because even if it will be mandatory to timelock 0.01 BTC to the current block number plus 210,000, then it is still perfectly valid to move that amount endlessly, without taking it, just to resist this \"tail supply attack\".\n\n\nOn 2022-07-13 20:01:39 user Manuel Costa via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> What about burning all fees and keep a block reward that will smooth out while keeping the ~21M coins limit ?\n\nThis would be a hard fork afaict as it would go against the rules of the coinbase transaction following the usual halving schedule.\n\nHowever, if instead we added a rule that fees have to be sent to an anyone can spend output with a timelock we might be able to achieve a similar thing.\n\nHighly inefficient example:\n\n- Split blocks into 144 (about a day)\n- A mined block takes all the fees and distributes them equally into 144 new outputs (anyone can spend) time locked\u00a0to each of the 144 blocks of the next day.\n- Next day, for each block, we'd have available an amount equivalent to the previous day total fees / 144. So we deliver previous day's fees smoothed out.\n\nNotes:\n144 is arbitrary in the example.\nThis specific approach would obviously not work as\u00a0most of those outputs would be dust and the miner would need to waste an absurd\u00a0amount of block space just to grab them, but maybe there's a smarter way to do it.\n\n\n\n\nGino Pinuto via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> escreveu no dia quarta, 13/07/2022 \u00e0(s) 13:19:\nWhat about burning all fees and keep a block reward that will smooth out while keeping the ~21M coins limit ?\n\n\nBenefits :\n- Miners would still be incentivized to collect higher fees transaction with the indirect perspective to generate more reward in future.\n- Revenues are equally distributed over time to all participants and we solve the overnight discrepancy.\n- Increased velocity of money will reduce the immediate supply of bitcoin cooling down the economy.\n- Reduction of velocity will have an impact on miners only if it persevere in the long term but short term they will still perceive the buffered reward.\n\n\nI don't have ideas yet on how to elegantly implement this.\n\n\n\nOn Wed, 13 Jul 2022, 12:08 John Tromp via bitcoin-dev, <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> The emission curve lasts over 100 years because Bitcoin success state requires it to be entrenched globally.\n\nIt effectively doesn't. The last 100 years from 2040-2140 only emits a\npittance of about 0.4 of all bitcoin.\n\nWhat matters for proper distribution is the shape of the emission\ncurve. If you emit 99% in the first year and 1% in the next 100 years,\nyour emission \"lasts\" over 100 years, and you achieve a super low\nsupply inflation rate immediately after 1 year, but it's obviously a\nterrible form of distribution.\n\nThis is easy to quantify as the expected time of emission which would\nbe 0.99 * 0.5yr + 0.01* 51yr = 2 years.\nBitcoin is not much better in that the expected time of emission of an\nbitcoin satisfies x = 0.5*2yr + 0.5*(4+x) and thus equals 6 years.\n\nMonero appears much better since its tail emission yields an infinite\nexpected time of emission, but if we avoid infinities by looking at\njust the soft total emission [1], which is all that is emitted before\na 1% yearly inflation, then Monero is seen to actually be a lot worse\nthan Bitcoin, due to emitting over 40% in its first year and halving\nthe reward much faster. Ethereum is much worse still with its huge\npremine and PoS coins like Algorand are scraping the bottom with their\nexpected emission time of 0.\n\nThere's only one coin whose expected (soft) emission time is larger\nthan bitcoin's, and it's about an order of magnitude larger, at 50\nyears.\n\n[1] https://john-tromp.medium.com/a-case-for-using-soft-total-supply-1169a188d153\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "Security problems with relying on transaction fees for security",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Ryan Grant",
                "Manuel Costa",
                "micaroni at gmail.com",
                "Pox",
                "Anthony Towns",
                "Gino Pinuto",
                "Peter Todd",
                "Peter",
                "Russell O'Connor",
                "vjudeu at gazeta.pl",
                "Erik Aronesty",
                "James MacWhyte",
                "John Tromp",
                "Bram Cohen",
                "Tom Harding"
            ],
            "messages_count": 35,
            "total_messages_chars_count": 110016
        }
    },
    {
        "title": "[bitcoin-dev] Full Disclosure: Denial of Service in STONEWALLx2 (p2p coinjoin)",
        "thread_messages": [
            {
                "author": "alicexbt",
                "date": "2022-07-14T09:25:56",
                "message_text_only": "Hi bitcoin-dev list members,\n\n\nSTONEWALLx2[1] is a p2p coinjoin transaction in Samourai wallet. The miner fee is split between both participants of the transaction.\n\n\n==========================\nProblem\n==========================\n\nAntoine Riard shared the details of DoS attack in an [email][2] on 21 June 2022.\n\nProof of Concept:\n\n1) Download Samourai APK, create testnet wallet, get some coins from faucet and claim a paynym in 2 android devices. Consider Bob and Carol are using these devices.\n\n2) Bob and Carol follow each other's paynyms. Carol is the attacker in this case and she could make several paynyms.\n\n3) Bob initiates a Stonewallx2 transaction that requires collaboration with Carol.\n\n4) Carol confirms this request in the app.\n\n5) Carol spends the UTXO from wallet configured in electrum with same seed before Bob could complete the last step and broadcast STONEWALLx2 transaction. It was non RBF [transaction][3] with 1 sat/vbyte fee rate and was unconfirmed during testing.\n\n6) Bob receives an [error][4] in the app when trying to broadcast Stonewallx2 transaction which disappears in a few seconds. The [progress bar][5] appears as if wallet is still trying to broadcast the transaction until Bob manually go back or close the app.\n\n\n==========================\nSolution\n==========================\n\nSuggestions:\n\na) Error message that states collaborator spent her UTXO used in STONEWALLx2, end the p2p coinjoin process, unfollow collaborator's paynym and suggest user to do such transactions with trusted users only for a while.\n\nb) Once full RBF is used by some nodes and miners, attacker's transaction could be replaced with a higher fee rate.\n\nConclusions by Samourai:\n\na) As the threat involves the collaborator attacking the spender. We strongly advise that collab spends be done w/ counterparties with which some measure of trust is shared. As such, this does not seem to have an important threat surface.\n\nb) Bumping fee won't be simple as fees are shared 50/50 for STONEWALLx2 spends. Change would have to be recalculated for both spender and collaborator. Collab would either have had already authorized a possible fee bump beforehand or would have to be prompted before broadcast.\n\n\n==========================\nTimeline\n==========================\n\n22 June 2022: I emailed Antoine after testing STONEWALLx2\n\n23 June 2022: I shared the details of attack in a confidential issue in Samourai wallet [repository][6]\n\n07 July 2022: TDevD (Samourai) acknowledged the issue and wanted to discuss it internally with team\n\n14 July 2022: TDevD shared the conclusions\n\n\n==========================\nCredits\n==========================\n\nAntoine Riard discovered DoS vector in p2p coinjoin transactions and helped by responding to emails during testing.\n\n\n[1]: https://docs.samourai.io/spend-tools\n[2]: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020595.html\n[3]: https://mempool.space/testnet/tx/42db696460a46f196f457779d60acbf46b31accc5414b9eac54b2e785d4c1cbb\n[4]: https://i.imgur.com/6uf3VJn.png\n[5]: https://i.imgur.com/W6ITl4G.gif\n[6]: https://code.samourai.io/wallet/samourai-wallet-android\n\n\n/dev/fd0\n\nSent with Proton Mail secure email."
            }
        ],
        "thread_summary": {
            "title": "Full Disclosure: Denial of Service in STONEWALLx2 (p2p coinjoin)",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "alicexbt"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 3176
        }
    },
    {
        "title": "[bitcoin-dev] How to do Proof of Micro-Burn?",
        "thread_messages": [
            {
                "author": "\u0412\u0435\u043b\u0435\u0441\u043b\u0430\u0432",
                "date": "2022-07-17T13:28:23",
                "message_text_only": "Hello List,\n\nI have been pondering this problem for some time and have not yet come up with an elegant solution, so I am asking here to get more perspective.\n\nThere are many usecases for proof of burn. The current working solution is to use OP_RETURN with some application specific data.\n\nHowever, this is limited because block space is finite, and although the use of block space itself is an implicit form of burn and can be used in the economic calculation of the burn, it is still a fundamental scalability constraint.\n\nIt would be great to have some sort of second layer protocol where micro-burns could be instantly exchanged and public proofs generated. Something like the Lightning Network, but with public evidence of burns.\n\nI was thinking of pre-committing a larger OP_RETURN burn in the blockchain, with an additional output that would include a merkel tree with sparse summation (see Taro), but I haven't found a solution to the double-spend problem. I see that the space in this tree can be oversold before it is committed to the blockchain.\n\nThis makes me wonder if there really is no solution other than to use a blockchain. For example, a liquid type sidechain, where the pre-commitments being burned are a kind of pledge, and the resulting merkel tree is built and fixed via a bail-out sidechain mechanism.\n\nBurns can be performed on the side chain at a very high frequency, and the side chain can end up fixing these burns back into the main chain within some effective merkel tree proof structure.\n\nAll in all, I would like some kind of solution that would be similar to buying a micro-burn using the Lightning network milisatoshis, and then quickly and reliably obtaining a unique and valid burn proof that is cheap to verify. Is something like this possible?\n\nKind Regards,Veleslav\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220717/977aca8e/attachment.html>"
            },
            {
                "author": "Ruben Somsen",
                "date": "2022-07-17T20:40:33",
                "message_text_only": "Hi Veleslav,\n\nThis is something I've been interested in.\n\nWhat you need is a basic merkle sum tree (not sparse), so if e.g. you want\nto burn 10, 20, 30 and 40 sats for separate use cases, in a single tx you\ncan burn 100 sats and commit to a tree with four leaves, and the merkle\nproof contains the values. E.g. the rightmost leaf is 40 and has 30 as its\nneighbor, and moves up to a node of 70 which has 30 (=10+20) as its\nneighbor, totalling 100.\n\nThe leaf hash needs to commit to the intent/recipient of the burn, so that\nway you can't \"double spend\" the burn by reusing it for more than one\npurpose.\n\nYou could outsource the burn to an aggregating third party by paying them\ne.g. over LN but it won't be atomic, so they could walk away with your\npayment without actually following through with the burn (but presumably\ntake a reputational hit).\n\nAs I believe you already realized, while an op_return is needed (or rather,\npreferred) to burn, you don't necessarily have to put the hash there and\ncan thus save some bytes. One possible place to commit the root hash is in\na double taproot commitment in the change output. So while taproot is Q =\nP + hash(Q||mast)*G, you'd commit the root in P such that P = N +\nhash(N||burn_tree_root)*G. What's important is that the location is fully\ndeterministic, in order to ensure there isn't more than one tree (which\nwould be yet another way to \"double spend\").\n\nFinally, you can perform the burn on a spacechain[0] (basically a\n\"sidechain\" that has burned BTC as its native token) in order to pretty\nmuch avoid using mainchain block space altogether, so it should scale much\nbetter. It's worth noting that this fully supports SPV proofs, so the third\nparty you're proving the burn to doesn't have to run a full node (though\nSPV may not be safe enough for big amounts).\n\nTo me this seems like a possible way to revitalize the original hashcash\nuse case, e.g. by only accepting emails which have an SPV proof of some\nburned sats attached, or any other place where spam is an issue.\n\nCheers,\nRuben\n\n\n[0] Spacechains:\nhttps://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a#spacechains\n\n\n\nOn Sun, Jul 17, 2022 at 9:41 PM \u0412\u0435\u043b\u0435\u0441\u043b\u0430\u0432 via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hello List,\n>\n> I have been pondering this problem for some time and have not yet come up\n> with an elegant solution, so I am asking here to get more perspective.\n>\n> There are many usecases for proof of burn. The current working solution is\n> to use OP_RETURN with some application specific data.\n>\n> However, this is limited because block space is finite, and although the\n> use of block space itself is an implicit form of burn and can be used in\n> the economic calculation of the burn, it is still a fundamental scalability\n> constraint.\n>\n> It would be great to have some sort of second layer protocol where\n> micro-burns could be instantly exchanged and public proofs generated.\n> Something like the Lightning Network, but with public evidence of burns.\n>\n> I was thinking of pre-committing a larger OP_RETURN burn in the\n> blockchain, with an additional output that would include a merkel tree with\n> sparse summation (see Taro), but I haven't found a solution to the\n> double-spend problem. I see that the space in this tree can be oversold\n> before it is committed to the blockchain.\n>\n> This makes me wonder if there really is no solution other than to use a\n> blockchain. For example, a liquid type sidechain, where the pre-commitments\n> being burned are a kind of pledge, and the resulting merkel tree is built\n> and fixed via a bail-out sidechain mechanism.\n>\n> Burns can be performed on the side chain at a very high frequency, and the\n> side chain can end up fixing these burns back into the main chain within\n> some effective merkel tree proof structure.\n>\n> All in all, I would like some kind of solution that would be similar to\n> buying a micro-burn using the Lightning network milisatoshis, and then\n> quickly and reliably obtaining a unique and valid burn proof that is cheap\n> to verify. Is something like this possible?\n>\n> Kind Regards,\n> Veleslav\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220717/bc75c3de/attachment-0001.html>"
            },
            {
                "author": "ZmnSCPxj",
                "date": "2022-07-17T22:34:24",
                "message_text_only": "Good morning Ruben and Veleslav,\n\n> Hi Veleslav,\n>\n> This is something I've been interested in.\n>\n>\n> What you need is a basic merkle sum tree (not sparse), so if e.g. you want to burn 10, 20, 30 and 40 sats for separate use cases, in a single tx you can burn 100 sats and commit to a tree with four leaves, and the merkle proof contains the values. E.g. the rightmost leaf is 40 and has 30 as its neighbor, and moves up to a node of 70 which has 30 (=10+20) as its neighbor, totalling 100.\n>\n>\n> The leaf hash needs to commit to the intent/recipient of the burn, so that way you can't \"double spend\" the burn by reusing it for more than one purpose.\n>\n>\n> You could outsource the burn to an aggregating third party by paying them e.g. over LN but it won't be atomic, so they could walk away with your payment without actually following through with the burn (but presumably take a reputational hit).\n\nIf LN switches to PTLCs (payment points/scalars), it may be possible to ensure that you only pay if they release an opening of the commitment.\n\nWARNING: THIS IS ROLL-YOUR-OWN-CRYPTO.\n\nRather than commit using a Merkle tree, you can do a trick similar to what I came up with in `OP_EVICT`.\n\nSuppose there are two customers who want to commit scalars `a` and `b`, and the aggregating third party has a private key `k`.\nThe sum commitment is then:\n\n   a * G + b * G + k * G\n\nThe opening to show that this commits to `a` is then:\n\n   a, b * G + k * G, sign(b + k, a)\n\n...where `sign(k, m)` means sign message `m` with the private key `k`.\nSimilarly the opening for `b` is:\n\n   b, a * G + k *G, sign(a + k, b)\n\nThe ritual to purchase a proof goes this way:\n\n* Customer provides the scalar they want committed.\n* Aggregator service aggregates the scalars to get `a + b + ....` and adds their private key `k`.\n* Aggregator service reveals `(a + b + ... + k) * G` to customer.\n* Aggregator creates an onchain proof-of-burn to `(a + b + ... + k) * G`.\n* Everyone waits until the onchain proof-of-burn is confirmed deeply enough.\n* Aggregator creates the signatures for each opening for `a`, `b`,.... of the commitment.\n* Aggregator provides the corresponding `R` of each signature to each customer.\n* Customer computes `S = s * G` for their own signature that opens the commitment.\n* Customer offers a PTLC (i.e. pay for signature scheme) that pays in exchange for `s`.\n* Aggregator claims the PTLC, revealing the `s` for the signature.\n* Customer now has an opening of the commitment that is for their specific scalar.\n\nWARNING: I am not a cryptographer, I only portray one on bitcoin-dev.\nThere may be cryptographic failures in the above scheme.\n\nRegards,\nZmnSCPxj"
            },
            {
                "author": "Ruben Somsen",
                "date": "2022-07-18T22:32:37",
                "message_text_only": "Good evening ZmnSCPxj,\n\nInteresting attempt.\n\n >a * G + b * G + k * G\n\nUnfortunately I don't think this qualifies as a commitment, since one could\ntrivially open the \"commitment\" to some uncommitted value x (e.g. a is set\nto x and b is set to a+b-x). Perhaps you were thinking of Pedersen\ncommitments (a * G + b * H + k * J)?\n\nEven if we fixed the above with some clever cryptography, the crucial\nmerkle sum tree property is missing, so \"double spending\" a burn becomes\npossible. You also still run into the same atomicity issue, except the risk\nis moved to the seller side, as the buyer could refuse to finalize the\npurchase after the on-chain commitment was made by the seller. Arguably\nthis is worse, since generally only the seller has a reputation to lose,\nnot the buyer.\n\nCheers,\nRuben\n\nOn Mon, Jul 18, 2022 at 12:34 AM ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:\n\n> Good morning Ruben and Veleslav,\n>\n> > Hi Veleslav,\n> >\n> > This is something I've been interested in.\n> >\n> >\n> > What you need is a basic merkle sum tree (not sparse), so if e.g. you\n> want to burn 10, 20, 30 and 40 sats for separate use cases, in a single tx\n> you can burn 100 sats and commit to a tree with four leaves, and the merkle\n> proof contains the values. E.g. the rightmost leaf is 40 and has 30 as its\n> neighbor, and moves up to a node of 70 which has 30 (=10+20) as its\n> neighbor, totalling 100.\n> >\n> >\n> > The leaf hash needs to commit to the intent/recipient of the burn, so\n> that way you can't \"double spend\" the burn by reusing it for more than one\n> purpose.\n> >\n> >\n> > You could outsource the burn to an aggregating third party by paying\n> them e.g. over LN but it won't be atomic, so they could walk away with your\n> payment without actually following through with the burn (but presumably\n> take a reputational hit).\n>\n> If LN switches to PTLCs (payment points/scalars), it may be possible to\n> ensure that you only pay if they release an opening of the commitment.\n>\n> WARNING: THIS IS ROLL-YOUR-OWN-CRYPTO.\n>\n> Rather than commit using a Merkle tree, you can do a trick similar to what\n> I came up with in `OP_EVICT`.\n>\n> Suppose there are two customers who want to commit scalars `a` and `b`,\n> and the aggregating third party has a private key `k`.\n> The sum commitment is then:\n>\n>    a * G + b * G + k * G\n>\n> The opening to show that this commits to `a` is then:\n>\n>    a, b * G + k * G, sign(b + k, a)\n>\n> ...where `sign(k, m)` means sign message `m` with the private key `k`.\n> Similarly the opening for `b` is:\n>\n>    b, a * G + k *G, sign(a + k, b)\n>\n> The ritual to purchase a proof goes this way:\n>\n> * Customer provides the scalar they want committed.\n> * Aggregator service aggregates the scalars to get `a + b + ....` and adds\n> their private key `k`.\n> * Aggregator service reveals `(a + b + ... + k) * G` to customer.\n> * Aggregator creates an onchain proof-of-burn to `(a + b + ... + k) * G`.\n> * Everyone waits until the onchain proof-of-burn is confirmed deeply\n> enough.\n> * Aggregator creates the signatures for each opening for `a`, `b`,.... of\n> the commitment.\n> * Aggregator provides the corresponding `R` of each signature to each\n> customer.\n> * Customer computes `S = s * G` for their own signature that opens the\n> commitment.\n> * Customer offers a PTLC (i.e. pay for signature scheme) that pays in\n> exchange for `s`.\n> * Aggregator claims the PTLC, revealing the `s` for the signature.\n> * Customer now has an opening of the commitment that is for their specific\n> scalar.\n>\n> WARNING: I am not a cryptographer, I only portray one on bitcoin-dev.\n> There may be cryptographic failures in the above scheme.\n>\n> Regards,\n> ZmnSCPxj\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220719/5f0f8099/attachment.html>"
            },
            {
                "author": "ZmnSCPxj",
                "date": "2022-07-19T14:48:27",
                "message_text_only": "Good morning Ruben,\n\n> Good evening ZmnSCPxj,\n> Interesting attempt.\n>\n> >a * G + b * G + k * G\n>\n> Unfortunately I don't think this qualifies as a commitment, since one could trivially open the \"commitment\" to some uncommitted value x (e.g. a is set to x and b is set to a+b-x). Perhaps you were thinking of Pedersen commitments (a * G + b * H + k * J)?\n\nI believe this is only possible for somebody who knows `k`?\nAs mentioned, an opening here includes a signature using `b + k` as the private key, so the signature can only be generated with knowledge of both `b` and `k`.\n\nI suppose that means that the knower of `k` is a trusted party; it is trusted to only issue commitments and not generate fake ones.\n\n> Even if we fixed the above with some clever cryptography, the crucial merkle sum tree property is missing, so \"double spending\" a burn becomes possible.\n\nI do not understand what this property is and how it is relevant, can you please explain this to a non-mathematician?\n\n> You also still run into the same atomicity issue, except the risk is moved to the seller side, as the buyer could refuse to finalize the purchase after the on-chain commitment was made by the seller. Arguably this is worse, since generally only the seller has a reputation to lose, not the buyer.\n\nA buyer can indeed impose this cost on the seller, though the buyer then is unable to get a valid opening of its commitment, as it does not know `k`.\nAssuming the opening of the commitment is actually what has value (since the lack of such an opening means the buyer cannot prove the commitment) then the buyer has every incentive to actually pay for the opening.\n\nRegards,\nZmnSCPxj"
            },
            {
                "author": "Ruben Somsen",
                "date": "2022-07-19T22:23:40",
                "message_text_only": "Good evening ZmnSCPxj,\n\n>I suppose that means that the knower of `k` is a trusted party; it is\ntrusted to only issue commitments and not generate fake ones\n\nThen you can reduce the scheme to just committing to K and having that key\nsign whatever the burn was intended for. I doubt this is useful in practice.\n\n>can you please explain\n\nThe goal is to burn multiple amounts (10, 20, 30, 40) in a single OP_RETURN\n(100) and specifically indicating how much of the total is intended for\nwhat use case. A merkle sum tree achieves this.\n\n(1a)  100      (1b)  ABCD       (2a)  100     (2b)  ABCD\n    /    \\          /    \\          /    \\         /    \\\n  30      70      AB      CD      30      70     AB      CD\n /  \\    /  \\    /  \\    /  \\    /  \\           /  \\\n10  20  30  40   A  B    C  D   10  20          A  B\n\n(view as monospace font, e.g. via bitcoin-dev archive)\n\nSo while in a normal merkle tree (1a) you hash e.g. A and B to get AB, with\na sum tree (1b) you also hash 10 and 20 to get 30.\n\nWhen you verify the full merkle sum proof (2a + 2b, combined in a single\ntree), you verify that 10 (A) + 20 (B) add up to 30 (AB), and 30 (AB) + 70\n(CD) add up to 100 (ABCD), else the root hash won't match.\n\nThis ensures that you can't create a valid tree with commitments that\nadd up to more than the burned amount (essentially a \"double spend\").\n\n>the buyer has every incentive to actually pay\n\nNot if you never had any intention of buying it and are just trying to run\nthem out of business.\n\nHope this helps!\n\nCheers,\nRuben\n\n\n\nOn Tue, Jul 19, 2022 at 4:48 PM ZmnSCPxj <ZmnSCPxj at protonmail.com> wrote:\n\n>\n> Good morning Ruben,\n>\n> > Good evening ZmnSCPxj,\n> > Interesting attempt.\n> >\n> > >a * G + b * G + k * G\n> >\n> > Unfortunately I don't think this qualifies as a commitment, since one\n> could trivially open the \"commitment\" to some uncommitted value x (e.g. a\n> is set to x and b is set to a+b-x). Perhaps you were thinking of Pedersen\n> commitments (a * G + b * H + k * J)?\n>\n> I believe this is only possible for somebody who knows `k`?\n> As mentioned, an opening here includes a signature using `b + k` as the\n> private key, so the signature can only be generated with knowledge of both\n> `b` and `k`.\n>\n> I suppose that means that the knower of `k` is a trusted party; it is\n> trusted to only issue commitments and not generate fake ones.\n>\n> > Even if we fixed the above with some clever cryptography, the crucial\n> merkle sum tree property is missing, so \"double spending\" a burn becomes\n> possible.\n>\n> I do not understand what this property is and how it is relevant, can you\n> please explain this to a non-mathematician?\n>\n> > You also still run into the same atomicity issue, except the risk is\n> moved to the seller side, as the buyer could refuse to finalize the\n> purchase after the on-chain commitment was made by the seller. Arguably\n> this is worse, since generally only the seller has a reputation to lose,\n> not the buyer.\n>\n> A buyer can indeed impose this cost on the seller, though the buyer then\n> is unable to get a valid opening of its commitment, as it does not know `k`.\n> Assuming the opening of the commitment is actually what has value (since\n> the lack of such an opening means the buyer cannot prove the commitment)\n> then the buyer has every incentive to actually pay for the opening.\n>\n> Regards,\n> ZmnSCPxj\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220720/1bc4a1b3/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-19T23:13:41",
                "message_text_only": "On Wed, Jul 20, 2022 at 12:23:40AM +0200, Ruben Somsen via bitcoin-dev wrote:\n> The goal is to burn multiple amounts (10, 20, 30, 40) in a single OP_RETURN\n> (100) and specifically indicating how much of the total is intended for\n> what use case. A merkle sum tree achieves this.\n> \n> (1a)  100      (1b)  ABCD       (2a)  100     (2b)  ABCD\n>     /    \\          /    \\          /    \\         /    \\\n>   30      70      AB      CD      30      70     AB      CD\n>  /  \\    /  \\    /  \\    /  \\    /  \\           /  \\\n> 10  20  30  40   A  B    C  D   10  20          A  B\n\nFrom a practical point of view, note that the merkle-sum-tree is only useful in\ncases where you're burning significantly less than a transaction fee. For the\nforseeable future, that's <~$50, probably less.\n\nTrusting a well-known third-party with $50 really isn't a big problem. So I\nthink adding more clever cryptography to avoid trusting the third party to\ncomplete the burn isn't really necessary.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220719/171ae45b/attachment.sig>"
            }
        ],
        "thread_summary": {
            "title": "How to do Proof of Micro-Burn?",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "ZmnSCPxj",
                "\u0412\u0435\u043b\u0435\u0441\u043b\u0430\u0432",
                "Ruben Somsen",
                "Peter Todd"
            ],
            "messages_count": 7,
            "total_messages_chars_count": 19499
        }
    },
    {
        "title": "[bitcoin-dev] Trying all address types in message signing verification (BIP)",
        "thread_messages": [
            {
                "author": "Ali Sherief",
                "date": "2022-07-20T04:10:09",
                "message_text_only": "[my third attempt at getting this message through. Surprisingly, I managed to send this at the second try with the correct SMTP, From, To and all, but maybe it was caught in GreyListing (protonmail).]\n\nI was thinking about creating a BIP to address the lack of standardization for Segwit message signatures, but I want some advice before proceeding.\n\nThe current state of affairs is that the wallets that do support signing and verifying a bitcoin message can only sign legacy addresses. It is technically possible to sign and verify segwit addresses, since ECDSA only depends on the public key (hence why you need a private key to sign messages).\n\nHowever, because there is no generally-accepted standard for signing segwit messages, the wallets that do support this feature simply insert the segwit address into the address field. Verification also only works using the procedure on that specific wallet software, if only because the conventional tools for verifying messages attempt to reconstruct a legacy address only.\n\nThis BIP is not going to enforce anything, it's just going to set guidelines for writing a message signing and verification procedure.\n\nThis BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n\nIn summary, in the verification part, the following address hashing algorithms will be tried in sequence in an attempt to reconstruct the address in the signed message:\n- P2PKH (legacy address)\n- P2WPKH-P2SH (nested segwit)\n- P2WPKH with version from 0 to MAX_WITNESS_VERSION (covers native segwit with version 0 as well as future native segwit address types such as Taproot) - where MAX_WITNESS_VERSION is the maximum supported witness version by the bech32 encoding.\n\nThe verification procedure stops if any of these hashes yield the correct address, and fails if all of the above methods fail to reproduce the address in the signed message.\n\nIn the signing procedure, the only modification is the insertion of the segwit address in place of the legacy address in the signed message.\n\nIf this BIP is approved, it does not require any changes to existing signed messages, and the original sign/verify algorithms will continue to interoperate with this improved sign/verify algorithm, without any action necessary from the developers.\n\nSo as you can see, this is the entire framework of the BIP I plan to draft. There is no need for any auxilliary feature additions into this BIP. I just want to hear the mailing list's advice about how I should draft such a BIP.\n\n- Ali\n\nPS. I am pretty sure that there is a BIP for the original signing method - what is its number?"
            },
            {
                "author": "Peter (Coinkite Inc)",
                "date": "2022-07-20T13:31:21",
                "message_text_only": "Hi Ali.\n\n> This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n\nCOLDCARD makes signatures exacly like that, when told to sign with a segwit address:\n\n    % ckcc msg -s Hello\n    Hello                             \n    bc1qzeacswvlulg0jngad9gmtkvdp9lwum42wwzdu5\n    HxuuWQwjw0417fLV9L0kWbt7w9XOIWKhHMhjXhyXTczcSozGTXM4knqdISiYbbmqSRXqI5mNTWH9qkDoqZTpnPc=\n\nUnfortunately, I do not know of any \"verifiers\" that will accept the above signature, but there is no alternative since the various BIP-322 proposals never gained wide acceptance.\n\nBitcoin Core does not support verifying that message, even though the UX makes it look possible. In effect segwit features never got implemented to that depth in Core. It's sad because the community is not maintaining core (Core?) features to the same depth as Satoshi did when he was active in the project.\n\n> PS. I am pretty sure that there is a BIP for the original signing method - what is its number?\n\nMy understanding that the original approach was directly from Satoshi himself when the original client was written. It has never been codified in a BIP as far as I know.\n\nA related issue the the \"ascii armor\" that is sometimes used. It's a little like RFC2440 <https://www.ietf.org/rfc/rfc2440.txt> but newline-treatment isn't defined well enough for good interoperability, in my personal experience.\n\nSo in summary... yes a \"defacto\" BIP is needed and useful to do, in my opinion. Then Core should be updated to support it as well.\n\n---\n@DocHEX  ||  Coinkite  ||  PGP: A3A31BAD 5A2A5B10\n\n\nOn Wed, Jul 20, 2022 at 04:10:09AM +0000, Ali Sherief wrote:\n> [my third attempt at getting this message through. Surprisingly, I managed to send this at the second try with the correct SMTP, From, To and all, but maybe it was caught in GreyListing (protonmail).]\n> \n> I was thinking about creating a BIP to address the lack of standardization for Segwit message signatures, but I want some advice before proceeding.\n> \n> The current state of affairs is that the wallets that do support signing and verifying a bitcoin message can only sign legacy addresses. It is technically possible to sign and verify segwit addresses, since ECDSA only depends on the public key (hence why you need a private key to sign messages).\n> \n> However, because there is no generally-accepted standard for signing segwit messages, the wallets that do support this feature simply insert the segwit address into the address field. Verification also only works using the procedure on that specific wallet software, if only because the conventional tools for verifying messages attempt to reconstruct a legacy address only.\n> \n> This BIP is not going to enforce anything, it's just going to set guidelines for writing a message signing and verification procedure.\n> \n> This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n> \n> In summary, in the verification part, the following address hashing algorithms will be tried in sequence in an attempt to reconstruct the address in the signed message:\n> - P2PKH (legacy address)\n> - P2WPKH-P2SH (nested segwit)\n> - P2WPKH with version from 0 to MAX_WITNESS_VERSION (covers native segwit with version 0 as well as future native segwit address types such as Taproot) - where MAX_WITNESS_VERSION is the maximum supported witness version by the bech32 encoding.\n> \n> The verification procedure stops if any of these hashes yield the correct address, and fails if all of the above methods fail to reproduce the address in the signed message.\n> \n> In the signing procedure, the only modification is the insertion of the segwit address in place of the legacy address in the signed message.\n> \n> If this BIP is approved, it does not require any changes to existing signed messages, and the original sign/verify algorithms will continue to interoperate with this improved sign/verify algorithm, without any action necessary from the developers.\n> \n> So as you can see, this is the entire framework of the BIP I plan to draft. There is no need for any auxilliary feature additions into this BIP. I just want to hear the mailing list's advice about how I should draft such a BIP.\n> \n> - Ali\n> \n> PS. I am pretty sure that there is a BIP for the original signing method - what is its number?\n> \n\n\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 488 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220720/c7ddfb46/attachment-0001.sig>"
            },
            {
                "author": "Greg Sanders",
                "date": "2022-07-20T21:50:53",
                "message_text_only": "Please see BIP322\nhttps://github.com/bitcoin/bips/blob/master/bip-0322.mediawiki\n\nOn Wed, Jul 20, 2022, 5:46 PM Peter (Coinkite Inc) via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hi Ali.\n>\n> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My\n> proposal is simply going to standardize the practice of placing the segwit\n> address into the address field, and does not require alterations to the\n> message signing format like those BIPs.\n>\n> COLDCARD makes signatures exacly like that, when told to sign with a\n> segwit address:\n>\n>     % ckcc msg -s Hello\n>     Hello\n>     bc1qzeacswvlulg0jngad9gmtkvdp9lwum42wwzdu5\n>\n> HxuuWQwjw0417fLV9L0kWbt7w9XOIWKhHMhjXhyXTczcSozGTXM4knqdISiYbbmqSRXqI5mNTWH9qkDoqZTpnPc=\n>\n> Unfortunately, I do not know of any \"verifiers\" that will accept the above\n> signature, but there is no alternative since the various BIP-322 proposals\n> never gained wide acceptance.\n>\n> Bitcoin Core does not support verifying that message, even though the UX\n> makes it look possible. In effect segwit features never got implemented to\n> that depth in Core. It's sad because the community is not maintaining core\n> (Core?) features to the same depth as Satoshi did when he was active in the\n> project.\n>\n> > PS. I am pretty sure that there is a BIP for the original signing method\n> - what is its number?\n>\n> My understanding that the original approach was directly from Satoshi\n> himself when the original client was written. It has never been codified in\n> a BIP as far as I know.\n>\n> A related issue the the \"ascii armor\" that is sometimes used. It's a\n> little like RFC2440 <https://www.ietf.org/rfc/rfc2440.txt> but\n> newline-treatment isn't defined well enough for good interoperability, in\n> my personal experience.\n>\n> So in summary... yes a \"defacto\" BIP is needed and useful to do, in my\n> opinion. Then Core should be updated to support it as well.\n>\n> ---\n> @DocHEX  ||  Coinkite  ||  PGP: A3A31BAD 5A2A5B10\n>\n>\n> On Wed, Jul 20, 2022 at 04:10:09AM +0000, Ali Sherief wrote:\n> > [my third attempt at getting this message through. Surprisingly, I\n> managed to send this at the second try with the correct SMTP, From, To and\n> all, but maybe it was caught in GreyListing (protonmail).]\n> >\n> > I was thinking about creating a BIP to address the lack of\n> standardization for Segwit message signatures, but I want some advice\n> before proceeding.\n> >\n> > The current state of affairs is that the wallets that do support signing\n> and verifying a bitcoin message can only sign legacy addresses. It is\n> technically possible to sign and verify segwit addresses, since ECDSA only\n> depends on the public key (hence why you need a private key to sign\n> messages).\n> >\n> > However, because there is no generally-accepted standard for signing\n> segwit messages, the wallets that do support this feature simply insert the\n> segwit address into the address field. Verification also only works using\n> the procedure on that specific wallet software, if only because the\n> conventional tools for verifying messages attempt to reconstruct a legacy\n> address only.\n> >\n> > This BIP is not going to enforce anything, it's just going to set\n> guidelines for writing a message signing and verification procedure.\n> >\n> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My\n> proposal is simply going to standardize the practice of placing the segwit\n> address into the address field, and does not require alterations to the\n> message signing format like those BIPs.\n> >\n> > In summary, in the verification part, the following address hashing\n> algorithms will be tried in sequence in an attempt to reconstruct the\n> address in the signed message:\n> > - P2PKH (legacy address)\n> > - P2WPKH-P2SH (nested segwit)\n> > - P2WPKH with version from 0 to MAX_WITNESS_VERSION (covers native\n> segwit with version 0 as well as future native segwit address types such as\n> Taproot) - where MAX_WITNESS_VERSION is the maximum supported witness\n> version by the bech32 encoding.\n> >\n> > The verification procedure stops if any of these hashes yield the\n> correct address, and fails if all of the above methods fail to reproduce\n> the address in the signed message.\n> >\n> > In the signing procedure, the only modification is the insertion of the\n> segwit address in place of the legacy address in the signed message.\n> >\n> > If this BIP is approved, it does not require any changes to existing\n> signed messages, and the original sign/verify algorithms will continue to\n> interoperate with this improved sign/verify algorithm, without any action\n> necessary from the developers.\n> >\n> > So as you can see, this is the entire framework of the BIP I plan to\n> draft. There is no need for any auxilliary feature additions into this BIP.\n> I just want to hear the mailing list's advice about how I should draft such\n> a BIP.\n> >\n> > - Ali\n> >\n> > PS. I am pretty sure that there is a BIP for the original signing method\n> - what is its number?\n> >\n>\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220720/917426c4/attachment.html>"
            },
            {
                "author": "Craig Raw",
                "date": "2022-07-21T07:06:08",
                "message_text_only": "> Unfortunately, I do not know of any \"verifiers\" that will accept the\nabove signature\n\nSparrow verifies this signature.\n\nThe approach used is to convert the message and signature to a public key,\ntrying first BIP137 and then the approach used by Electrum (they differ in\ntreatment of the signature header for segwit P2SH). The script type is\nextracted from the provided address and compared against the address\nconstructed with the public key using the same script type. i.e. There is\nno need to iterate through all script types, since the script type is\nimplicitly provided in the address.\n\nCraig\n\nOn Wed, Jul 20, 2022 at 11:51 PM Greg Sanders via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Please see BIP322\n> https://github.com/bitcoin/bips/blob/master/bip-0322.mediawiki\n>\n> On Wed, Jul 20, 2022, 5:46 PM Peter (Coinkite Inc) via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Hi Ali.\n>>\n>> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My\n>> proposal is simply going to standardize the practice of placing the segwit\n>> address into the address field, and does not require alterations to the\n>> message signing format like those BIPs.\n>>\n>> COLDCARD makes signatures exacly like that, when told to sign with a\n>> segwit address:\n>>\n>>     % ckcc msg -s Hello\n>>     Hello\n>>     bc1qzeacswvlulg0jngad9gmtkvdp9lwum42wwzdu5\n>>\n>> HxuuWQwjw0417fLV9L0kWbt7w9XOIWKhHMhjXhyXTczcSozGTXM4knqdISiYbbmqSRXqI5mNTWH9qkDoqZTpnPc=\n>>\n>> Unfortunately, I do not know of any \"verifiers\" that will accept the\n>> above signature, but there is no alternative since the various BIP-322\n>> proposals never gained wide acceptance.\n>>\n>> Bitcoin Core does not support verifying that message, even though the UX\n>> makes it look possible. In effect segwit features never got implemented to\n>> that depth in Core. It's sad because the community is not maintaining core\n>> (Core?) features to the same depth as Satoshi did when he was active in the\n>> project.\n>>\n>> > PS. I am pretty sure that there is a BIP for the original signing\n>> method - what is its number?\n>>\n>> My understanding that the original approach was directly from Satoshi\n>> himself when the original client was written. It has never been codified in\n>> a BIP as far as I know.\n>>\n>> A related issue the the \"ascii armor\" that is sometimes used. It's a\n>> little like RFC2440 <https://www.ietf.org/rfc/rfc2440.txt> but\n>> newline-treatment isn't defined well enough for good interoperability, in\n>> my personal experience.\n>>\n>> So in summary... yes a \"defacto\" BIP is needed and useful to do, in my\n>> opinion. Then Core should be updated to support it as well.\n>>\n>> ---\n>> @DocHEX  ||  Coinkite  ||  PGP: A3A31BAD 5A2A5B10\n>>\n>>\n>> On Wed, Jul 20, 2022 at 04:10:09AM +0000, Ali Sherief wrote:\n>> > [my third attempt at getting this message through. Surprisingly, I\n>> managed to send this at the second try with the correct SMTP, From, To and\n>> all, but maybe it was caught in GreyListing (protonmail).]\n>> >\n>> > I was thinking about creating a BIP to address the lack of\n>> standardization for Segwit message signatures, but I want some advice\n>> before proceeding.\n>> >\n>> > The current state of affairs is that the wallets that do support\n>> signing and verifying a bitcoin message can only sign legacy addresses. It\n>> is technically possible to sign and verify segwit addresses, since ECDSA\n>> only depends on the public key (hence why you need a private key to sign\n>> messages).\n>> >\n>> > However, because there is no generally-accepted standard for signing\n>> segwit messages, the wallets that do support this feature simply insert the\n>> segwit address into the address field. Verification also only works using\n>> the procedure on that specific wallet software, if only because the\n>> conventional tools for verifying messages attempt to reconstruct a legacy\n>> address only.\n>> >\n>> > This BIP is not going to enforce anything, it's just going to set\n>> guidelines for writing a message signing and verification procedure.\n>> >\n>> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My\n>> proposal is simply going to standardize the practice of placing the segwit\n>> address into the address field, and does not require alterations to the\n>> message signing format like those BIPs.\n>> >\n>> > In summary, in the verification part, the following address hashing\n>> algorithms will be tried in sequence in an attempt to reconstruct the\n>> address in the signed message:\n>> > - P2PKH (legacy address)\n>> > - P2WPKH-P2SH (nested segwit)\n>> > - P2WPKH with version from 0 to MAX_WITNESS_VERSION (covers native\n>> segwit with version 0 as well as future native segwit address types such as\n>> Taproot) - where MAX_WITNESS_VERSION is the maximum supported witness\n>> version by the bech32 encoding.\n>> >\n>> > The verification procedure stops if any of these hashes yield the\n>> correct address, and fails if all of the above methods fail to reproduce\n>> the address in the signed message.\n>> >\n>> > In the signing procedure, the only modification is the insertion of the\n>> segwit address in place of the legacy address in the signed message.\n>> >\n>> > If this BIP is approved, it does not require any changes to existing\n>> signed messages, and the original sign/verify algorithms will continue to\n>> interoperate with this improved sign/verify algorithm, without any action\n>> necessary from the developers.\n>> >\n>> > So as you can see, this is the entire framework of the BIP I plan to\n>> draft. There is no need for any auxilliary feature additions into this BIP.\n>> I just want to hear the mailing list's advice about how I should draft such\n>> a BIP.\n>> >\n>> > - Ali\n>> >\n>> > PS. I am pretty sure that there is a BIP for the original signing\n>> method - what is its number?\n>> >\n>>\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220721/8ad06d81/attachment.html>"
            },
            {
                "author": "Ali Sherief",
                "date": "2022-07-22T15:20:24",
                "message_text_only": "Well, if there are wallets that are already verifying BIP137 signatures, a universal BIP that encompasses all signatures would also have to check for BIP137 signatures obviously. Can't have an all-encompassing BIP that excludes some signature types.\n\nFortunately, as is the case for my original proposal, only the verification algorithm needs to be adjusted to identify BIP137 signatures. The signing part can just place the address and whatever signature it makes inside the message.\n\nI have studied BIP137 today and it looks like it only changes the signature payload, not the address, so any BIP made to address this problem must also take into account that the signature may be in different formats.\n\nDoes anyone know if BIP322 is being used in any wallet, for reference?\n\nOn Thursday, July 21st, 2022 at 7:06 AM, Craig Raw <craigraw at gmail.com> wrote:\n\n>> Unfortunately, I do not know of any \"verifiers\" that will accept the above signature\n>\n> Sparrow verifies this signature.\n>\n> The approach used is to convert the message and signature to a public key, trying first BIP137 and then the approach used by Electrum (they differ in treatment of the signature header for segwit P2SH). The script type is extracted from the provided address and compared against the address constructed with the public key using the same script type. i.e. There is no need to iterate through all script types, since the script type is implicitly provided in the address.\n>\n> Craig\n>\n> On Wed, Jul 20, 2022 at 11:51 PM Greg Sanders via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Please see BIP322 https://github.com/bitcoin/bips/blob/master/bip-0322.mediawiki\n>>\n>> On Wed, Jul 20, 2022, 5:46 PM Peter (Coinkite Inc) via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>>\n>>> Hi Ali.\n>>>\n>>>> This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n>>>\n>>> COLDCARD makes signatures exacly like that, when told to sign with a segwit address:\n>>>\n>>> % ckcc msg -s Hello\n>>> Hello\n>>> bc1qzeacswvlulg0jngad9gmtkvdp9lwum42wwzdu5\n>>> HxuuWQwjw0417fLV9L0kWbt7w9XOIWKhHMhjXhyXTczcSozGTXM4knqdISiYbbmqSRXqI5mNTWH9qkDoqZTpnPc=\n>>>\n>>> Unfortunately, I do not know of any \"verifiers\" that will accept the above signature, but there is no alternative since the various BIP-322 proposals never gained wide acceptance.\n>>>\n>>> Bitcoin Core does not support verifying that message, even though the UX makes it look possible. In effect segwit features never got implemented to that depth in Core. It's sad because the community is not maintaining core (Core?) features to the same depth as Satoshi did when he was active in the project.\n>>>\n>>>> PS. I am pretty sure that there is a BIP for the original signing method - what is its number?\n>>>\n>>> My understanding that the original approach was directly from Satoshi himself when the original client was written. It has never been codified in a BIP as far as I know.\n>>>\n>>> A related issue the the \"ascii armor\" that is sometimes used. It's a little like RFC2440 <https://www.ietf.org/rfc/rfc2440.txt> but newline-treatment isn't defined well enough for good interoperability, in my personal experience.\n>>>\n>>> So in summary... yes a \"defacto\" BIP is needed and useful to do, in my opinion. Then Core should be updated to support it as well.\n>>>\n>>> ---\n>>> @DocHEX || Coinkite || PGP: A3A31BAD 5A2A5B10\n>>>\n>>> On Wed, Jul 20, 2022 at 04:10:09AM +0000, Ali Sherief wrote:\n>>>> [my third attempt at getting this message through. Surprisingly, I managed to send this at the second try with the correct SMTP, From, To and all, but maybe it was caught in GreyListing (protonmail).]\n>>>>\n>>>> I was thinking about creating a BIP to address the lack of standardization for Segwit message signatures, but I want some advice before proceeding.\n>>>>\n>>>> The current state of affairs is that the wallets that do support signing and verifying a bitcoin message can only sign legacy addresses. It is technically possible to sign and verify segwit addresses, since ECDSA only depends on the public key (hence why you need a private key to sign messages).\n>>>>\n>>>> However, because there is no generally-accepted standard for signing segwit messages, the wallets that do support this feature simply insert the segwit address into the address field. Verification also only works using the procedure on that specific wallet software, if only because the conventional tools for verifying messages attempt to reconstruct a legacy address only.\n>>>>\n>>>> This BIP is not going to enforce anything, it's just going to set guidelines for writing a message signing and verification procedure.\n>>>>\n>>>> This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n>>>>\n>>>> In summary, in the verification part, the following address hashing algorithms will be tried in sequence in an attempt to reconstruct the address in the signed message:\n>>>> - P2PKH (legacy address)\n>>>> - P2WPKH-P2SH (nested segwit)\n>>>> - P2WPKH with version from 0 to MAX_WITNESS_VERSION (covers native segwit with version 0 as well as future native segwit address types such as Taproot) - where MAX_WITNESS_VERSION is the maximum supported witness version by the bech32 encoding.\n>>>>\n>>>> The verification procedure stops if any of these hashes yield the correct address, and fails if all of the above methods fail to reproduce the address in the signed message.\n>>>>\n>>>> In the signing procedure, the only modification is the insertion of the segwit address in place of the legacy address in the signed message.\n>>>>\n>>>> If this BIP is approved, it does not require any changes to existing signed messages, and the original sign/verify algorithms will continue to interoperate with this improved sign/verify algorithm, without any action necessary from the developers.\n>>>>\n>>>> So as you can see, this is the entire framework of the BIP I plan to draft. There is no need for any auxilliary feature additions into this BIP. I just want to hear the mailing list's advice about how I should draft such a BIP.\n>>>>\n>>>> - Ali\n>>>>\n>>>> PS. I am pretty sure that there is a BIP for the original signing method - what is its number?\n>>>>\n>>>\n>>> _______________________________________________\n>>> bitcoin-dev mailing list\n>>> bitcoin-dev at lists.linuxfoundation.org\n>>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220722/b8b3889f/attachment.html>"
            },
            {
                "author": "Ali Sherief",
                "date": "2022-07-21T05:36:11",
                "message_text_only": "Hi Peter,\n\n> COLDCARD makes signatures exacly like that, when told to sign with a segwit address:\n>\n> % ckcc msg -s Hello\n> Hello\n> bc1qzeacswvlulg0jngad9gmtkvdp9lwum42wwzdu5\n> HxuuWQwjw0417fLV9L0kWbt7w9XOIWKhHMhjXhyXTczcSozGTXM4knqdISiYbbmqSRXqI5mNTWH9qkDoqZTpnPc=\n>\n> Unfortunately, I do not know of any \"verifiers\" that will accept the above signature, but there is no alternative since the various BIP-322 proposals never gained wide acceptance.\n\nThis is largely why I avoided basing my idea off of BIP-322. Not only does a BIP has a higher chance of acceptance the less aspects it modifies, but I feel that although its not urgent (such as, for example, the segwit deployment BIP), this BIP should be made as soon as possible. It's also why I avoided specifying anything about testnet or regtest address singing - thankfully, I have yet to see ayone sign messages from these networks.\n\n> Bitcoin Core does not support verifying that message, even though the UX makes it look possible. In effect segwit features never got implemented to that depth in Core. It's sad because the community is not maintaining core (Core?) features to the same depth as Satoshi did when he was active in the project.\n\nYes, if it looks possible from the UX, chances are that its very straightforward to implement in code. That's why I'm not expecting any problems when I finally draft the BIP.\n\nIn my original plans, I said the verifier was going to try Legacy, Nested Segwit, and Native Segwit encodings in sequence, but now, I think this step-by-step procedure is unnecessary. The correct encoding can be guessed by looking at the address prefix:\n\n- If it starts with a \"1\", attempt the Legacy encoding. (Fail verification if it does not yield the correct address).\n- If it starts with a \"3\", attempt the Nested Segwit encoding. (Fail verification if it does not yield the correct address).\n- If it starts with a \"bc1\", fetch the version number from the immediately following character, and attempt the Native Segwit encoding with that version number. (Fail verification if it does not yield the correct address).\n- If it starts with any other prefix, fail verification.\n\nIn my opinion, the signing and verification processes have to be precisely defined in the BIP - to be exactly the same as it presently is, and then these additions - to ensure that the BIP clearly deescribes how signing and verification should be implemented today - in addition to \"tomorrow\" when the BIP is widely accepted.\n\n> So in summary... yes a \"defacto\" BIP is needed and useful to do, in my opinion. Then Core should be updated to support it as well.\n\nSince I already plan on adding a Python example for the signing and verification process, it will be a straightforward process to translate it to C++ without even minor interface/implementation difficulties.\n\nSince I can't think of any more ways to streamline the BIP, I'm going to start a draft along these principles shortly.\n\n- Ali\n\nOn Wednesday, July 20th, 2022 at 1:31 PM, Peter (Coinkite Inc) <peter at coinkite.com> wrote:\n\n\n> Hi Ali.\n>\n> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n>\n>\n> COLDCARD makes signatures exacly like that, when told to sign with a segwit address:\n>\n> % ckcc msg -s Hello\n> Hello\n> bc1qzeacswvlulg0jngad9gmtkvdp9lwum42wwzdu5\n> HxuuWQwjw0417fLV9L0kWbt7w9XOIWKhHMhjXhyXTczcSozGTXM4knqdISiYbbmqSRXqI5mNTWH9qkDoqZTpnPc=\n>\n> Unfortunately, I do not know of any \"verifiers\" that will accept the above signature, but there is no alternative since the various BIP-322 proposals never gained wide acceptance.\n>\n> Bitcoin Core does not support verifying that message, even though the UX makes it look possible. In effect segwit features never got implemented to that depth in Core. It's sad because the community is not maintaining core (Core?) features to the same depth as Satoshi did when he was active in the project.\n>\n> > PS. I am pretty sure that there is a BIP for the original signing method - what is its number?\n>\n>\n> My understanding that the original approach was directly from Satoshi himself when the original client was written. It has never been codified in a BIP as far as I know.\n>\n> A related issue the the \"ascii armor\" that is sometimes used. It's a little like RFC2440 https://www.ietf.org/rfc/rfc2440.txt but newline-treatment isn't defined well enough for good interoperability, in my personal experience.\n>\n>\n> So in summary... yes a \"defacto\" BIP is needed and useful to do, in my opinion. Then Core should be updated to support it as well.\n>\n> ---\n> @DocHEX || Coinkite || PGP: A3A31BAD 5A2A5B10\n>\n>\n> On Wed, Jul 20, 2022 at 04:10:09AM +0000, Ali Sherief wrote:\n>\n> > [my third attempt at getting this message through. Surprisingly, I managed to send this at the second try with the correct SMTP, From, To and all, but maybe it was caught in GreyListing (protonmail).]\n> >\n> > I was thinking about creating a BIP to address the lack of standardization for Segwit message signatures, but I want some advice before proceeding.\n> >\n> > The current state of affairs is that the wallets that do support signing and verifying a bitcoin message can only sign legacy addresses. It is technically possible to sign and verify segwit addresses, since ECDSA only depends on the public key (hence why you need a private key to sign messages).\n> >\n> > However, because there is no generally-accepted standard for signing segwit messages, the wallets that do support this feature simply insert the segwit address into the address field. Verification also only works using the procedure on that specific wallet software, if only because the conventional tools for verifying messages attempt to reconstruct a legacy address only.\n> >\n> > This BIP is not going to enforce anything, it's just going to set guidelines for writing a message signing and verification procedure.\n> >\n> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n> >\n> > In summary, in the verification part, the following address hashing algorithms will be tried in sequence in an attempt to reconstruct the address in the signed message:\n> > - P2PKH (legacy address)\n> > - P2WPKH-P2SH (nested segwit)\n> > - P2WPKH with version from 0 to MAX_WITNESS_VERSION (covers native segwit with version 0 as well as future native segwit address types such as Taproot) - where MAX_WITNESS_VERSION is the maximum supported witness version by the bech32 encoding.\n> >\n> > The verification procedure stops if any of these hashes yield the correct address, and fails if all of the above methods fail to reproduce the address in the signed message.\n> >\n> > In the signing procedure, the only modification is the insertion of the segwit address in place of the legacy address in the signed message.\n> >\n> > If this BIP is approved, it does not require any changes to existing signed messages, and the original sign/verify algorithms will continue to interoperate with this improved sign/verify algorithm, without any action necessary from the developers.\n> >\n> > So as you can see, this is the entire framework of the BIP I plan to draft. There is no need for any auxilliary feature additions into this BIP. I just want to hear the mailing list's advice about how I should draft such a BIP.\n> >\n> > - Ali\n> >\n> > PS. I am pretty sure that there is a BIP for the original signing method - what is its number?\n\n\n\nOwner and administrator of https://notatether.com - Run Tools & Apps Online or Buy an API Key\n\n\n------- Original Message -------\nOn Wednesday, July 20th, 2022 at 1:31 PM, Peter (Coinkite Inc) <peter at coinkite.com> wrote:\n\n\n> Hi Ali.\n>\n> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n>\n>\n> COLDCARD makes signatures exacly like that, when told to sign with a segwit address:\n>\n> % ckcc msg -s Hello\n> Hello\n> bc1qzeacswvlulg0jngad9gmtkvdp9lwum42wwzdu5\n> HxuuWQwjw0417fLV9L0kWbt7w9XOIWKhHMhjXhyXTczcSozGTXM4knqdISiYbbmqSRXqI5mNTWH9qkDoqZTpnPc=\n>\n> Unfortunately, I do not know of any \"verifiers\" that will accept the above signature, but there is no alternative since the various BIP-322 proposals never gained wide acceptance.\n>\n> Bitcoin Core does not support verifying that message, even though the UX makes it look possible. In effect segwit features never got implemented to that depth in Core. It's sad because the community is not maintaining core (Core?) features to the same depth as Satoshi did when he was active in the project.\n>\n> > PS. I am pretty sure that there is a BIP for the original signing method - what is its number?\n>\n>\n> My understanding that the original approach was directly from Satoshi himself when the original client was written. It has never been codified in a BIP as far as I know.\n>\n> A related issue the the \"ascii armor\" that is sometimes used. It's a little like RFC2440 https://www.ietf.org/rfc/rfc2440.txt but newline-treatment isn't defined well enough for good interoperability, in my personal experience.\n>\n>\n> So in summary... yes a \"defacto\" BIP is needed and useful to do, in my opinion. Then Core should be updated to support it as well.\n>\n> ---\n> @DocHEX || Coinkite || PGP: A3A31BAD 5A2A5B10\n>\n>\n> On Wed, Jul 20, 2022 at 04:10:09AM +0000, Ali Sherief wrote:\n>\n> > [my third attempt at getting this message through. Surprisingly, I managed to send this at the second try with the correct SMTP, From, To and all, but maybe it was caught in GreyListing (protonmail).]\n> >\n> > I was thinking about creating a BIP to address the lack of standardization for Segwit message signatures, but I want some advice before proceeding.\n> >\n> > The current state of affairs is that the wallets that do support signing and verifying a bitcoin message can only sign legacy addresses. It is technically possible to sign and verify segwit addresses, since ECDSA only depends on the public key (hence why you need a private key to sign messages).\n> >\n> > However, because there is no generally-accepted standard for signing segwit messages, the wallets that do support this feature simply insert the segwit address into the address field. Verification also only works using the procedure on that specific wallet software, if only because the conventional tools for verifying messages attempt to reconstruct a legacy address only.\n> >\n> > This BIP is not going to enforce anything, it's just going to set guidelines for writing a message signing and verification procedure.\n> >\n> > This BIP does not replace, supersede, or obsolete BIPs 173 or 322. My proposal is simply going to standardize the practice of placing the segwit address into the address field, and does not require alterations to the message signing format like those BIPs.\n> >\n> > In summary, in the verification part, the following address hashing algorithms will be tried in sequence in an attempt to reconstruct the address in the signed message:\n> > - P2PKH (legacy address)\n> > - P2WPKH-P2SH (nested segwit)\n> > - P2WPKH with version from 0 to MAX_WITNESS_VERSION (covers native segwit with version 0 as well as future native segwit address types such as Taproot) - where MAX_WITNESS_VERSION is the maximum supported witness version by the bech32 encoding.\n> >\n> > The verification procedure stops if any of these hashes yield the correct address, and fails if all of the above methods fail to reproduce the address in the signed message.\n> >\n> > In the signing procedure, the only modification is the insertion of the segwit address in place of the legacy address in the signed message.\n> >\n> > If this BIP is approved, it does not require any changes to existing signed messages, and the original sign/verify algorithms will continue to interoperate with this improved sign/verify algorithm, without any action necessary from the developers.\n> >\n> > So as you can see, this is the entire framework of the BIP I plan to draft. There is no need for any auxilliary feature additions into this BIP. I just want to hear the mailing list's advice about how I should draft such a BIP.\n> >\n> > - Ali\n> >\n> > PS. I am pretty sure that there is a BIP for the original signing method - what is its number?"
            },
            {
                "author": "Ryan Grant",
                "date": "2022-07-23T04:28:08",
                "message_text_only": "On Wed, Jul 20, 2022 at 9:46 PM Peter (Coinkite Inc) via bitcoin-dev\n<bitcoin-dev at lists.linuxfoundation.org> wrote:\n> [...] the various BIP-322 proposals never gained wide acceptance.\n\nThere's renewed interest in using BIP322 to validate signatures\nrelated to work upgrading the Bitcoin-native Decentralized Identifier\nMethod (did:btcr) beyond its current specification, to version 2.0.\n\n  https://github.com/WebOfTrustInfo/rwot11-the-hague/blob/master/advance-readings/bip322-signature-suite.md\n  https://www.w3.org/TR/did-core/"
            }
        ],
        "thread_summary": {
            "title": "Trying all address types in message signing verification (BIP)",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Ryan Grant",
                "Ali Sherief",
                "Craig Raw",
                "Peter (Coinkite Inc)",
                "Greg Sanders"
            ],
            "messages_count": 7,
            "total_messages_chars_count": 39787
        }
    },
    {
        "title": "[bitcoin-dev] On a new community process to specify covenants",
        "thread_messages": [
            {
                "author": "Antoine Riard",
                "date": "2022-07-20T20:42:42",
                "message_text_only": "Hi,\n\nDiscussions on covenants have been prolific and intense on this mailing\nlist and within the wider Bitcoin technical circles, I believe however\nwithout succeeding to reach consensus on any new set of contracting\nprimitives satisfying the requirements of known covenant-enabled use-cases.\nI think that's a fact to deplore as covenants would not only offer vast\nextensions of the capabilities of Bitcoin as a system, i.e enabling new\ntypes of multi-party contract protocols. But also empowering Bitcoin on its\nfundamental value propositions of store of value (e.g by making vaults more\nflexible) and payment system (e.g by making realistic channel\nfactories/payment pools).\n\nIf we retain as a covenant definition, a spending constraint restricting\nthe transaction to which the spent UTXO can be spent, and enabling to\nprogram contracts/protocols at the transaction-level instead of the\nscript-level, the list of Script primitives proposed during the last years\nhas grown large : ANYPREVOUT [0], CHECKSIGFROMSTACK [1],\nCHECK_TEMPLATE_VERIFY [2], TAPROOT_LEAF_UPDATE_VERIFY [3], TXHASH [4],\nPUSHTXDATA [5], CAT [6], EVICT [7], Grafroot delegation [8], SIGHASH_GROUP\n[9], MERKLEBRANCHVERIFY [10] and more than I can't remember. Of course, all\nthe listed primitives are at different states of formalization, some\nalready fully fleshed-out in BIPs, other still ideas on whiteboard, yet\nthey all extend the range of workable multi-party contract protocols.\n\nIndeed this range has grown wild. Without aiming to be exhaustive (I'm\ncertainly missing some interesting proposals lost in the abyss of\nbitcointalk.org), we can mention the following use-cases: multi-party\nstateful contracts [11], congestion trees [12], payment pools [13], \"eltoo\"\nlayered commitments [14], programmable vaults [15], multi-events contracts\n[16], blockchain-as-oracle bets [17], spacechains [18], trustless\ncollateral lending [19], ...\n\nMinding all those facts, I would say the task of technical evaluation of\nany covenant proposal sounds at least two fold. There is first reasoning\nabout the enabled protocols on a range of criterias such as scalability,\nefficiency, simplicity, extensibility, robustness, data confidentiality,\netc. Asking questions like what are the interactions between layers, if any\n? Or how robust is the protocol, not just interactivity failure between\n participant nodes but in the face of mempools spikes or internet\ndisruption ? Or if the performance is still acceptable on shared resources\nlike blockspace or routing tables if everyone is using this protocol ? Or\nif the protocol minimizes regulatory attack surface or centralization\nvectors ?\n\nThough once this step is achieved, there is still more reasoning work to\nevaluate how good a fit is a proposed Script primitive, the\nefficiency/simplicity/ease to use trade-offs, but also if there are no\nfunctionality overlap or hard constraints on the use-cases design\nthemselves or evolvability w.rt future Script extensions or generalization\nof the opcode operations.\n\nMoreover, if you would like your evaluation of a covenant proposal to be\ncomplete, I don't believe you can squeeze the implications with the mempool\nrules and combination with any consistent fee-bumping strategy. To say\nthings politely, those areas have been a quagmire of vulnerabilities,\nattacks and defects for second-layers Bitcoin protocols during the last\nyears [20].\n\nConsidering the abundant problem-space offered by covenants, I believe\nthere is a reasonable groundwork to pursue in building the use-cases\nunderstanding (e.g prototype, pseudo-specification, documentation, ...) and\nbuilding consensus on the framework of criterias on which to evaluate them\n[21]. It might raise a really high bar for any covenant proposal compared\nto previous softforks, however I think it would adequately reflect the\ngrowth in Bitcoin complexity and funds at stakes during the last years.\n\nMoving towards this outcome, I would like to propose a new covenant open\nspecification process, in the same spirit as we have with the BOLTs or\ndlcspecs. We would have regular meetings (biweekly/monthly ?), an open\nagenda where topics of discussion can be pinned in advance and\ndocumentation artifacts would be built with time driven by consensus (e.g\n1st phase could be to collect, pseudo-specify and find champion(s) for\nknown use-cases ?) and no timeframe. Starting date could be September /\nOctober / November (later, 2023 ?), giving time for anyone interested in\nsuch a covenant process to allocate development and contribution bandwidth\nin function of their involvement interest.\n\nLearning from the good but specially from the bad with setting up the L2\nonchain support meetings last year, I think it would be better to keep the\nagenda open, loose and free as much we can in a \"burn-the-roadmap\" spirit,\navoiding to create a sense of commitment or perceived signaling in the\nprocess participants towards any covenant solution. I would guess things to\nbe experimental and evolutionary and folks to spend the first meetings\nactually to express what they would like the covenant process to be about\n(and yes that means if you're a domain expert and you find the pace of\nthings too slow sometimes, you have to learn to handle your own\nfrustration...).\n\nIn a \"decentralize-everything\" fashion, I believe it would be good to have\nrotating meeting chairs and multiple covenant documentation archivists. I'm\nsuper happy to spend the time and energy bootstrapping well such covenant\nprocess effort, though as it's Bitcoin learn to decentralize yourself.\n\nI'm really curious what the outcome of such a covenant process would look\nlike. We might end up concluding that complex covenants are too unsafe by\nenabling sophisticated MEV-attacks against LN [22]. Or even if there is an\nemergent technical consensus, it doesn't mean there is a real market\ninterest for such covenant solutions. That said, I'm not sure if it's\nreally a subject of concern when you're reasoning as a scientist/engineer\nand you value technical statements in terms of accuracy, systematic\nrelevance and intrinsic interest.\n\nOverall, my motivation to kick-start such a process stays in the fact that\ncovenants are required building blocks to enable scalable payments pools\ndesign like CoinPool. I believe payments pools are a) cool and b) a good\nshot at scaling Bitcoin as a payment system once we have reached\nscalability limits of Lightning, still under the same security model for\nusers. However, as a community we might sense it's not the good timing for\na covenant process. I'm really fine with that outcome as there are still\nholes to patch in LN to keep me busy enough for the coming years.\n\nZooming out, I believe with any discussion about covenants or other soft\nforks, the hard part isn't about coming up with the best technical solution\nto a set of problems but in the iterative process where all voices are\nlistened to reach (or not) consensus on what is actually meant by \"best\"\nand if the problems are accurate. The real physics of Bitcoin is the\nphysics of people. It's a work of patience.\n\nAnyways, eager to collect feedbacks on what the ideal covenant\nspecification process looks like. As usual, all opinions and mistakes are\nmy own.\n\nCheers,\nAntoine\n\n[0] https://github.com/bitcoin/bips/blob/master/bip-0118.mediawiki\n[1] https://bitcoinops.org/en/topics/op_checksigfromstack/\n[2] https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki\n[3]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019419.html\n[4]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019813.html\n[5] https://github.com/jl2012/bips/blob/vault/bip-0ZZZ.mediawiki\n[6] https://medium.com/blockstream/cat-and-schnorr-tricks-i-faf1b59bd298\n[7]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-February/019926.html\n[8]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-February/015700.html\n[9]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-July/019243.html\n[10] https://github.com/bitcoin/bips/blob/master/bip-0116.mediawiki\n[11]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019808.html\n[12]\nhttps://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki#Congestion_Controlled_Transactions\n[13]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/017964.html\n[14]\nhttps://lists.linuxfoundation.org/pipermail/lightning-dev/2020-January/002448.html\n[15] http://fc17.ifca.ai/bitcoin/papers/bitcoin17-final28.pdf\n[16]\nhttps://github.com/ariard/talk-slides/blob/master/advanced-contracts.pdf\n[17] https://blog.bitmex.com/taproot-you-betcha/\n[18]\nhttps://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a#spacechains\n[19] https://gist.github.com/RubenSomsen/bf08664b3d174551ab7361ffb835fcef\n[20] https://github.com/jamesob/mempool.work\n[21] https://github.com/bitcoinops/bitcoinops.github.io/pull/806\n[22] https://blog.bitmex.com/txwithhold-smart-contracts/\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220720/146ede32/attachment-0001.html>"
            },
            {
                "author": "Ryan Grant",
                "date": "2022-07-23T05:09:57",
                "message_text_only": "+1  I'd participate.\n\nCertain human/organizational limitations prevent things being said in\nlogged channels that sometimes can be shared in person.  Sometimes\npeople break through misunderstandings in person, through either\ninformal mingling or the use of Chatham House rules.  So I would also\nadvocate restarting the Scaling Bitcoin conferences, twice a year.\n\nOne request for the agenda:\nI perceived a lot of \"Oh, well it's also fine to just wait and see\nwhat comes\" in the prior discussions.  The idea that we should reopen\nthis discussion presumes that it is better to not wait, because having\neven imperfect covenant designs will cause the ecosystem to explore\nwhat use cases to allocate developer interest in (as long as the fees\nare not too far off - yeah I'm looking at you, CSFS).  Because of\nthis, I also propose asking some of the more advanced scripting\ntechnologists to reveal what of their work is currently science, what\nis engineering, and what is product-oriented with understandable\ndelivery dates.  I think that if more people understood the answers to\nthese questions then there would be more room for incremental\nexploration of the space."
            },
            {
                "author": "Antoine Riard",
                "date": "2022-07-23T14:57:56",
                "message_text_only": "Hi Ryan,\n\n>  Certain human/organizational limitations prevent things being said in\n> logged channels that sometimes can be shared in person.  Sometimes\n> people break through misunderstandings in person, through either\n> informal mingling or the use of Chatham House rules.  So I would also\n> advocate restarting the Scaling Bitcoin conferences, twice a year.\n\nJust for clarity, I'm proposing online meetings on IRC, not in-person. But\nyes, logged channels can be really narrow on topics and in person sometimes\nlet people grasp the bigger picture or wider context more easily. In my\nopinion, to build understanding and sync on a complex topic there is\nnothing like an old school whiteboard session. That being said,\nhigher-bandwidth communication channels like invite-only events come at the\nprice of openness and context-archiving, which matters a lot in Bitcoin. So\nI think it's good to have a mix of both. It could be interesting to restart\nScaling Bitcoin confs, the scaling landscape has grown wild in the past\nyears (statechains, payment pools, federated chaumian banks, new types of\nsidechains, etc), though I've not heard about orgas kicking them again.\n\n> I perceived a lot of \"Oh, well it's also fine to just wait and see\n> what comes\" in the prior discussions.  The idea that we should reopen\n> this discussion presumes that it is better to not wait, because having\n> even imperfect covenant designs will cause the ecosystem to explore\n> what use cases to allocate developer interest in (as long as the fees\n> are not too far off - yeah I'm looking at you, CSFS).  Because of\n> this, I also propose asking some of the more advanced scripting\n> technologists to reveal what of their work is currently science, what\n> is engineering, and what is product-oriented with understandable\n> delivery dates.  I think that if more people understood the answers to\n> these questions then there would be more room for incremental\n> exploration of the space.\n\nFor sure, there is a \"chicken-and-egg\" issue, in the sense that lack of\ncertainty on finding consensus on covenant designs can deter some of the\nmost experienced and knowledgeable developers to invest time in building\nand maturing use-cases toolchains demonstrating the worthiness of such\nconsensus change. One way to avoid this circular dependency can be to start\nwith a state-of-Bitcoin-art version of the protocol, deploy then once there\nis economic traffic, propose protocol improvement requiring consensus\nchanges back to the community. This is more or less what Lightning is doing\nwith ANYPREVOUT, now there is like 4,300 BTC locked on the network, it's\neasier to argue there is economic interest. Though ultimately, I don't\nbelieve you will ever solve that dead-end risk of Bitcoin research\nto attract automatically more developers. It's common to any scientific\nendeavor, as in the end it's more an \"inner taste\" and exploration for its\nown sake that drives long-term research.\n\nOn the second point, giving clarity on the state of advanced scripting\nuse-cases, effectively I believe it would be an informative task to do for\neach use-case \"champion\". Speaking for payments pools, solving the\nhigh-interactivity issue is still science [0], a pool design for like\n10-100 participants assuming liveliness we might have known engineering\nsolutions [1], yet with still a lot of trade-offs to explore on the core\npool tree mechanism, and now the real unknown and hard task might be to say\na \"product-oriented\" with delivery dates. From my LDK experience, counts\n3/4 years at best to build and mature any FOSS production-ready Bitcoin\ncodebase though in reality if you have to request other changes in the\necosystem like mempools ones for a L2, you don't know.  So for discussion\nclarity, yes it's good if champions give an honest account of knowns and\nunknowns of their use-cases. I would have loved all the mempool issues\naffecting Lightning to have been detected and mitigations development\nstarted earlier in the protocol genesis.\n\nThanks for the feedback, keeping track of them.\n\n\n\n\n\nLe sam. 23 juil. 2022 \u00e0 06:10, Ryan Grant <bitcoin-dev at rgrant.org> a \u00e9crit :\n\n> +1  I'd participate.\n>\n> Certain human/organizational limitations prevent things being said in\n> logged channels that sometimes can be shared in person.  Sometimes\n> people break through misunderstandings in person, through either\n> informal mingling or the use of Chatham House rules.  So I would also\n> advocate restarting the Scaling Bitcoin conferences, twice a year.\n>\n> One request for the agenda:\n> I perceived a lot of \"Oh, well it's also fine to just wait and see\n> what comes\" in the prior discussions.  The idea that we should reopen\n> this discussion presumes that it is better to not wait, because having\n> even imperfect covenant designs will cause the ecosystem to explore\n> what use cases to allocate developer interest in (as long as the fees\n> are not too far off - yeah I'm looking at you, CSFS).  Because of\n> this, I also propose asking some of the more advanced scripting\n> technologists to reveal what of their work is currently science, what\n> is engineering, and what is product-oriented with understandable\n> delivery dates.  I think that if more people understood the answers to\n> these questions then there would be more room for incremental\n> exploration of the space.\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220723/bacfa116/attachment.html>"
            },
            {
                "author": "Michael Folkson",
                "date": "2022-07-23T14:25:15",
                "message_text_only": "Hi Antoine\n\nThis looks great and I can certainly see progress being made in a number of directions on this. I thought you did a great job with the L2 onchain support workshops and I'm sure you'll do a great job moving this forward.\n\nOne cautionary word from someone who is probably still feeling the effects of burn out from the activation drama earlier in the year. No process can guarantee community consensus at the end of it especially if some of those who we consider experts in this area only tentatively participate. The personal attacks and ignoring of views counter to those who were pushing an activation attempt really should not be repeated. (Especially if this process is seeking to include those who we consider experts in this area and don't want their participation to be perceived as tacit approval of whatever is attempted next.)\n\nAs long as this is understood and agreed by participants I can only see positives coming out of this. But please let's not repeat the activation drama from earlier in the year because a process with a subset of those who we would consider experts in this area come to a view and then try to ram that view down everyone's throats by attempting activation at the end of it. Maybe this will result in community consensus on covenant proposal(s) going forward but also maybe it won't. Either outcome is fine. At the very least research will progress and work will be carried out that moves us in a positive direction.\n\nThanks\nMichael\n\n--\nMichael Folkson\nEmail: michaelfolkson at [protonmail.com](http://protonmail.com/)\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n\n------- Original Message -------\nOn Wednesday, July 20th, 2022 at 21:42, Antoine Riard via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hi,\n>\n> Discussions on covenants have been prolific and intense on this mailing list and within the wider Bitcoin technical circles, I believe however without succeeding to reach consensus on any new set of contracting primitives satisfying the requirements of known covenant-enabled use-cases. I think that's a fact to deplore as covenants would not only offer vast extensions of the capabilities of Bitcoin as a system, i.e enabling new types of multi-party contract protocols. But also empowering Bitcoin on its fundamental value propositions of store of value (e.g by making vaults more flexible) and payment system (e.g by making realistic channel factories/payment pools).\n>\n> If we retain as a covenant definition, a spending constraint restricting the transaction to which the spent UTXO can be spent, and enabling to program contracts/protocols at the transaction-level instead of the script-level, the list of Script primitives proposed during the last years has grown large : ANYPREVOUT [0], CHECKSIGFROMSTACK [1], CHECK_TEMPLATE_VERIFY [2], TAPROOT_LEAF_UPDATE_VERIFY [3], TXHASH [4], PUSHTXDATA [5], CAT [6], EVICT [7], Grafroot delegation [8], SIGHASH_GROUP [9], MERKLEBRANCHVERIFY [10] and more than I can't remember. Of course, all the listed primitives are at different states of formalization, some already fully fleshed-out in BIPs, other still ideas on whiteboard, yet they all extend the range of workable multi-party contract protocols.\n>\n> Indeed this range has grown wild. Without aiming to be exhaustive (I'm certainly missing some interesting proposals lost in the abyss of bitcointalk.org), we can mention the following use-cases: multi-party stateful contracts [11], congestion trees [12], payment pools [13], \"eltoo\" layered commitments [14], programmable vaults [15], multi-events contracts [16], blockchain-as-oracle bets [17], spacechains [18], trustless collateral lending [19], ...\n>\n> Minding all those facts, I would say the task of technical evaluation of any covenant proposal sounds at least two fold. There is first reasoning about the enabled protocols on a range of criterias such as scalability, efficiency, simplicity, extensibility, robustness, data confidentiality, etc. Asking questions like what are the interactions between layers, if any ? Or how robust is the protocol, not just interactivity failure between participant nodes but in the face of mempools spikes or internet disruption ? Or if the performance is still acceptable on shared resources like blockspace or routing tables if everyone is using this protocol ? Or if the protocol minimizes regulatory attack surface or centralization vectors ?\n>\n> Though once this step is achieved, there is still more reasoning work to evaluate how good a fit is a proposed Script primitive, the efficiency/simplicity/ease to use trade-offs, but also if there are no functionality overlap or hard constraints on the use-cases design themselves or evolvability w.rt future Script extensions or generalization of the opcode operations.\n>\n> Moreover, if you would like your evaluation of a covenant proposal to be complete, I don't believe you can squeeze the implications with the mempool rules and combination with any consistent fee-bumping strategy. To say things politely, those areas have been a quagmire of vulnerabilities, attacks and defects for second-layers Bitcoin protocols during the last years [20].\n>\n> Considering the abundant problem-space offered by covenants, I believe there is a reasonable groundwork to pursue in building the use-cases understanding (e.g prototype, pseudo-specification, documentation, ...) and building consensus on the framework of criterias on which to evaluate them [21]. It might raise a really high bar for any covenant proposal compared to previous softforks, however I think it would adequately reflect the growth in Bitcoin complexity and funds at stakes during the last years.\n>\n> Moving towards this outcome, I would like to propose a new covenant open specification process, in the same spirit as we have with the BOLTs or dlcspecs. We would have regular meetings (biweekly/monthly ?), an open agenda where topics of discussion can be pinned in advance and documentation artifacts would be built with time driven by consensus (e.g 1st phase could be to collect, pseudo-specify and find champion(s) for known use-cases ?) and no timeframe. Starting date could be September / October / November (later, 2023 ?), giving time for anyone interested in such a covenant process to allocate development and contribution bandwidth in function of their involvement interest.\n>\n> Learning from the good but specially from the bad with setting up the L2 onchain support meetings last year, I think it would be better to keep the agenda open, loose and free as much we can in a \"burn-the-roadmap\" spirit, avoiding to create a sense of commitment or perceived signaling in the process participants towards any covenant solution. I would guess things to be experimental and evolutionary and folks to spend the first meetings actually to express what they would like the covenant process to be about (and yes that means if you're a domain expert and you find the pace of things too slow sometimes, you have to learn to handle your own frustration...).\n>\n> In a \"decentralize-everything\" fashion, I believe it would be good to have rotating meeting chairs and multiple covenant documentation archivists. I'm super happy to spend the time and energy bootstrapping well such covenant process effort, though as it's Bitcoin learn to decentralize yourself.\n>\n> I'm really curious what the outcome of such a covenant process would look like. We might end up concluding that complex covenants are too unsafe by enabling sophisticated MEV-attacks against LN [22]. Or even if there is an emergent technical consensus, it doesn't mean there is a real market interest for such covenant solutions. That said, I'm not sure if it's really a subject of concern when you're reasoning as a scientist/engineer and you value technical statements in terms of accuracy, systematic relevance and intrinsic interest.\n>\n> Overall, my motivation to kick-start such a process stays in the fact that covenants are required building blocks to enable scalable payments pools design like CoinPool. I believe payments pools are a) cool and b) a good shot at scaling Bitcoin as a payment system once we have reached scalability limits of Lightning, still under the same security model for users. However, as a community we might sense it's not the good timing for a covenant process. I'm really fine with that outcome as there are still holes to patch in LN to keep me busy enough for the coming years.\n>\n> Zooming out, I believe with any discussion about covenants or other soft forks, the hard part isn't about coming up with the best technical solution to a set of problems but in the iterative process where all voices are listened to reach (or not) consensus on what is actually meant by \"best\" and if the problems are accurate. The real physics of Bitcoin is the physics of people. It's a work of patience.\n>\n> Anyways, eager to collect feedbacks on what the ideal covenant specification process looks like. As usual, all opinions and mistakes are my own.\n>\n> Cheers,\n> Antoine\n>\n> [0] https://github.com/bitcoin/bips/blob/master/bip-0118.mediawiki\n> [1] https://bitcoinops.org/en/topics/op_checksigfromstack/\n> [2] https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki\n> [3] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019419.html\n> [4] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019813.html\n> [5] https://github.com/jl2012/bips/blob/vault/bip-0ZZZ.mediawiki\n> [6] https://medium.com/blockstream/cat-and-schnorr-tricks-i-faf1b59bd298\n> [7] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-February/019926.html\n> [8] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-February/015700.html\n> [9] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-July/019243.html\n> [10] https://github.com/bitcoin/bips/blob/master/bip-0116.mediawiki\n> [11] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019808.html\n> [12] https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki#Congestion_Controlled_Transactions\n> [13] https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/017964.html\n> [14] https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-January/002448.html\n> [15] http://fc17.ifca.ai/bitcoin/papers/bitcoin17-final28.pdf\n> [16] https://github.com/ariard/talk-slides/blob/master/advanced-contracts.pdf\n> [17] https://blog.bitmex.com/taproot-you-betcha/\n> [18] https://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a#spacechains\n> [19] https://gist.github.com/RubenSomsen/bf08664b3d174551ab7361ffb835fcef\n> [20] https://github.com/jamesob/mempool.work\n> [21] https://github.com/bitcoinops/bitcoinops.github.io/pull/806\n> [22] https://blog.bitmex.com/txwithhold-smart-contracts/\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220723/7b57f683/attachment-0001.html>"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-07-23T16:41:55",
                "message_text_only": "Hi Michael,\n\n> One cautionary word from someone who is probably still feeling the\neffects of burn out from the activation drama earlier in the year. No\nprocess can guarantee community > consensus at the end of it especially if\nsome of those who we consider experts in this area only tentatively\nparticipate. The personal attacks and ignoring of views counter >to those\nwho were pushing an activation attempt really should not be repeated.\n(Especially if this process is seeking to include those who we consider\nexperts in this area > and don't want their participation to be perceived\nas tacit approval of whatever is attempted next.)\n\nI'm thinking such a covenant effort would be more a technical process\naiming to advance the state of covenant & contracting knowledge, collect\nand document the use-cases, exchange engineering learnings from the\nprototype, share the problem space, etc. In the same fashion we have the\nBOLT one or even more remote the IETF working groups about a bunch of\nInternet technology [0]. I think that Taproot/Schnorr has set a high\nstandard in terms of safety-first and careful Bitcoin engineering effort,\naggregating 8 years of thinking around MAST and friends but also exploring\nother signature schemes like BLS. And I hope with covenants we aim for\nhigher standards, as if there is one learning from Taproot we could have\nspent more time working out use-cases prototypes (e.g joinpools) and\nstandard libraries to mature, it could have save actual headache around\nx-pubkeys [1]\n\nIn my perspective, activation is more a matter of release engineering and\ncommunity communications, and failing to a game-theory situation where\nminers incentives are computed is more a hint of a social layer failure.\nWhen we start to consider the moves and incentives of categories of Bitcoin\nplayers (miners, users, exchanges, ...), I would say we failed to keep the\ncommunity as one and increase the safety risks for everyone's coins.\n\nMinding that, and to maximize the participation in such a covenant\nspecification process, similar to the usual Chatham House rules in\nengineering meetings, I believe it could be good to have a \"No Activation -\nNo Timeframe\" rule in such a covenant process, and defer any activation\ndiscussion to a future process of its own.\n\n> As long as this is understood and agreed by participants I can only see\npositives coming out of this. But please let's not repeat the activation\ndrama from earlier in the year > because a process with a subset of those\nwho we would consider experts in this area come to a view and then try to\nram that view down everyone's throats by attempting > activation at the end\nof it. Maybe this will result in community consensus on covenant\nproposal(s) going forward but also maybe it won't. Either outcome is fine.\nAt the very > least research will progress and work will be carried out\nthat moves us in a positive direction\n\nDuring the last LN Summit in Oakland, there was chit-chat on how long it\nwould take to get a mature version of Lightning, and the answer from a\nseasoned FOSS developer was 25 years. Considering the heavy LN\nproblem-space, I think this was a wise take and I believe with covenants we\nwould have to think in that 10/20 years perspective if we aim for a\nsatisfying and complete covenant toolchain. It doesn't mean we are not\ngoing to be able to deploy piece by piece, however there is a strong\nemphasis to be done on the archiving part itself. Some of the process\nstakeholders might still not be active in their engineering careers when\nthe issues should be weighted for consensus activation and transmission of\nknowledge across generations of stakeholders is going to be an issue (as we\nalready see it in Bitcoin Core with some critical subsystems). And if there\nis never community consensus on covenant proposals, that's fine. To me the\nresearch would have been interesting in itself and I hope it will be the\nsame for other participants.\n\n[0] https://datatracker.ietf.org/wg/\n[1]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-July/020663.html\n\nLe sam. 23 juil. 2022 \u00e0 15:25, Michael Folkson <\nmichaelfolkson at protonmail.com> a \u00e9crit :\n\n> Hi Antoine\n>\n> This looks great and I can certainly see progress being made in a number\n> of directions on this. I thought you did a great job with the L2 onchain\n> support workshops and I'm sure you'll do a great job moving this forward.\n>\n> One cautionary word from someone who is probably still feeling the effects\n> of burn out from the activation drama earlier in the year. No process can\n> guarantee community consensus at the end of it especially if some of those\n> who we consider experts in this area only tentatively participate. The\n> personal attacks and ignoring of views counter to those who were pushing an\n> activation attempt really should not be repeated. (Especially if this\n> process is seeking to include those who we consider experts in this area\n> and don't want their participation to be perceived as tacit approval of\n> whatever is attempted next.)\n>\n> As long as this is understood and agreed by participants I can only see\n> positives coming out of this. But please let's not repeat the activation\n> drama from earlier in the year because a process with a subset of those who\n> we would consider experts in this area come to a view and then try to ram\n> that view down everyone's throats by attempting activation at the end of\n> it. Maybe this will result in community consensus on covenant proposal(s)\n> going forward but also maybe it won't. Either outcome is fine. At the very\n> least research will progress and work will be carried out that moves us in\n> a positive direction.\n>\n> Thanks\n> Michael\n>\n> --\n> Michael Folkson\n> Email: michaelfolkson at protonmail.com\n> Keybase: michaelfolkson\n> PGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n>\n> ------- Original Message -------\n> On Wednesday, July 20th, 2022 at 21:42, Antoine Riard via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n> Hi,\n>\n> Discussions on covenants have been prolific and intense on this mailing\n> list and within the wider Bitcoin technical circles, I believe however\n> without succeeding to reach consensus on any new set of contracting\n> primitives satisfying the requirements of known covenant-enabled use-cases.\n> I think that's a fact to deplore as covenants would not only offer vast\n> extensions of the capabilities of Bitcoin as a system, i.e enabling new\n> types of multi-party contract protocols. But also empowering Bitcoin on its\n> fundamental value propositions of store of value (e.g by making vaults more\n> flexible) and payment system (e.g by making realistic channel\n> factories/payment pools).\n>\n> If we retain as a covenant definition, a spending constraint restricting\n> the transaction to which the spent UTXO can be spent, and enabling to\n> program contracts/protocols at the transaction-level instead of the\n> script-level, the list of Script primitives proposed during the last years\n> has grown large : ANYPREVOUT [0], CHECKSIGFROMSTACK [1],\n> CHECK_TEMPLATE_VERIFY [2], TAPROOT_LEAF_UPDATE_VERIFY [3], TXHASH [4],\n> PUSHTXDATA [5], CAT [6], EVICT [7], Grafroot delegation [8], SIGHASH_GROUP\n> [9], MERKLEBRANCHVERIFY [10] and more than I can't remember. Of course, all\n> the listed primitives are at different states of formalization, some\n> already fully fleshed-out in BIPs, other still ideas on whiteboard, yet\n> they all extend the range of workable multi-party contract protocols.\n>\n> Indeed this range has grown wild. Without aiming to be exhaustive (I'm\n> certainly missing some interesting proposals lost in the abyss of\n> bitcointalk.org), we can mention the following use-cases: multi-party\n> stateful contracts [11], congestion trees [12], payment pools [13], \"eltoo\"\n> layered commitments [14], programmable vaults [15], multi-events contracts\n> [16], blockchain-as-oracle bets [17], spacechains [18], trustless\n> collateral lending [19], ...\n>\n> Minding all those facts, I would say the task of technical evaluation of\n> any covenant proposal sounds at least two fold. There is first reasoning\n> about the enabled protocols on a range of criterias such as scalability,\n> efficiency, simplicity, extensibility, robustness, data confidentiality,\n> etc. Asking questions like what are the interactions between layers, if any\n> ? Or how robust is the protocol, not just interactivity failure between\n> participant nodes but in the face of mempools spikes or internet disruption\n> ? Or if the performance is still acceptable on shared resources like\n> blockspace or routing tables if everyone is using this protocol ? Or if the\n> protocol minimizes regulatory attack surface or centralization vectors ?\n>\n> Though once this step is achieved, there is still more reasoning work to\n> evaluate how good a fit is a proposed Script primitive, the\n> efficiency/simplicity/ease to use trade-offs, but also if there are no\n> functionality overlap or hard constraints on the use-cases design\n> themselves or evolvability w.rt future Script extensions or generalization\n> of the opcode operations.\n>\n> Moreover, if you would like your evaluation of a covenant proposal to be\n> complete, I don't believe you can squeeze the implications with the mempool\n> rules and combination with any consistent fee-bumping strategy. To say\n> things politely, those areas have been a quagmire of vulnerabilities,\n> attacks and defects for second-layers Bitcoin protocols during the last\n> years [20].\n>\n> Considering the abundant problem-space offered by covenants, I believe\n> there is a reasonable groundwork to pursue in building the use-cases\n> understanding (e.g prototype, pseudo-specification, documentation, ...) and\n> building consensus on the framework of criterias on which to evaluate them\n> [21]. It might raise a really high bar for any covenant proposal compared\n> to previous softforks, however I think it would adequately reflect the\n> growth in Bitcoin complexity and funds at stakes during the last years.\n>\n> Moving towards this outcome, I would like to propose a new covenant open\n> specification process, in the same spirit as we have with the BOLTs or\n> dlcspecs. We would have regular meetings (biweekly/monthly ?), an open\n> agenda where topics of discussion can be pinned in advance and\n> documentation artifacts would be built with time driven by consensus (e.g\n> 1st phase could be to collect, pseudo-specify and find champion(s) for\n> known use-cases ?) and no timeframe. Starting date could be September /\n> October / November (later, 2023 ?), giving time for anyone interested in\n> such a covenant process to allocate development and contribution bandwidth\n> in function of their involvement interest.\n>\n> Learning from the good but specially from the bad with setting up the L2\n> onchain support meetings last year, I think it would be better to keep the\n> agenda open, loose and free as much we can in a \"burn-the-roadmap\" spirit,\n> avoiding to create a sense of commitment or perceived signaling in the\n> process participants towards any covenant solution. I would guess things to\n> be experimental and evolutionary and folks to spend the first meetings\n> actually to express what they would like the covenant process to be about\n> (and yes that means if you're a domain expert and you find the pace of\n> things too slow sometimes, you have to learn to handle your own\n> frustration...).\n>\n> In a \"decentralize-everything\" fashion, I believe it would be good to have\n> rotating meeting chairs and multiple covenant documentation archivists. I'm\n> super happy to spend the time and energy bootstrapping well such covenant\n> process effort, though as it's Bitcoin learn to decentralize yourself.\n>\n> I'm really curious what the outcome of such a covenant process would look\n> like. We might end up concluding that complex covenants are too unsafe by\n> enabling sophisticated MEV-attacks against LN [22]. Or even if there is an\n> emergent technical consensus, it doesn't mean there is a real market\n> interest for such covenant solutions. That said, I'm not sure if it's\n> really a subject of concern when you're reasoning as a scientist/engineer\n> and you value technical statements in terms of accuracy, systematic\n> relevance and intrinsic interest.\n>\n> Overall, my motivation to kick-start such a process stays in the fact that\n> covenants are required building blocks to enable scalable payments pools\n> design like CoinPool. I believe payments pools are a) cool and b) a good\n> shot at scaling Bitcoin as a payment system once we have reached\n> scalability limits of Lightning, still under the same security model for\n> users. However, as a community we might sense it's not the good timing for\n> a covenant process. I'm really fine with that outcome as there are still\n> holes to patch in LN to keep me busy enough for the coming years.\n>\n> Zooming out, I believe with any discussion about covenants or other soft\n> forks, the hard part isn't about coming up with the best technical solution\n> to a set of problems but in the iterative process where all voices are\n> listened to reach (or not) consensus on what is actually meant by \"best\"\n> and if the problems are accurate. The real physics of Bitcoin is the\n> physics of people. It's a work of patience.\n>\n> Anyways, eager to collect feedbacks on what the ideal covenant\n> specification process looks like. As usual, all opinions and mistakes are\n> my own.\n>\n> Cheers,\n> Antoine\n>\n> [0] https://github.com/bitcoin/bips/blob/master/bip-0118.mediawiki\n> [1] https://bitcoinops.org/en/topics/op_checksigfromstack/\n> [2] https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki\n> [3]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-September/019419.html\n> [4]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019813.html\n> [5] https://github.com/jl2012/bips/blob/vault/bip-0ZZZ.mediawiki\n> [6] https://medium.com/blockstream/cat-and-schnorr-tricks-i-faf1b59bd298\n> [7]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-February/019926.html\n> [8]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-February/015700.html\n> [9]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-July/019243.html\n> [10] https://github.com/bitcoin/bips/blob/master/bip-0116.mediawiki\n> [11]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-January/019808.html\n> [12]\n> https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki#Congestion_Controlled_Transactions\n> [13]\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-June/017964.html\n> [14]\n> https://lists.linuxfoundation.org/pipermail/lightning-dev/2020-January/002448.html\n> [15] http://fc17.ifca.ai/bitcoin/papers/bitcoin17-final28.pdf\n> [16]\n> https://github.com/ariard/talk-slides/blob/master/advanced-contracts.pdf\n> [17] https://blog.bitmex.com/taproot-you-betcha/\n> [18]\n> https://gist.github.com/RubenSomsen/c9f0a92493e06b0e29acced61ca9f49a#spacechains\n> [19] https://gist.github.com/RubenSomsen/bf08664b3d174551ab7361ffb835fcef\n> [20] https://github.com/jamesob/mempool.work\n> [21] https://github.com/bitcoinops/bitcoinops.github.io/pull/806\n> [22] https://blog.bitmex.com/txwithhold-smart-contracts/\n>\n>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220723/90517069/attachment-0001.html>"
            },
            {
                "author": "aliashraf.btc At protonmail",
                "date": "2022-07-24T13:01:25",
                "message_text_only": "------- Original Message -------\nOn Saturday, July 23rd, 2022 at 9:11 PM, Antoine Riard via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hi Michael,\n>\n> I'm thinking such a covenant effort would be more a technical process aiming to advance the state of covenant & contracting knowledge, collect and document the use-cases, exchange engineering learnings from the prototype, share the problem space, etc. In the same fashion we have the BOLT one or even more remote the IETF working groups about a bunch of Internet technology [0]. I think that Taproot/Schnorr has set a high standard in terms of safety-first and careful Bitcoin engineering effort, aggregating 8 years of thinking around MAST and friends but also exploring other signature schemes like BLS. And I hope with covenants we aim for higher standards, as if there is one learning from Taproot we could have spent more time working out use-cases prototypes (e.g joinpools) and standard libraries to mature, it could have save actual headache around x-pubkeys [1]\n\nHi Antoine,\nClaiming Taproot history, as best practice or a standard methodology in bitcoin development, is just too much. Bitcoin development methodology is an open problem, given the contemporary escalation/emergence of challenges, history is not entitled to be hard coded as standard.\n\nSchnorr/MAST development history, is a good subject for case study, but it is not guaranteed that the outcome to be always the same as your take.\n\nI'd suggest instead of inventing a multi-decades-lifecycle based methodology (which is weird by itself, let alone installing it as a standard for bitcoin projects), being open-mind enough for examining more agile approaches and their inevitable effect on the course of discussions,\n\nCheers,\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220724/8de09dce/attachment.html>"
            },
            {
                "author": "ZmnSCPxj",
                "date": "2022-07-24T23:40:35",
                "message_text_only": "Good morning alia, Antoine, and list,\n\n> Hi Antoine,\n> Claiming Taproot history, as best practice or a standard methodology in bitcoin development, is just too much. Bitcoin development methodology is an open problem, given the contemporary escalation/emergence of challenges, history is not\u00a0 entitled to be hard coded as standard.\n>\n> Schnorr/MAST development history, is a good subject for case study, but it is not guaranteed that the outcome to be always the same as your take.\n>\n> I'd suggest instead of inventing a multi-decades-lifecycle based methodology (which is weird by itself, let alone installing it as a standard for bitcoin projects), being open-mind\u00a0 enough for examining more agile approaches and their inevitable effect on the course of discussions,\n\nA thing I have been mulling is how to prototype such mechanisms more easily.\n\nA \"reasonably standard\" approach was pioneered in Elements Alpha, where an entire federated sidechain is created and then used as a testbed for new mechanisms, such as SegWit and `OP_CHECKSIGFROMSTACK`.\nHowever, obviously the cost is fairly large, as you need an entire federated sidechain.\n\nIt does have the nice advantage that you can use \"real\" coins, with real value (subject to the federation being trustworthy, admittedly) in order to convincingly show a case for real-world use.\n\nAs I pointed out in [Smart Contracts Unchained](https://zmnscpxj.github.io/bitcoin/unchained.html), an alternative to using a blockchain would be to use federated individual coin outpoints.\n\nA thing I have been pondering is to create a generic contracting platform with a richer language, which itself is just used to implement a set of `OP_` SCRIPT opcodes.\nThis is similar to my [Microcode proposal](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-March/020158.html) earlier this year.\nThus, it would be possible to prototype new `OP_` codes, or change the behavior of existing `OP_` codes (e.g. `SIGHASH_NOINPUT` would be a change in behavior of existing `OP_CHECKSIG` and `OP_CHECKMULTISIG`), by having a translation from `OP_` codes to the richer language.\nThen you could prototype a new SCRIPT `OP_` code by providing your own translation of the new `OP_` code and a SCRIPT that uses that `OP_` code, and using Smart Contract Unchained to use a real funds outpoint.\n\nAgain, we can compare the Bitcoin consensus layer to a form of hardware: yes, we *could* patch it and change it, but that requires a ***LOT*** of work and the new software has to be redeployed by everyone, so it is, practically speaking, hardware.\nMicrocode helps this by adding a softer layer without compromising the existing hard layer.\n\nSo... what I have been thinking of is creating some kind of smart contracts unchained platform that allows prototyping new `OP_` codes using a microcode mechanism.\n\nRegards,\nZmnSCPxj"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-07-26T03:20:31",
                "message_text_only": "Hi Zeeman,\n\nSo on the first concern of using an \"economic simulation\" or\nsidechains/other cryptocurrencies to gather feedback about interest of\nScript extensions, I wonder about the value transitivity of such a process\nto measure consensus. Namely, if you have asset X picked up in system A, it\ndoesn't tell you the same asset X is preferred in system B, unless I think\nyou have the same agent. However, in cryptocurrencies, at least in Bitcoin,\nwe assume pseudonymous participants. So it can be really hard to say it's\nthe same agent to qualify its utility. Of course, you could have some\nlinking between system A and system B, like signatures if the same signing\nscheme is used. However if it's possible why not use direct assets in\nsystem B to express a preference ? Maybe in the future if we have a\nprivacy-preserving coins ownership proof system we could use that as one\nconsensus indicator [0] ?\n\nAt least in terms of community decision-making, the more we have\ntrust-minimized data signals, _assuming_ we have the information\ncapabilities to process them, the better we're.\n\nThat said, about the covenant working group/process I'm proposing I would\nlike to stay on the use-cases collection, deep trade-offs analysis and\nadequate covenant designs grounds.\n\nActivation really should be its own dedicated process, well-splitted in\nterms of communication channels, documentation archive and timeframes.\n\nAbout a generic contracting platform approach, I think for sure it would be\na huge gain in flexibility for multi-party contract protocols design though\nthere is at least three caveats in my opinion 1) we might open a Pandora\nBox enabling one to design trustless bribing contracts towards miners to\nattack existent deployed Bitcoin use-cases like Lightning (not a\ntheoretical concern at all when we look on the wild west of Defi in other\ncryptocurrencies) 2) the multi-party contract protocol problem space is\nrelatively early, we might evolve the primitive abstraction with which\nwe're dealing and the language itself should evolve 3) we might still have\nto do a lot of economic engineering if the microcode operations or syntax\nunits of the language are bounding well to validation nodes ressources.\n\nSo IMHO, a lot of unknowns about a generic contracting platform (even if\nit's tempting from an application developer viewpoint I know)\n\n[0]\nhttps://lists.linuxfoundation.org/pipermail/lightning-dev/2020-November/002884.html\n[1] For example an input-output bundle abstraction might be better for\nfee-bumping reasons:\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-July/019243.html\n\nLe dim. 24 juil. 2022 \u00e0 19:40, ZmnSCPxj <ZmnSCPxj at protonmail.com> a \u00e9crit :\n\n> Good morning alia, Antoine, and list,\n>\n> > Hi Antoine,\n> > Claiming Taproot history, as best practice or a standard methodology in\n> bitcoin development, is just too much. Bitcoin development methodology is\n> an open problem, given the contemporary escalation/emergence of challenges,\n> history is not  entitled to be hard coded as standard.\n> >\n> > Schnorr/MAST development history, is a good subject for case study, but\n> it is not guaranteed that the outcome to be always the same as your take.\n> >\n> > I'd suggest instead of inventing a multi-decades-lifecycle based\n> methodology (which is weird by itself, let alone installing it as a\n> standard for bitcoin projects), being open-mind  enough for examining more\n> agile approaches and their inevitable effect on the course of discussions,\n>\n> A thing I have been mulling is how to prototype such mechanisms more\n> easily.\n>\n> A \"reasonably standard\" approach was pioneered in Elements Alpha, where an\n> entire federated sidechain is created and then used as a testbed for new\n> mechanisms, such as SegWit and `OP_CHECKSIGFROMSTACK`.\n> However, obviously the cost is fairly large, as you need an entire\n> federated sidechain.\n>\n> It does have the nice advantage that you can use \"real\" coins, with real\n> value (subject to the federation being trustworthy, admittedly) in order to\n> convincingly show a case for real-world use.\n>\n> As I pointed out in [Smart Contracts Unchained](\n> https://zmnscpxj.github.io/bitcoin/unchained.html), an alternative to\n> using a blockchain would be to use federated individual coin outpoints.\n>\n> A thing I have been pondering is to create a generic contracting platform\n> with a richer language, which itself is just used to implement a set of\n> `OP_` SCRIPT opcodes.\n> This is similar to my [Microcode proposal](\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-March/020158.html)\n> earlier this year.\n> Thus, it would be possible to prototype new `OP_` codes, or change the\n> behavior of existing `OP_` codes (e.g. `SIGHASH_NOINPUT` would be a change\n> in behavior of existing `OP_CHECKSIG` and `OP_CHECKMULTISIG`), by having a\n> translation from `OP_` codes to the richer language.\n> Then you could prototype a new SCRIPT `OP_` code by providing your own\n> translation of the new `OP_` code and a SCRIPT that uses that `OP_` code,\n> and using Smart Contract Unchained to use a real funds outpoint.\n>\n> Again, we can compare the Bitcoin consensus layer to a form of hardware:\n> yes, we *could* patch it and change it, but that requires a ***LOT*** of\n> work and the new software has to be redeployed by everyone, so it is,\n> practically speaking, hardware.\n> Microcode helps this by adding a softer layer without compromising the\n> existing hard layer.\n>\n> So... what I have been thinking of is creating some kind of smart\n> contracts unchained platform that allows prototyping new `OP_` codes using\n> a microcode mechanism.\n>\n> Regards,\n> ZmnSCPxj\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220725/f163f2d2/attachment-0001.html>"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-07-26T03:18:03",
                "message_text_only": "Hi aliashraf,\n\nWell, reading the excerpt you're pointing to, I'm using the term \"high\nstandard\" and deliberately not best practice. I hope with the increase in\nthe funds at stakes in the ecosystem and the growth in the technical\ncomplexity, we'll set higher and higher standards in terms of Bitcoin\ndevelopment. For sure, I think engineering standards are not a thing to be\nencoded in a history book and we rest as \"done\". Rather more as a living\nmatter, with the same type of reasoning practiced in common law based on\ncases or civil engineering based on disasters.\n\nAbout a multi-decades-lifecycle based methodology, not in the domain of\nconsensus changes, but in terms of Core policy, I think I've always\nadvocated for more documentation and communication towards the community\n[0]. However, it should be noted that any additional engineering process we\nhold as standard is to be enforced by a set of FOSS contributors, of which\nthe time and energy is limited. So I think it's better to advance in an\nevolutionary and consensus-driven way, and hopefully avoid regression.\n\nThat said, if you have concrete examples of good engineering practices we\ncould adopt in Bitcoin development, especially w.r.t consensus changes, I'm\ncurious about it.\n\n[0] https://github.com/bitcoin/bitcoin/issues/22806\n\nLe dim. 24 juil. 2022 \u00e0 09:01, aliashraf.btc At protonmail <\naliashraf.btc at protonmail.com> a \u00e9crit :\n\n> ------- Original Message -------\n> On Saturday, July 23rd, 2022 at 9:11 PM, Antoine Riard via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n> Hi Michael,\n>\n>\n> I'm thinking such a covenant effort would be more a technical process\n> aiming to advance the state of covenant & contracting knowledge, collect\n> and document the use-cases, exchange engineering learnings from the\n> prototype, share the problem space, etc. In the same fashion we have the\n> BOLT one or even more remote the IETF working groups about a bunch of\n> Internet technology [0]. I think that Taproot/Schnorr has set a high\n> standard in terms of safety-first and careful Bitcoin engineering effort,\n> aggregating 8 years of thinking around MAST and friends but also exploring\n> other signature schemes like BLS. And I hope with covenants we aim for\n> higher standards, as if there is one learning from Taproot we could have\n> spent more time working out use-cases prototypes (e.g joinpools) and\n> standard libraries to mature, it could have save actual headache around\n> x-pubkeys [1]\n>\n> Hi Antoine,\n> Claiming Taproot history, as best practice or a standard methodology in\n> bitcoin development, is just too much. Bitcoin development methodology is\n> an open problem, given the contemporary escalation/emergence of challenges,\n> history is not  entitled to be hard coded as standard.\n>\n> Schnorr/MAST development history, is a good subject for case study, but it\n> is not guaranteed that the outcome to be always the same as your take.\n>\n> I'd suggest instead of inventing a multi-decades-lifecycle based\n> methodology (which is weird by itself, let alone installing it as a\n> standard for bitcoin projects), being open-mind  enough for examining more\n> agile approaches and their inevitable effect on the course of discussions,\n>\n> Cheers,\n>\n>\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220725/8a20f23d/attachment-0001.html>"
            },
            {
                "author": "Bram Cohen",
                "date": "2022-07-24T18:22:51",
                "message_text_only": "On Wed, Jul 20, 2022 at 2:46 PM Antoine Riard via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Indeed this range has grown wild. Without aiming to be exhaustive (I'm\n> certainly missing some interesting proposals lost in the abyss of\n> bitcointalk.org), we can mention the following use-cases: multi-party\n> stateful contracts [11], congestion trees [12], payment pools [13], \"eltoo\"\n> layered commitments [14], programmable vaults [15], multi-events contracts\n> [16], blockchain-as-oracle bets [17], spacechains [18], trustless\n> collateral lending [19], ...\n>\n\nThe big question you missed is whether capabilities are in scope for a\ncovenants proposal. In particular, vaults work a lot better when payments\nto them are immediately locked up in the vault rather than it having to do\na step to accept them first.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220724/37c519d3/attachment.html>"
            },
            {
                "author": "aliashraf.btc At protonmail",
                "date": "2022-07-24T20:26:57",
                "message_text_only": "I suppose it is more about spending from vaults, rather than locking in. A covenant would impose rules for spending tx.e.g. :Don't spend this output unless it is claimed by a tx which\n1) Spends it as a whole in the very first output.\n2) This output is P2SH with specified script pattern ( a TLC script with redeem options)\n\nBoth normal and theft spends are enforced to lock the funds for a reasonable amount of time, providing opportunity for neutralizing the theft just in case. This is becoming more complex once the redeem (cold) key is susceptible to theft and should be prevented from being able to reclaim funds when the legitimate spends has time locked the funds. It is done by requiring the redeem path to comply with a similar pattern with modifications\ne.g. this (redeem) tx fails unless a specific txid is published at least n blocks earlier. This way a cold key only theft won't be able to take advantage because s/he has not access to the specific txid which is generated before and is kept as a 3rd secret, add whatever complexity you wish to.\n\nSent with [Proton Mail](https://proton.me/) secure email.\n\n------- Original Message -------\nOn Sunday, July 24th, 2022 at 10:52 PM, Bram Cohen via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On Wed, Jul 20, 2022 at 2:46 PM Antoine Riard via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Indeed this range has grown wild. Without aiming to be exhaustive (I'm certainly missing some interesting proposals lost in the abyss of bitcointalk.org), we can mention the following use-cases: multi-party stateful contracts [11], congestion trees [12], payment pools [13], \"eltoo\" layered commitments [14], programmable vaults [15], multi-events contracts [16], blockchain-as-oracle bets [17], spacechains [18], trustless collateral lending [19], ...\n>\n> The big question you missed is whether capabilities are in scope for a covenants proposal. In particular, vaults work a lot better when payments to them are immediately locked up in the vault rather than it having to do a step to accept them first.\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220724/8a0c3404/attachment.html>"
            },
            {
                "author": "Antoine Riard",
                "date": "2022-07-26T03:21:11",
                "message_text_only": "What would be the canonical definition and examples of capabilities in the\nBitcoin context ?\n\nIn anycase, I believe it would be better to start a covenant process from\nthe use-cases in themselves, and analyse the trade-offs of any set of\ncontracting primitives, or even new Bitcoin fields if they're required\nbuilding blocks of the use-cases.\n\nLe dim. 24 juil. 2022 \u00e0 14:23, Bram Cohen <bram at chia.net> a \u00e9crit :\n\n> On Wed, Jul 20, 2022 at 2:46 PM Antoine Riard via bitcoin-dev <\n> bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Indeed this range has grown wild. Without aiming to be exhaustive (I'm\n>> certainly missing some interesting proposals lost in the abyss of\n>> bitcointalk.org), we can mention the following use-cases: multi-party\n>> stateful contracts [11], congestion trees [12], payment pools [13], \"eltoo\"\n>> layered commitments [14], programmable vaults [15], multi-events contracts\n>> [16], blockchain-as-oracle bets [17], spacechains [18], trustless\n>> collateral lending [19], ...\n>>\n>\n> The big question you missed is whether capabilities are in scope for a\n> covenants proposal. In particular, vaults work a lot better when payments\n> to them are immediately locked up in the vault rather than it having to do\n> a step to accept them first.\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220725/16bc82f3/attachment.html>"
            },
            {
                "author": "Bram Cohen",
                "date": "2022-07-26T16:02:03",
                "message_text_only": "On Mon, Jul 25, 2022 at 8:21 PM Antoine Riard <antoine.riard at gmail.com>\nwrote:\n\n> What would be the canonical definition and examples of capabilities in the\n> Bitcoin context ?\n>\n\nPayments into vaults which can only be accepted by that vault and are\nguaranteed to be subject to the vault's restrictions (the vault has a\ncapability)\n\nOracles whose validity can be verified on chain (so transactions can depend\non what they say. The oracle has a capability)\n\nColored coins whose validity can be verified on chain (the colored coins\nhave a capability)\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/f3d49255/attachment-0001.html>"
            }
        ],
        "thread_summary": {
            "title": "On a new community process to specify covenants",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Ryan Grant",
                "Antoine Riard",
                "Michael Folkson",
                "ZmnSCPxj",
                "Bram Cohen",
                "aliashraf.btc At protonmail"
            ],
            "messages_count": 13,
            "total_messages_chars_count": 61783
        }
    },
    {
        "title": "[bitcoin-dev] bitcoind -proxy=host:port doesn't work for unroutable network",
        "thread_messages": [
            {
                "author": "Anton Shevchenko",
                "date": "2022-07-23T05:08:55",
                "message_text_only": "Hello,\n\nGot unexpected behavior when trying to run bitcoind with -proxy setting.\n-proxy is used to connect to SOCKS5 proxy which is able to access some internal network.\nbitcoind is started with -noconnect option and network activity is absent (as it should be).\n\nThen I command bitcoin-cli to connect to node with address 10.x.y.z with the command\nbitcoin-cli addnode 10.x.y.z add\n\nExpected behavior is for bitcoind to initiate connection through proxy.\nActual behavior is bitcoind trying to connect without using proxy.\n\nIn the code:\nCConnman::ConnectNode calls GetProxy and GetProxy returns false because CNetAddr::GetNetwork returns NET_UNROUTABLE.\n\nMy take is this is unexpected behavior at minimum and should be documented.\nBetter way is to introduce another option just for the unroutable addresses:\n- connect locally (for compatibility reasons, default);\n- connect thru proxy;\n- don't connect to unroutable addresses.\n\n\n--  Anton Shevchenko"
            },
            {
                "author": "Anton Shevchenko",
                "date": "2022-07-23T13:00:22",
                "message_text_only": "Sorry to post here. Now I realize this is an implementation issue.\nRaised an issue at github - https://github.com/bitcoin/bitcoin/issues/25684\n\n--  Anton Shevchenko\n\nOn Fri, Jul 22, 2022, at 10:08 PM, Anton Shevchenko via bitcoin-dev wrote:\n> Hello,\n>\n> Got unexpected behavior when trying to run bitcoind with -proxy setting.\n> -proxy is used to connect to SOCKS5 proxy which is able to access some \n> internal network.\n> bitcoind is started with -noconnect option and network activity is \n> absent (as it should be).\n>\n> Then I command bitcoin-cli to connect to node with address 10.x.y.z \n> with the command\n> bitcoin-cli addnode 10.x.y.z add\n>\n> Expected behavior is for bitcoind to initiate connection through proxy.\n> Actual behavior is bitcoind trying to connect without using proxy.\n>\n> In the code:\n> CConnman::ConnectNode calls GetProxy and GetProxy returns false because \n> CNetAddr::GetNetwork returns NET_UNROUTABLE.\n>\n> My take is this is unexpected behavior at minimum and should be documented.\n> Better way is to introduce another option just for the unroutable addresses:\n> - connect locally (for compatibility reasons, default);\n> - connect thru proxy;\n> - don't connect to unroutable addresses.\n>\n>\n> --  Anton Shevchenko\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            }
        ],
        "thread_summary": {
            "title": "bitcoind -proxy=host:port doesn't work for unroutable network",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Anton Shevchenko"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 2373
        }
    },
    {
        "title": "[bitcoin-dev] Online Socratic on MuSig2 and biweekly secp256k1 IRC meeting",
        "thread_messages": [
            {
                "author": "Michael Folkson",
                "date": "2022-07-23T13:37:51",
                "message_text_only": "Hi\n\nThere is an online Socratic discussion [0] on MuSig2 next week (Thursday July 28th, 17:00 UTC) that Tim Ruffing has kindly agreed to attend. There is a reading list [1] covering Tim's work and other people's work implementing and researching MuSig2 and hopefully some of those people will attend too. It will be similar in format to the excellent Sydney Socratic with Jesse Posner on FROST in March [2].\n\nFor those who prefer IRC discussions rather than video discussions a biweekly secp256k1 IRC meeting (next one is Monday August 1st 2022 at 15:00 UTC) has recently started on the Libera IRC channel #secp256k1. (To be clear this isn't organized by me but I thought it might be of interest to a similar group of people.)\n\nThanks\nMichael\n\n[0]: https://www.meetup.com/bitdevsldn/events/286583988/\n[1]: https://gist.github.com/michaelfolkson/5bfffa71a93426b57d518b09ebd0998c\n[2]: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-April/020352.html\n\n--\nMichael Folkson\nEmail: michaelfolkson at [protonmail.com](http://protonmail.com/)\nKeybase: michaelfolkson\nPGP: 43ED C999 9F85 1D40 EAF4 9835 92D6 0159 214C FEE3\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220723/6a1f6e51/attachment.html>"
            }
        ],
        "thread_summary": {
            "title": "Online Socratic on MuSig2 and biweekly secp256k1 IRC meeting",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Michael Folkson"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 1309
        }
    },
    {
        "title": "[bitcoin-dev] Regarding setting a lower minrelaytxfee",
        "thread_messages": [
            {
                "author": "Aaradhya Chauhan",
                "date": "2022-07-26T08:26:05",
                "message_text_only": "I know this might be a sort of repetition for a previous question, but I do\nwant to know from enthusiasts in this group that while Bitcoin was trading\nat much lower price in its early days, 1 sat/vB was a good dust protection\nmeasure. But now, I think it's a bit high for merely a dust protection\nmeasure, and should be lowered slightly. Even if not, it should be lowered\nto half when prices go double than today and keeps oscillating at that\npoint. As it's not a consensus rule, I think it can be done easily, just\nneeding support from full node operators. I support LN but I think\ntransaction affordability should remain constant in the future. If I'm okay\nto wait in a queue, I should have the option for same affordability for\nminimum fees in the future as it is today. (Like we still have posts today\nwhile email still exists).\n\nAwaiting your response.\n\nRegards\nAaradhya Chauhan\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/9e541b18/attachment.html>"
            },
            {
                "author": "alicexbt",
                "date": "2022-07-26T12:19:32",
                "message_text_only": "Hi Aaradhya,\n\n> As it's not a consensus rule, I think it can be done easily, just needing support from full node operators\n\nA few miners will need to use a lower minrelaytxfee for this to work. I don't think miners would want to lower their profits.\n\n/dev/fd0\n\nSent with [Proton Mail](https://proton.me/) secure email.\n\n------- Original Message -------\nOn Tuesday, July 26th, 2022 at 1:56 PM, Aaradhya Chauhan via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\nI know this might be a sort of repetition for a previous question, but I do want to know from enthusiasts in this group that while Bitcoin was trading at much lower price in its early days, 1 sat/vB was a good dust protection measure. But now, I think it's a bit high for merely a dust protection measure, and should be lowered slightly. Even if not, it should be lowered to half when prices go double than today and keeps oscillating at that point. As it's not a consensus rule, I think it can be done easily, just needing support from full node operators. I support LN but I think transaction affordability should remain constant in the future. If I'm okay to wait in a queue, I should have the option for same affordability for minimum fees in the future as it is today. (Like we still have posts today while email still exists).\n\nAwaiting your response.\n\nRegards\nAaradhya Chauhan\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/801c59fe/attachment.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-26T14:27:56",
                "message_text_only": "On July 26, 2022 2:19:32 PM GMT+02:00, alicexbt via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>Hi Aaradhya,\n>\n>> As it's not a consensus rule, I think it can be done easily, just needing support from full node operators\n>\n>A few miners will need to use a lower minrelaytxfee for this to work. I don't think miners would want to lower their profits.\n\nWhether or not this lowers profits for a particular miner is complex:\n\nhttps://petertodd.org/2016/block-publication-incentives-for-miners\n\nBut to a first approximation, at any fee above zero failing to mine a tx you know about is leaving money on the table.\n\nAnyway even if miners don't actually mine these txs by themselves, with Child-Pays-For-Parent, allowing near-zero txs into your mempool potentially allows you to mine more fees."
            },
            {
                "author": "alicexbt",
                "date": "2022-07-26T19:14:58",
                "message_text_only": "Hi Peter,\n\n> But to a first approximation, at any fee above zero failing to mine a tx you know about is leaving money on the table\n\nLet's assume 10000 people go from A to B every day in flight. They buy tickets for different prices and some of them are looking to pay the minimum even if it's a morning flight, not preferred seat etc. If the minimum price for ticket drops, will this increase the revenue for airlines?\n\nSome people who avoided flight earlier might book with new minimum although most of them already figured out other ways to travel or paid the old minimum. Maximum people or weight for a flight would still remain the same.\n\n/dev/fd0\n\nSent with Proton Mail secure email.\n\n------- Original Message -------\nOn Tuesday, July 26th, 2022 at 7:57 PM, Peter Todd <pete at petertodd.org> wrote:\n\n\n>\n> On July 26, 2022 2:19:32 PM GMT+02:00, alicexbt via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:\n>\n> > Hi Aaradhya,\n> >\n> > > As it's not a consensus rule, I think it can be done easily, just needing support from full node operators\n> >\n> > A few miners will need to use a lower minrelaytxfee for this to work. I don't think miners would want to lower their profits.\n>\n>\n> Whether or not this lowers profits for a particular miner is complex:\n>\n> https://petertodd.org/2016/block-publication-incentives-for-miners\n>\n> But to a first approximation, at any fee above zero failing to mine a tx you know about is leaving money on the table.\n>\n> Anyway even if miners don't actually mine these txs by themselves, with Child-Pays-For-Parent, allowing near-zero txs into your mempool potentially allows you to mine more fees."
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-26T12:45:12",
                "message_text_only": "On Tue, Jul 26, 2022 at 01:56:05PM +0530, Aaradhya Chauhan via bitcoin-dev wrote:\n> I know this might be a sort of repetition for a previous question, but I do\n> want to know from enthusiasts in this group that while Bitcoin was trading\n> at much lower price in its early days, 1 sat/vB was a good dust protection\n> measure. But now, I think it's a bit high for merely a dust protection\n> measure, and should be lowered slightly. Even if not, it should be lowered\n> to half when prices go double than today and keeps oscillating at that\n> point. As it's not a consensus rule, I think it can be done easily, just\n> needing support from full node operators. I support LN but I think\n> transaction affordability should remain constant in the future. If I'm okay\n> to wait in a queue, I should have the option for same affordability for\n> minimum fees in the future as it is today. (Like we still have posts today\n> while email still exists).\n\nIf we're expecting fee revenue to be significant in the future - with constant\nbacklogs of low-fee txs - lowering the dust limit now is a good way to ensure\nthe entire ecosystem is ready to deal with those conditions. We're fairly close\nto blocks being full, so you can't argue that the dust limit provides value by\nreducing block usage. All it achieves is artificially lowering mempool usage,\nputting the Bitcoin system in a no-backlog state that's quite unlike how we're\nexpecting Bitcoin to operate in the future. And indeed, the state Bitcoin can\noperate in at any moment if there is a demand spike.\n\nSo I'd suggest removing the fixed dust limit entirely and relying purely on the\nmempool size limit to determine what is or is not dust.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/15a41e73/attachment.sig>"
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-27T04:10:00",
                "message_text_only": "> So I'd suggest removing the fixed dust limit entirely and relying purely on the mempool size limit to determine what is or is not dust.\n\nJust use those settings in your node:\n\nminrelaytxfee=0.00000000\nblockmintxfee=0.00000000\ndustrelayfee=0.00000000\n\nNo changes in source code are needed, nodes can change their limits without asking anyone. And if some node is a miner, then it can be enforced. But if not, then still, free transactions are useful for communication (if more of them will be accepted, then we will switch to negative fee transactions with proper sighashes, then it will be very unlikely that miners will voluntarily add coins, so it will remain useful for communication).\n\nOn 2022-07-26 14:45:35 user Peter Todd via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n> On Tue, Jul 26, 2022 at 01:56:05PM +0530, Aaradhya Chauhan via bitcoin-dev wrote:\n> I know this might be a sort of repetition for a previous question, but I do\n> want to know from enthusiasts in this group that while Bitcoin was trading\n> at much lower price in its early days, 1 sat/vB was a good dust protection\n> measure. But now, I think it's a bit high for merely a dust protection\n> measure, and should be lowered slightly. Even if not, it should be lowered\n> to half when prices go double than today and keeps oscillating at that\n> point. As it's not a consensus rule, I think it can be done easily, just\n> needing support from full node operators. I support LN but I think\n> transaction affordability should remain constant in the future. If I'm okay\n> to wait in a queue, I should have the option for same affordability for\n> minimum fees in the future as it is today. (Like we still have posts today\n> while email still exists).\n\nIf we're expecting fee revenue to be significant in the future - with constant\nbacklogs of low-fee txs - lowering the dust limit now is a good way to ensure\nthe entire ecosystem is ready to deal with those conditions. We're fairly close\nto blocks being full, so you can't argue that the dust limit provides value by\nreducing block usage. All it achieves is artificially lowering mempool usage,\nputting the Bitcoin system in a no-backlog state that's quite unlike how we're\nexpecting Bitcoin to operate in the future. And indeed, the state Bitcoin can\noperate in at any moment if there is a demand spike.\n\nSo I'd suggest removing the fixed dust limit entirely and relying purely on the\nmempool size limit to determine what is or is not dust.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n_______________________________________________\nbitcoin-dev mailing list\nbitcoin-dev at lists.linuxfoundation.org\nhttps://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-27T11:50:23",
                "message_text_only": "On July 27, 2022 6:10:00 AM GMT+02:00, vjudeu via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> So I'd suggest removing the fixed dust limit entirely and relying purely on the mempool size limit to determine what is or is not dust.\n>\n>Just use those settings in your node:\n>\n>minrelaytxfee=0.00000000\n>blockmintxfee=0.00000000\n>dustrelayfee=0.00000000\n>\n>No changes in source code are needed, nodes can change their limits without asking anyone. And if some node is a miner, then it can be enforced. But if not, then still, free transactions are useful for communication (if more of them will be accepted, then we will switch to negative fee transactions with proper sighashes, then it will be very unlikely that miners will voluntarily add coins, so it will remain useful for communication).\n\nIt's pointless for individual nodes to make changes like this on their own. Without like-minded peers this achieves nothing. What is relevant is network wide defaults.\n\nThe only time those settings are useful is special situations like miners who want to push txs to their own memlools. For the _vast_ majority of users changing defaults achieves absolutely nothing."
            },
            {
                "author": "vjudeu at gazeta.pl",
                "date": "2022-07-27T12:18:56",
                "message_text_only": "> It's pointless for individual nodes to make changes like this on their own.\n\nIt's pointless only if you assume that mining is centralized. And it's pointless if you also assume that there is no batching. By using different sighashes, batching is definitely possible. In case of one-input-one-output transactions, they should use SIGHASH_SINGLE|SIGHASH_ANYONECANPAY, then it is possible to grab a lot of such transactions, and combine them all into a single transaction, saving some bytes, so fees for each user can be lower than one satoshi per virtual byte, when it is counted in non-batched version. In general, it should be possible to use SIGHASH_ANYONECANPAY by default, and use SIGHASH_PREVOUT_SOMETHING to make signatures from next transactions resistant to changes like adding more inputs and outputs.\n\n> The only time those settings are useful is special situations like miners who want to push txs to their own memlools.\n\nSo they could be more useful, if it would be possible to mine a block with lower than required difficulty (a share), and be rewarded for that in P2P way. So, if some miner collected 7 BTC as a reward (6.25 BTC plus 0.75 BTC in fees), then if that miner created 100 times easier block than needed, it should be rewarded with 0.07 BTC in a P2P way. And if block rewards are based on fees, then it makes perfect sense to collect for example 0.07 BTC in transaction fees, and mine it, leaving the rest for other miners, then they will have an incentive to build on top of that.\n\n\nOn 2022-07-27 14:18:21 user Peter Todd <pete at petertodd.org> wrote:\n> \n\nOn July 27, 2022 6:10:00 AM GMT+02:00, vjudeu via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>> So I'd suggest removing the fixed dust limit entirely and relying purely on the mempool size limit to determine what is or is not dust.\n>\n>Just use those settings in your node:\n>\n>minrelaytxfee=0.00000000\n>blockmintxfee=0.00000000\n>dustrelayfee=0.00000000\n>\n>No changes in source code are needed, nodes can change their limits without asking anyone. And if some node is a miner, then it can be enforced. But if not, then still, free transactions are useful for communication (if more of them will be accepted, then we will switch to negative fee transactions with proper sighashes, then it will be very unlikely that miners will voluntarily add coins, so it will remain useful for communication).\n\nIt's pointless for individual nodes to make changes like this on their own. Without like-minded peers this achieves nothing. What is relevant is network wide defaults.\n\nThe only time those settings are useful is special situations like miners who want to push txs to their own memlools. For the _vast_ majority of users changing defaults achieves absolutely nothing."
            },
            {
                "author": "David A. Harding",
                "date": "2022-07-29T03:38:19",
                "message_text_only": "On 2022-07-26 02:45, Peter Todd via bitcoin-dev wrote:\n> On Tue, Jul 26, 2022 at 01:56:05PM +0530, Aaradhya Chauhan via \n> bitcoin-dev wrote:\n>> [...] in its early days, 1 sat/vB was a good dust protection\n>> measure. But now, I think it's a bit high [...] I think it can be done \n>> easily [...]\n> \n> [...] lowering the dust limit now is a good way to ensure\n> the entire ecosystem is ready to deal with those conditions.\n\nI don't have anything new to add to the conversation at this time, but I \ndid want to suggest a clarification and summarize some previous \ndiscussion that might be useful.\n\nI think the phrasing by Aaradhya Chauhan and Peter Todd above are \nconflating the minimum output amount policy (\"dust limit\") with the \nminimum transaction relay feerate policy (\"min tx relay fee\").  Any \ntransaction with an output amount below a node's configured dust limit \n(a few hundred sat by default) will not be relayed by that node no \nmatter how high of a feerate it pays.  Any transaction with feerate \nbelow a nodes's minimum relay feerate (1 sat/vbyte by default) will not \nbe relayed by that node even if the node has unused space in its mempool \nand peers that use BIP133 feefilters to advertise that they would accept \nlow feerates.\n\nRemoving the dust limit was discussed extensively a year ago[1] with \nadditional follow-up discussion about eight months ago.[2]\n\nLowering the minimum relay feerate was seriously proposed in a patch to \nBitcoin Core four years ago[3] with additional related PRs being opened \nto ease the change.  Not all of the related PRs have been merged yet, \nand the original PR was closed.  I can't easily find some of the \ndiscussions I remember related to that change, but IIRC part of the \nchallenge was that lower minimum relay fees reduce the cost of a variety \nof DoS attacks which could impact BIP152 compact blocks and erlay \nefficiency, could worsen transaction pinning, may increase IBD time due \nto more block chain data, and have other adverse effects.  Additionally, \nwe've found in the past that some people who build systems that take \nadvantage of low feerates become upset when feerates rise, sometimes \ncreating problems even for people who prepared for eventual feerate \nrises.\n\nCompared to the complexity of lowering the minimum feerate, the \nchallenges of preventing denial/degregation-of-service attacks, and \ndealing with a fragmented userbase, the economic benefit of reducing the \nfeerates for the bottom of the mempool seems small---if we lower min \nfeerates to 1/10th their current values and that results in the \nequivalent of an extra 10 blocks of transactions getting mined a day, \nthen users save a total of 0.09 BTC (~$1,800 USD) per day and miners \nearn an extra 0.01 BTC ($200 USD) per day (assuming all other things \nremain equal).[4]\n\n-Dave\n\n[1] \nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-August/019307.html\n[2] \nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-December/019635.html\n[3] https://github.com/bitcoin/bitcoin/pull/13922\n[4] The current min relay fee is 1 sat/vbyte.  There are ~1 million \nvbytes in a block that can be allocated to regular transactions.  Ten \nblocks at the current min relay fee would pay (10 * 1e6 / 1e8 = 0.1 BTC) \nin fees.  Ten blocks at 1/10 sat/vbyte would thus pay 0.01 BTC in fees, \nwhich is $200 USD @ $20k/BTC.  Thus users would save (0.1 - 0.01 = 0.09 \nBTC = $1,800 USD @ $20k/BTC)."
            },
            {
                "author": "Aaradhya Chauhan",
                "date": "2022-07-29T18:59:31",
                "message_text_only": "I think you misunderstood what I said. I did not say that it should be done\nnow, for the obvious reasons that the miners won't be doing any good by\nsuch measures. But I am talking about when the price of BTC escalates to a\npoint when 1sat/vB becomes expensive as a dust limit. If the price\noscillates at that point and above, it would actually create the same\nincentives as it is today. All I imply is to maintain the affordability of\nthe minimum possible fee if one is ready to wait.\n\nOn Fri, 29 Jul 2022 at 9:08 AM David A. Harding via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On 2022-07-26 02:45, Peter Todd via bitcoin-dev wrote:\n> > On Tue, Jul 26, 2022 at 01:56:05PM +0530, Aaradhya Chauhan via\n> > bitcoin-dev wrote:\n> >> [...] in its early days, 1 sat/vB was a good dust protection\n> >> measure. But now, I think it's a bit high [...] I think it can be done\n> >> easily [...]\n> >\n> > [...] lowering the dust limit now is a good way to ensure\n> > the entire ecosystem is ready to deal with those conditions.\n>\n> I don't have anything new to add to the conversation at this time, but I\n> did want to suggest a clarification and summarize some previous\n> discussion that might be useful.\n>\n> I think the phrasing by Aaradhya Chauhan and Peter Todd above are\n> conflating the minimum output amount policy (\"dust limit\") with the\n> minimum transaction relay feerate policy (\"min tx relay fee\").  Any\n> transaction with an output amount below a node's configured dust limit\n> (a few hundred sat by default) will not be relayed by that node no\n> matter how high of a feerate it pays.  Any transaction with feerate\n> below a nodes's minimum relay feerate (1 sat/vbyte by default) will not\n> be relayed by that node even if the node has unused space in its mempool\n> and peers that use BIP133 feefilters to advertise that they would accept\n> low feerates.\n>\n> Removing the dust limit was discussed extensively a year ago[1] with\n> additional follow-up discussion about eight months ago.[2]\n>\n> Lowering the minimum relay feerate was seriously proposed in a patch to\n> Bitcoin Core four years ago[3] with additional related PRs being opened\n> to ease the change.  Not all of the related PRs have been merged yet,\n> and the original PR was closed.  I can't easily find some of the\n> discussions I remember related to that change, but IIRC part of the\n> challenge was that lower minimum relay fees reduce the cost of a variety\n> of DoS attacks which could impact BIP152 compact blocks and erlay\n> efficiency, could worsen transaction pinning, may increase IBD time due\n> to more block chain data, and have other adverse effects.  Additionally,\n> we've found in the past that some people who build systems that take\n> advantage of low feerates become upset when feerates rise, sometimes\n> creating problems even for people who prepared for eventual feerate\n> rises.\n>\n> Compared to the complexity of lowering the minimum feerate, the\n> challenges of preventing denial/degregation-of-service attacks, and\n> dealing with a fragmented userbase, the economic benefit of reducing the\n> feerates for the bottom of the mempool seems small---if we lower min\n> feerates to 1/10th their current values and that results in the\n> equivalent of an extra 10 blocks of transactions getting mined a day,\n> then users save a total of 0.09 BTC (~$1,800 USD) per day and miners\n> earn an extra 0.01 BTC ($200 USD) per day (assuming all other things\n> remain equal).[4]\n>\n> -Dave\n>\n> [1]\n>\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-August/019307.html\n> [2]\n>\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-December/019635.html\n> [3] https://github.com/bitcoin/bitcoin/pull/13922\n> [4] The current min relay fee is 1 sat/vbyte.  There are ~1 million\n> vbytes in a block that can be allocated to regular transactions.  Ten\n> blocks at the current min relay fee would pay (10 * 1e6 / 1e8 = 0.1 BTC)\n> in fees.  Ten blocks at 1/10 sat/vbyte would thus pay 0.01 BTC in fees,\n> which is $200 USD @ $20k/BTC.  Thus users would save (0.1 - 0.01 = 0.09\n> BTC = $1,800 USD @ $20k/BTC).\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220730/d277958a/attachment.html>"
            },
            {
                "author": "Aaradhya Chauhan",
                "date": "2022-07-30T07:55:55",
                "message_text_only": "I'm not suggesting to initiate it anytime soon. But suppose, let's take a\nsituation where Bitcoin reaches and oscillates above 200k to 500k USD, then\n1 sat/vB could be equivalent to 10 sat/vB of today, hampering the \"dust\nrequirement\" (ignoring inflation). I discussed this on the Bitcoin\nsubreddit and some suggested that the developers, in the future, have to\njust change the \"default minimum relay tx fee\" from 1000 today to 500 at\nthat time. Obviously it's gonna be a little above 500, if we count\ninflation. That would simply equate to the current situation. Do you think\nthat would be a problem?\n\nOn Fri, 29 Jul 2022 at 09:08, David A. Harding via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> On 2022-07-26 02:45, Peter Todd via bitcoin-dev wrote:\n> > On Tue, Jul 26, 2022 at 01:56:05PM +0530, Aaradhya Chauhan via\n> > bitcoin-dev wrote:\n> >> [...] in its early days, 1 sat/vB was a good dust protection\n> >> measure. But now, I think it's a bit high [...] I think it can be done\n> >> easily [...]\n> >\n> > [...] lowering the dust limit now is a good way to ensure\n> > the entire ecosystem is ready to deal with those conditions.\n>\n> I don't have anything new to add to the conversation at this time, but I\n> did want to suggest a clarification and summarize some previous\n> discussion that might be useful.\n>\n> I think the phrasing by Aaradhya Chauhan and Peter Todd above are\n> conflating the minimum output amount policy (\"dust limit\") with the\n> minimum transaction relay feerate policy (\"min tx relay fee\").  Any\n> transaction with an output amount below a node's configured dust limit\n> (a few hundred sat by default) will not be relayed by that node no\n> matter how high of a feerate it pays.  Any transaction with feerate\n> below a nodes's minimum relay feerate (1 sat/vbyte by default) will not\n> be relayed by that node even if the node has unused space in its mempool\n> and peers that use BIP133 feefilters to advertise that they would accept\n> low feerates.\n>\n> Removing the dust limit was discussed extensively a year ago[1] with\n> additional follow-up discussion about eight months ago.[2]\n>\n> Lowering the minimum relay feerate was seriously proposed in a patch to\n> Bitcoin Core four years ago[3] with additional related PRs being opened\n> to ease the change.  Not all of the related PRs have been merged yet,\n> and the original PR was closed.  I can't easily find some of the\n> discussions I remember related to that change, but IIRC part of the\n> challenge was that lower minimum relay fees reduce the cost of a variety\n> of DoS attacks which could impact BIP152 compact blocks and erlay\n> efficiency, could worsen transaction pinning, may increase IBD time due\n> to more block chain data, and have other adverse effects.  Additionally,\n> we've found in the past that some people who build systems that take\n> advantage of low feerates become upset when feerates rise, sometimes\n> creating problems even for people who prepared for eventual feerate\n> rises.\n>\n> Compared to the complexity of lowering the minimum feerate, the\n> challenges of preventing denial/degregation-of-service attacks, and\n> dealing with a fragmented userbase, the economic benefit of reducing the\n> feerates for the bottom of the mempool seems small---if we lower min\n> feerates to 1/10th their current values and that results in the\n> equivalent of an extra 10 blocks of transactions getting mined a day,\n> then users save a total of 0.09 BTC (~$1,800 USD) per day and miners\n> earn an extra 0.01 BTC ($200 USD) per day (assuming all other things\n> remain equal).[4]\n>\n> -Dave\n>\n> [1]\n>\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-August/019307.html\n> [2]\n>\n> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-December/019635.html\n> [3] https://github.com/bitcoin/bitcoin/pull/13922\n> [4] The current min relay fee is 1 sat/vbyte.  There are ~1 million\n> vbytes in a block that can be allocated to regular transactions.  Ten\n> blocks at the current min relay fee would pay (10 * 1e6 / 1e8 = 0.1 BTC)\n> in fees.  Ten blocks at 1/10 sat/vbyte would thus pay 0.01 BTC in fees,\n> which is $200 USD @ $20k/BTC.  Thus users would save (0.1 - 0.01 = 0.09\n> BTC = $1,800 USD @ $20k/BTC).\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220730/d76c0ff9/attachment-0001.html>"
            },
            {
                "author": "alicexbt",
                "date": "2022-07-30T17:24:35",
                "message_text_only": "Hi Aaradhya,\n\n> I discussed this on the Bitcoin subreddit and some suggested that the developers, in the future, have to just change the \"default minimum relay tx fee\" from 1000 today to 500 at that time.\n\n>\n\nThere are several issues and pull requests (open and closed) in which developers tried to decrease the default minimum relay tx fee rate. Even I had opened an issue after reading this thread:\n\nhttps://github.com/bitcoin/bitcoin/issues/25716\n\nHowever, I think developers should not make any changes in the default minimum fee rate required for relay. If there are incentives for users and miners to change it, they should use non-default value. In case, miners want to experiment with lower fee rate and see if this increases revenue they could try using it on odd dates (even dates remain default) for a month. We all could analyze how this worked for different mining pools and non-default value (lower or higher) could become normal in the future.\n\n/dev/fd0\n\nSent with [Proton Mail](https://proton.me/) secure email.\n\n------- Original Message -------\nOn Saturday, July 30th, 2022 at 1:25 PM, Aaradhya Chauhan via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> I'm not suggesting to initiate it anytime soon. But suppose, let's take a situation where Bitcoin reaches and oscillates above 200k to 500k USD, then 1 sat/vB could be equivalent to 10 sat/vB of today, hampering the \"dust requirement\" (ignoring inflation). I discussed this on the Bitcoin subreddit and some suggested that the developers, in the future, have to just change the \"default minimum relay tx fee\" from 1000 today to 500 at that time. Obviously it's gonna be a little above 500, if we count inflation. That would simply equate to the current situation. Do you think that would be a problem?\n>\n> On Fri, 29 Jul 2022 at 09:08, David A. Harding via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> On 2022-07-26 02:45, Peter Todd via bitcoin-dev wrote:\n>>> On Tue, Jul 26, 2022 at 01:56:05PM +0530, Aaradhya Chauhan via\n>>> bitcoin-dev wrote:\n>>>> [...] in its early days, 1 sat/vB was a good dust protection\n>>>> measure. But now, I think it's a bit high [...] I think it can be done\n>>>> easily [...]\n>>>\n>>> [...] lowering the dust limit now is a good way to ensure\n>>> the entire ecosystem is ready to deal with those conditions.\n>>\n>> I don't have anything new to add to the conversation at this time, but I\n>> did want to suggest a clarification and summarize some previous\n>> discussion that might be useful.\n>>\n>> I think the phrasing by Aaradhya Chauhan and Peter Todd above are\n>> conflating the minimum output amount policy (\"dust limit\") with the\n>> minimum transaction relay feerate policy (\"min tx relay fee\"). Any\n>> transaction with an output amount below a node's configured dust limit\n>> (a few hundred sat by default) will not be relayed by that node no\n>> matter how high of a feerate it pays. Any transaction with feerate\n>> below a nodes's minimum relay feerate (1 sat/vbyte by default) will not\n>> be relayed by that node even if the node has unused space in its mempool\n>> and peers that use BIP133 feefilters to advertise that they would accept\n>> low feerates.\n>>\n>> Removing the dust limit was discussed extensively a year ago[1] with\n>> additional follow-up discussion about eight months ago.[2]\n>>\n>> Lowering the minimum relay feerate was seriously proposed in a patch to\n>> Bitcoin Core four years ago[3] with additional related PRs being opened\n>> to ease the change. Not all of the related PRs have been merged yet,\n>> and the original PR was closed. I can't easily find some of the\n>> discussions I remember related to that change, but IIRC part of the\n>> challenge was that lower minimum relay fees reduce the cost of a variety\n>> of DoS attacks which could impact BIP152 compact blocks and erlay\n>> efficiency, could worsen transaction pinning, may increase IBD time due\n>> to more block chain data, and have other adverse effects. Additionally,\n>> we've found in the past that some people who build systems that take\n>> advantage of low feerates become upset when feerates rise, sometimes\n>> creating problems even for people who prepared for eventual feerate\n>> rises.\n>>\n>> Compared to the complexity of lowering the minimum feerate, the\n>> challenges of preventing denial/degregation-of-service attacks, and\n>> dealing with a fragmented userbase, the economic benefit of reducing the\n>> feerates for the bottom of the mempool seems small---if we lower min\n>> feerates to 1/10th their current values and that results in the\n>> equivalent of an extra 10 blocks of transactions getting mined a day,\n>> then users save a total of 0.09 BTC (~$1,800 USD) per day and miners\n>> earn an extra 0.01 BTC ($200 USD) per day (assuming all other things\n>> remain equal).[4]\n>>\n>> -Dave\n>>\n>> [1]\n>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-August/019307.html\n>> [2]\n>> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-December/019635.html\n>> [3] https://github.com/bitcoin/bitcoin/pull/13922\n>> [4] The current min relay fee is 1 sat/vbyte. There are ~1 million\n>> vbytes in a block that can be allocated to regular transactions. Ten\n>> blocks at the current min relay fee would pay (10 * 1e6 / 1e8 = 0.1 BTC)\n>> in fees. Ten blocks at 1/10 sat/vbyte would thus pay 0.01 BTC in fees,\n>> which is $200 USD @ $20k/BTC. Thus users would save (0.1 - 0.01 = 0.09\n>> BTC = $1,800 USD @ $20k/BTC).\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220730/3647ecb7/attachment-0001.html>"
            },
            {
                "author": "Peter Todd",
                "date": "2022-07-30T10:20:49",
                "message_text_only": "On Thu, Jul 28, 2022 at 05:38:19PM -1000, David A. Harding wrote:\n> I think the phrasing by Aaradhya Chauhan and Peter Todd above are conflating\n> the minimum output amount policy (\"dust limit\") with the minimum transaction\n> relay feerate policy (\"min tx relay fee\").  Any transaction with an output\n\nThanks for the correction! Brainfart on my part there.\n\n-- \nhttps://petertodd.org 'peter'[:-1]@petertodd.org\n-------------- next part --------------\nA non-text attachment was scrubbed...\nName: signature.asc\nType: application/pgp-signature\nSize: 833 bytes\nDesc: not available\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220730/52afd438/attachment.sig>"
            }
        ],
        "thread_summary": {
            "title": "Regarding setting a lower minrelaytxfee",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "David A. Harding",
                "Peter Todd",
                "vjudeu at gazeta.pl",
                "alicexbt",
                "Aaradhya Chauhan"
            ],
            "messages_count": 13,
            "total_messages_chars_count": 32752
        }
    },
    {
        "title": "[bitcoin-dev] Discussion about message verification draft BIP",
        "thread_messages": [
            {
                "author": "Ali Sherief",
                "date": "2022-07-26T08:52:32",
                "message_text_only": "Hi guys, I have created a discussion thread for my draft BIP related to message verification on BitcoinTalk:\u00a0https://bitcointalk.org/index.php?topic=5407517.0\n\nFeel free to read it and contribute if you wish.\n\n- Ali"
            }
        ],
        "thread_summary": {
            "title": "Discussion about message verification draft BIP",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Ali Sherief"
            ],
            "messages_count": 1,
            "total_messages_chars_count": 215
        }
    },
    {
        "title": "[bitcoin-dev] BIP Proposal: Receiving and Change Derivation Paths in a Single Descriptor",
        "thread_messages": [
            {
                "author": "Andrew Chow",
                "date": "2022-07-26T21:41:12",
                "message_text_only": "Hi All,\n\nI would like to propose a BIP that de-duplicates and simplifies how we\nrepresent descriptors for receiving and change addresses. Under the\nexisting BIPs, this requires two descriptors, where the vast majority of\nthe descriptors are the same, except for a single derivation path\nelement. This proposal allows descriptors to have a single derivation\npath element that can specify a pair of indexes. Parsers would then\nexpand these into two almost identical descriptors with the difference\nbeing that the first uses the first of the pair of indexes, and the\nsecond uses the second.\n\nThe proposed notation is `<a;b>`. As an example,\n`wpkh(xpub.../0/<0;1>/*)` would be expanded into `wpkh(xpub.../0/0/*)`\nand `wpkh(xpub.../0/1/*)`.\n\nThis also works for descriptors involving multiple keys - the first\nelement in every pair is used for the first descriptor, and the second\nelement of each pair in the second descriptor.\n\nThe full text of the BIP can be found at\nhttps://github.com/achow101/bips/blob/bip-multipath-descs/bip-multipath-descs.mediawiki\nand also copied below. An implementation of it to Bitcoin Core is\navailable at https://github.com/bitcoin/bitcoin/pull/22838.\n\nAny feedback on this would be appreciated.\n\nThanks,\nAndrew Chow\n\n---\n\n<pre>\n \u00a0 BIP: multipath-descs\n \u00a0 Layer: Applications\n \u00a0 Title: Multipath Descriptor Key Expressions\n \u00a0 Author: Andrew Chow <andrew at achow101.com>\n \u00a0 Comments-Summary: No comments yet.\n \u00a0 Comments-URI:\nhttps://github.com/bitcoin/bips/wiki/Comments:BIP-multipath-descs\n \u00a0 Status: Draft\n \u00a0 Type: Informational\n \u00a0 Created: 2022-07-26\n \u00a0 License: BSD-2-Clause\n</pre>\n\n==Abstract==\n\nThis document specifies a modification to Key Expressions of Descriptors\nthat are described in BIP 380.\nThis modification allows Key Expressions to indicate BIP 32 derivation\npath steps that can have multiple values.\n\n==Copyright==\n\nThis BIP is licensed under the BSD 2-clause license.\n\n==Motivation==\n\nDescriptors can describe the scripts that are used in a wallet, but\nwallets often require at least two descriptors for all of the scripts\nthat they watch for.\nWallets typically have one descriptor for producing receiving addresses,\nand the other for change addresses.\nThese descriptors are often extremely similar - they produce the same\ntypes of scripts, derive keys from the same master key, and use\nderivation paths that are almost identical.\nThe only differences are in the derivation path where one of the steps\nwill be different between the descriptors.\nThus it is useful to have a notation to represent both descriptors as a\nsingle descriptor where one of the derivation steps is a pair of values.\n\n==Specification==\n\nFor extended keys and their derivations paths in a Key Expression, BIP\n380 states:\n\n* <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\nextended private key (as defined in BIP 32)\n** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\nelements indicating BIP 32 derivation steps to be taken after the given\nextended key.\n** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\nstep to denote all direct unhardened or hardened children.\n\nThis is modifed to state:\n\n* <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\nextended private key (as defined in BIP 32)\n** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\nelements indicating BIP 32 derivation steps to be taken after the given\nextended key.\n** Followed by zero or one <tt>/<NUM;NUM></tt> (<tt>NUM</tt> may be\nfollowed by <tt>h</tt> to indicated a hardened step)\u00a0 path element\nindicating a pair of BIP 32 derivation steps to be taken after the given\nextended key.\n** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\nelements indicating BIP 32 derivation steps to be taken after the given\nextended key.\n** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\nstep to denote all direct unhardened or hardened children.\n\nWhen a <tt>/<NUM;NUM></tt> is encountered, parsers should produce two\ndescriptors where the first descriptor uses the first <tt>NUM</tt>, and\na second descriptor uses the second <tt>NUM</tt>.\n\nThe common use case for this is to represent descriptors for producing\nreceiving and change addresses.\nWhen interpreting for this use case, wallets should use the first\ndescriptor for producing receiving addresses, and the second descriptor\nfor producing change addresses.\nFor this use case, the element will commonly be the value <tt>/<0;1></tt>\n\n==Test Vectors==\n\nTBD\n\n==Backwards Compatibility==\n\nThis is an addition to the Key Expressions defined in BIP 380.\nKey Expressions using the format described in BIP 380 are compatible\nwith this modification and parsers that implement this will still be\nable to parse such descriptors.\nHowever as this is an addition to Key Expressions, older parsers will\nnot be able to understand such descriptors.\n\nThis modification to Key Expressions uses two new characters: <tt><</tt>\nand <tt>;</tt>.\nThese are part of the descriptor character set and so are covered by the\nchecksum algorithm.\nAs these are previously unused characters, old parsers will not\naccidentally mistake them for indicating something else.\n\n==Reference Implementation==\n\nhttps://github.com/bitcoin/bitcoin/pull/22838"
            },
            {
                "author": "Pavol Rusnak",
                "date": "2022-07-26T21:56:10",
                "message_text_only": "Thanks Andrew for this BIP. We've been already using this for quite some\ntime for Trezor in production.\n\nJust one clarification: Should <NUM;NUM;NUM>, <NUM;NUM;NUM;NUM>, ... also\nwork or we only aim to support only tuples of exactly two values?\n\nOn Tue, 26 Jul 2022 at 23:51, Andrew Chow via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hi All,\n>\n> I would like to propose a BIP that de-duplicates and simplifies how we\n> represent descriptors for receiving and change addresses. Under the\n> existing BIPs, this requires two descriptors, where the vast majority of\n> the descriptors are the same, except for a single derivation path\n> element. This proposal allows descriptors to have a single derivation\n> path element that can specify a pair of indexes. Parsers would then\n> expand these into two almost identical descriptors with the difference\n> being that the first uses the first of the pair of indexes, and the\n> second uses the second.\n>\n> The proposed notation is `<a;b>`. As an example,\n> `wpkh(xpub.../0/<0;1>/*)` would be expanded into `wpkh(xpub.../0/0/*)`\n> and `wpkh(xpub.../0/1/*)`.\n>\n> This also works for descriptors involving multiple keys - the first\n> element in every pair is used for the first descriptor, and the second\n> element of each pair in the second descriptor.\n>\n> The full text of the BIP can be found at\n>\n> https://github.com/achow101/bips/blob/bip-multipath-descs/bip-multipath-descs.mediawiki\n> and also copied below. An implementation of it to Bitcoin Core is\n> available at https://github.com/bitcoin/bitcoin/pull/22838.\n>\n> Any feedback on this would be appreciated.\n>\n> Thanks,\n> Andrew Chow\n>\n> ---\n>\n> <pre>\n>    BIP: multipath-descs\n>    Layer: Applications\n>    Title: Multipath Descriptor Key Expressions\n>    Author: Andrew Chow <andrew at achow101.com>\n>    Comments-Summary: No comments yet.\n>    Comments-URI:\n> https://github.com/bitcoin/bips/wiki/Comments:BIP-multipath-descs\n>    Status: Draft\n>    Type: Informational\n>    Created: 2022-07-26\n>    License: BSD-2-Clause\n> </pre>\n>\n> ==Abstract==\n>\n> This document specifies a modification to Key Expressions of Descriptors\n> that are described in BIP 380.\n> This modification allows Key Expressions to indicate BIP 32 derivation\n> path steps that can have multiple values.\n>\n> ==Copyright==\n>\n> This BIP is licensed under the BSD 2-clause license.\n>\n> ==Motivation==\n>\n> Descriptors can describe the scripts that are used in a wallet, but\n> wallets often require at least two descriptors for all of the scripts\n> that they watch for.\n> Wallets typically have one descriptor for producing receiving addresses,\n> and the other for change addresses.\n> These descriptors are often extremely similar - they produce the same\n> types of scripts, derive keys from the same master key, and use\n> derivation paths that are almost identical.\n> The only differences are in the derivation path where one of the steps\n> will be different between the descriptors.\n> Thus it is useful to have a notation to represent both descriptors as a\n> single descriptor where one of the derivation steps is a pair of values.\n>\n> ==Specification==\n>\n> For extended keys and their derivations paths in a Key Expression, BIP\n> 380 states:\n>\n> * <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\n> extended private key (as defined in BIP 32)\n> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n> elements indicating BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\n> step to denote all direct unhardened or hardened children.\n>\n> This is modifed to state:\n>\n> * <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\n> extended private key (as defined in BIP 32)\n> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n> elements indicating BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Followed by zero or one <tt>/<NUM;NUM></tt> (<tt>NUM</tt> may be\n> followed by <tt>h</tt> to indicated a hardened step)  path element\n> indicating a pair of BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n> elements indicating BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\n> step to denote all direct unhardened or hardened children.\n>\n> When a <tt>/<NUM;NUM></tt> is encountered, parsers should produce two\n> descriptors where the first descriptor uses the first <tt>NUM</tt>, and\n> a second descriptor uses the second <tt>NUM</tt>.\n>\n> The common use case for this is to represent descriptors for producing\n> receiving and change addresses.\n> When interpreting for this use case, wallets should use the first\n> descriptor for producing receiving addresses, and the second descriptor\n> for producing change addresses.\n> For this use case, the element will commonly be the value <tt>/<0;1></tt>\n>\n> ==Test Vectors==\n>\n> TBD\n>\n> ==Backwards Compatibility==\n>\n> This is an addition to the Key Expressions defined in BIP 380.\n> Key Expressions using the format described in BIP 380 are compatible\n> with this modification and parsers that implement this will still be\n> able to parse such descriptors.\n> However as this is an addition to Key Expressions, older parsers will\n> not be able to understand such descriptors.\n>\n> This modification to Key Expressions uses two new characters: <tt><</tt>\n> and <tt>;</tt>.\n> These are part of the descriptor character set and so are covered by the\n> checksum algorithm.\n> As these are previously unused characters, old parsers will not\n> accidentally mistake them for indicating something else.\n>\n> ==Reference Implementation==\n>\n> https://github.com/bitcoin/bitcoin/pull/22838\n>\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n\n\n-- \nBest Regards / S pozdravom,\n\nPavol \"stick\" Rusnak\nCo-Founder, SatoshiLabs\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/cef0a54a/attachment-0001.html>"
            },
            {
                "author": "Andrew Chow",
                "date": "2022-07-26T22:27:58",
                "message_text_only": "I went with just tuples of two values because that's easier to implement and targets exactly what people were asking for. However I don't see why this couldn't generalize to any sized tuples. As long as the tuples are all the same length, and the limit is one tuple per key expression, then we don't get any combinatorial blowup issues.\n\nAre there any use cases for variable length tuples?\n\nAndrew\n\nOn 07/26/2022 05:56 PM, Pavol Rusnak wrote:\n\n> Thanks Andrew for this BIP. We've been already using this for quite some time for Trezor in production.\n>\n> Just one clarification: Should <NUM;NUM;NUM>, <NUM;NUM;NUM;NUM>, ... also work or we only aim to support only tuples of exactly two values?\n>\n> On Tue, 26 Jul 2022 at 23:51, Andrew Chow via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n>\n>> Hi All,\n>>\n>> I would like to propose a BIP that de-duplicates and simplifies how we\n>> represent descriptors for receiving and change addresses. Under the\n>> existing BIPs, this requires two descriptors, where the vast majority of\n>> the descriptors are the same, except for a single derivation path\n>> element. This proposal allows descriptors to have a single derivation\n>> path element that can specify a pair of indexes. Parsers would then\n>> expand these into two almost identical descriptors with the difference\n>> being that the first uses the first of the pair of indexes, and the\n>> second uses the second.\n>>\n>> The proposed notation is `<a;b>`. As an example,\n>> `wpkh(xpub.../0/<0;1>/*)` would be expanded into `wpkh(xpub.../0/0/*)`\n>> and `wpkh(xpub.../0/1/*)`.\n>>\n>> This also works for descriptors involving multiple keys - the first\n>> element in every pair is used for the first descriptor, and the second\n>> element of each pair in the second descriptor.\n>>\n>> The full text of the BIP can be found at\n>> https://github.com/achow101/bips/blob/bip-multipath-descs/bip-multipath-descs.mediawiki\n>> and also copied below. An implementation of it to Bitcoin Core is\n>> available at https://github.com/bitcoin/bitcoin/pull/22838.\n>>\n>> Any feedback on this would be appreciated.\n>>\n>> Thanks,\n>> Andrew Chow\n>>\n>> ---\n>>\n>> <pre>\n>> BIP: multipath-descs\n>> Layer: Applications\n>> Title: Multipath Descriptor Key Expressions\n>> Author: Andrew Chow <andrew at achow101.com>\n>> Comments-Summary: No comments yet.\n>> Comments-URI:\n>> https://github.com/bitcoin/bips/wiki/Comments:BIP-multipath-descs\n>> Status: Draft\n>> Type: Informational\n>> Created: 2022-07-26\n>> License: BSD-2-Clause\n>> </pre>\n>>\n>> ==Abstract==\n>>\n>> This document specifies a modification to Key Expressions of Descriptors\n>> that are described in BIP 380.\n>> This modification allows Key Expressions to indicate BIP 32 derivation\n>> path steps that can have multiple values.\n>>\n>> ==Copyright==\n>>\n>> This BIP is licensed under the BSD 2-clause license.\n>>\n>> ==Motivation==\n>>\n>> Descriptors can describe the scripts that are used in a wallet, but\n>> wallets often require at least two descriptors for all of the scripts\n>> that they watch for.\n>> Wallets typically have one descriptor for producing receiving addresses,\n>> and the other for change addresses.\n>> These descriptors are often extremely similar - they produce the same\n>> types of scripts, derive keys from the same master key, and use\n>> derivation paths that are almost identical.\n>> The only differences are in the derivation path where one of the steps\n>> will be different between the descriptors.\n>> Thus it is useful to have a notation to represent both descriptors as a\n>> single descriptor where one of the derivation steps is a pair of values.\n>>\n>> ==Specification==\n>>\n>> For extended keys and their derivations paths in a Key Expression, BIP\n>> 380 states:\n>>\n>> * <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\n>> extended private key (as defined in BIP 32)\n>> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n>> elements indicating BIP 32 derivation steps to be taken after the given\n>> extended key.\n>> ** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\n>> step to denote all direct unhardened or hardened children.\n>>\n>> This is modifed to state:\n>>\n>> * <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\n>> extended private key (as defined in BIP 32)\n>> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n>> elements indicating BIP 32 derivation steps to be taken after the given\n>> extended key.\n>> ** Followed by zero or one <tt>/<NUM;NUM></tt> (<tt>NUM</tt> may be\n>> followed by <tt>h</tt> to indicated a hardened step) path element\n>> indicating a pair of BIP 32 derivation steps to be taken after the given\n>> extended key.\n>> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n>> elements indicating BIP 32 derivation steps to be taken after the given\n>> extended key.\n>> ** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\n>> step to denote all direct unhardened or hardened children.\n>>\n>> When a <tt>/<NUM;NUM></tt> is encountered, parsers should produce two\n>> descriptors where the first descriptor uses the first <tt>NUM</tt>, and\n>> a second descriptor uses the second <tt>NUM</tt>.\n>>\n>> The common use case for this is to represent descriptors for producing\n>> receiving and change addresses.\n>> When interpreting for this use case, wallets should use the first\n>> descriptor for producing receiving addresses, and the second descriptor\n>> for producing change addresses.\n>> For this use case, the element will commonly be the value <tt>/<0;1></tt>\n>>\n>> ==Test Vectors==\n>>\n>> TBD\n>>\n>> ==Backwards Compatibility==\n>>\n>> This is an addition to the Key Expressions defined in BIP 380.\n>> Key Expressions using the format described in BIP 380 are compatible\n>> with this modification and parsers that implement this will still be\n>> able to parse such descriptors.\n>> However as this is an addition to Key Expressions, older parsers will\n>> not be able to understand such descriptors.\n>>\n>> This modification to Key Expressions uses two new characters: <tt><</tt>\n>> and <tt>;</tt>.\n>> These are part of the descriptor character set and so are covered by the\n>> checksum algorithm.\n>> As these are previously unused characters, old parsers will not\n>> accidentally mistake them for indicating something else.\n>>\n>> ==Reference Implementation==\n>>\n>> https://github.com/bitcoin/bitcoin/pull/22838\n>>\n>> _______________________________________________\n>> bitcoin-dev mailing list\n>> bitcoin-dev at lists.linuxfoundation.org\n>> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n> --\n>\n> Best Regards / S pozdravom,\n>\n> Pavol \"stick\" Rusnak\n> Co-Founder, SatoshiLabs\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220726/a37dc703/attachment.html>"
            },
            {
                "author": "Pavol Rusnak",
                "date": "2022-07-27T08:44:36",
                "message_text_only": "On Wed, 27 Jul 2022 at 00:28, Andrew Chow <achow101-lists at achow101.com>\nwrote:\n\n> However I don't see why this couldn't generalize to any sized tuples. As\n> long as the tuples are all the same length, and the limit is one tuple per\n> key expression, then we don't get any combinatorial blowup issues.\n>\n\nI think it's worthwhile to generalize for any sized tuples. I don't have\nany existing particular use case in mind, because BIP-44, BIP-84, etc. are\nfine with just using <0;1>, but there might be some upcoming standards in\nthe future that will want to introduce more sub-paths.\n\n\n-- \nBest Regards / S pozdravom,\n\nPavol \"stick\" Rusnak\nCo-Founder, SatoshiLabs\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220727/d71a012a/attachment.html>"
            },
            {
                "author": "Craig Raw",
                "date": "2022-07-27T07:57:19",
                "message_text_only": "Thanks Andrew for proposing the BIP, I have used this syntax in Sparrow for\nsome time now.\n\nI find a single, compact descriptor for a wallet is important when copying\nout as a backup, particularly onto durable media. More so when it is a\nmultisig wallet that ideally requires a backup of all the xpubs. Multipath\ndescriptors as proposed in this BIP address this need well.\n\nCraig\n\nOn Tue, Jul 26, 2022 at 11:51 PM Andrew Chow via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hi All,\n>\n> I would like to propose a BIP that de-duplicates and simplifies how we\n> represent descriptors for receiving and change addresses. Under the\n> existing BIPs, this requires two descriptors, where the vast majority of\n> the descriptors are the same, except for a single derivation path\n> element. This proposal allows descriptors to have a single derivation\n> path element that can specify a pair of indexes. Parsers would then\n> expand these into two almost identical descriptors with the difference\n> being that the first uses the first of the pair of indexes, and the\n> second uses the second.\n>\n> The proposed notation is `<a;b>`. As an example,\n> `wpkh(xpub.../0/<0;1>/*)` would be expanded into `wpkh(xpub.../0/0/*)`\n> and `wpkh(xpub.../0/1/*)`.\n>\n> This also works for descriptors involving multiple keys - the first\n> element in every pair is used for the first descriptor, and the second\n> element of each pair in the second descriptor.\n>\n> The full text of the BIP can be found at\n>\n> https://github.com/achow101/bips/blob/bip-multipath-descs/bip-multipath-descs.mediawiki\n> and also copied below. An implementation of it to Bitcoin Core is\n> available at https://github.com/bitcoin/bitcoin/pull/22838.\n>\n> Any feedback on this would be appreciated.\n>\n> Thanks,\n> Andrew Chow\n>\n> ---\n>\n> <pre>\n>    BIP: multipath-descs\n>    Layer: Applications\n>    Title: Multipath Descriptor Key Expressions\n>    Author: Andrew Chow <andrew at achow101.com>\n>    Comments-Summary: No comments yet.\n>    Comments-URI:\n> https://github.com/bitcoin/bips/wiki/Comments:BIP-multipath-descs\n>    Status: Draft\n>    Type: Informational\n>    Created: 2022-07-26\n>    License: BSD-2-Clause\n> </pre>\n>\n> ==Abstract==\n>\n> This document specifies a modification to Key Expressions of Descriptors\n> that are described in BIP 380.\n> This modification allows Key Expressions to indicate BIP 32 derivation\n> path steps that can have multiple values.\n>\n> ==Copyright==\n>\n> This BIP is licensed under the BSD 2-clause license.\n>\n> ==Motivation==\n>\n> Descriptors can describe the scripts that are used in a wallet, but\n> wallets often require at least two descriptors for all of the scripts\n> that they watch for.\n> Wallets typically have one descriptor for producing receiving addresses,\n> and the other for change addresses.\n> These descriptors are often extremely similar - they produce the same\n> types of scripts, derive keys from the same master key, and use\n> derivation paths that are almost identical.\n> The only differences are in the derivation path where one of the steps\n> will be different between the descriptors.\n> Thus it is useful to have a notation to represent both descriptors as a\n> single descriptor where one of the derivation steps is a pair of values.\n>\n> ==Specification==\n>\n> For extended keys and their derivations paths in a Key Expression, BIP\n> 380 states:\n>\n> * <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\n> extended private key (as defined in BIP 32)\n> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n> elements indicating BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\n> step to denote all direct unhardened or hardened children.\n>\n> This is modifed to state:\n>\n> * <tt>xpub</tt> encoded extended public key or <tt>xprv</tt> encoded\n> extended private key (as defined in BIP 32)\n> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n> elements indicating BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Followed by zero or one <tt>/<NUM;NUM></tt> (<tt>NUM</tt> may be\n> followed by <tt>h</tt> to indicated a hardened step)  path element\n> indicating a pair of BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Followed by zero or more <tt>/NUM</tt> or <tt>/NUMh</tt> path\n> elements indicating BIP 32 derivation steps to be taken after the given\n> extended key.\n> ** Optionally followed by a single <tt>/*</tt> or <tt>/*h</tt> final\n> step to denote all direct unhardened or hardened children.\n>\n> When a <tt>/<NUM;NUM></tt> is encountered, parsers should produce two\n> descriptors where the first descriptor uses the first <tt>NUM</tt>, and\n> a second descriptor uses the second <tt>NUM</tt>.\n>\n> The common use case for this is to represent descriptors for producing\n> receiving and change addresses.\n> When interpreting for this use case, wallets should use the first\n> descriptor for producing receiving addresses, and the second descriptor\n> for producing change addresses.\n> For this use case, the element will commonly be the value <tt>/<0;1></tt>\n>\n> ==Test Vectors==\n>\n> TBD\n>\n> ==Backwards Compatibility==\n>\n> This is an addition to the Key Expressions defined in BIP 380.\n> Key Expressions using the format described in BIP 380 are compatible\n> with this modification and parsers that implement this will still be\n> able to parse such descriptors.\n> However as this is an addition to Key Expressions, older parsers will\n> not be able to understand such descriptors.\n>\n> This modification to Key Expressions uses two new characters: <tt><</tt>\n> and <tt>;</tt>.\n> These are part of the descriptor character set and so are covered by the\n> checksum algorithm.\n> As these are previously unused characters, old parsers will not\n> accidentally mistake them for indicating something else.\n>\n> ==Reference Implementation==\n>\n> https://github.com/bitcoin/bitcoin/pull/22838\n>\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220727/91885f13/attachment-0001.html>"
            },
            {
                "author": "Andrew Chow",
                "date": "2022-07-27T14:58:28",
                "message_text_only": "I've updated the BIP text to allow arbitrary length tuples.\n\nOn 07/27/2022 04:44 AM, Pavol Rusnak wrote:\n\n> On Wed, 27 Jul 2022 at 00:28, Andrew Chow <achow101-lists at achow101.com> wrote:\n>\n>> However I don't see why this couldn't generalize to any sized tuples. As long as the tuples are all the same length, and the limit is one tuple per key expression, then we don't get any combinatorial blowup issues.\n>\n> I think it's worthwhile to generalize for any sized tuples. I don't have any existing particular use case in mind, because BIP-44, BIP-84, etc. are fine with just using <0;1>, but there might be some upcoming standards in the future that will want to introduce more sub-paths.\n>\n> --\n>\n> Best Regards / S pozdravom,\n>\n> Pavol \"stick\" Rusnak\n> Co-Founder, SatoshiLabs\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220727/d7691026/attachment.html>"
            },
            {
                "author": "Dmitry Petukhov",
                "date": "2022-07-28T09:40:16",
                "message_text_only": "The issue with tuples of lenth more than two is that the purpose for\nindexes beyond 'receive' and 'change' are not established, and\ntherefore various software might start to use extra indexes in a tuple\nfor their own non-standard purposes. This is bound to create\nincompatibilities where different wallet software that import the same\ndescriptor would use those addresses for different purposes.\n\nEven if some auxiliary standard emerges for the meanings of extra\nindexes, since the indexes in the tuple are listed without omissions (no\n\"<0;1;;;3>\" allowed), all software will need to be aware of the\nexistence of these purposes and define indexes for them: if one wishes\nto utilize position 3 in such a tuple, they will need to define an index\nfor position 2 as well.\n\nI'd expect that emergence of new widely-used purposes for indexes would\nbe a very rare event, and a separate BIP for each purpose wouldn't be\nexcessive.\n\nI'd say that bip-multipath-descs should say that extra indexes are OK\nfor address discovery (for scanning of the addresses of a wallet), but\nit should say that any interpretation of the purpose of such indexes\nand deriving new addresses at these indexes are strongly discouraged.\n\nWallet software that wishes to utilize non-standard extra indexes beyond\n'receive' and 'change' should use separate descriptors instead for\nthese extra indexes.\n\nAnd when a new established purpose emerges for the next position in the\nindex tuple, a new BIP should be made that defines such position.\n\nThe BIP for position 3 would naturally come after the BIP for position\n2, and thus software that implemnents BIP for position 3 would be aware\nof the previous BIP and will at least know to choose some index for\nposition 2.\n\n\u0412 Wed, 27 Jul 2022 14:58:28 +0000\nAndrew Chow via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org>\nwrote:\n\n> I've updated the BIP text to allow arbitrary length tuples.\n> \n> On 07/27/2022 04:44 AM, Pavol Rusnak wrote:\n> \n> > On Wed, 27 Jul 2022 at 00:28, Andrew Chow\n> > <achow101-lists at achow101.com> wrote: \n> >> However I don't see why this couldn't generalize to any sized\n> >> tuples. As long as the tuples are all the same length, and the\n> >> limit is one tuple per key expression, then we don't get any\n> >> combinatorial blowup issues.  \n> >\n> > I think it's worthwhile to generalize for any sized tuples. I don't\n> > have any existing particular use case in mind, because BIP-44,\n> > BIP-84, etc. are fine with just using <0;1>, but there might be\n> > some upcoming standards in the future that will want to introduce\n> > more sub-paths.\n> >\n> > --\n> >\n> > Best Regards / S pozdravom,\n> >\n> > Pavol \"stick\" Rusnak\n> > Co-Founder, SatoshiLab"
            }
        ],
        "thread_summary": {
            "title": "BIP Proposal: Receiving and Change Derivation Paths in a Single Descriptor",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Andrew Chow",
                "Pavol Rusnak",
                "Dmitry Petukhov",
                "Craig Raw"
            ],
            "messages_count": 7,
            "total_messages_chars_count": 29286
        }
    },
    {
        "title": "[bitcoin-dev] Zero-knowledge proofs e.g. Schnorr are incompatible with address signing without compromise",
        "thread_messages": [
            {
                "author": "Ali Sherief",
                "date": "2022-07-28T07:27:02",
                "message_text_only": "Here is an except of the BIP-notatether-messageverify thread, where I contemplate how to implement address/message signing support for Taproot i.e. Schnorr signatures, in my post at:\n\nhttps://bitcointalk.org/index.php?topic=5407517.msg60642144#msg60642144\n\n(stripped of bbcode formatting)\n\n======\n\nSo I have mostly figured out what should be done regarding the signing and verification from Taproot addresses. The good news is that BIP340 has already made this a standard saving me the headache of having to re-implement this all over again (not that I want to in the first place).\n\nDespite being a draft, I see it as a net positive to include this signing format for Taproot addresses ahead of time i.e. before wallets even support Taproot addresses yet.\n\nA few notes before I begin the quote of relevant parts:\n\n- Eventually they chose \"BIP340/challenge\" as the key prefix aka. the tag. So I guess a different tag \"BIP-notatether\" would be incompatible with that so I drop my signing tag.\n\n- They selected encoding only the x coord of R and P (not that this is relevant to use since I chose (e,s) encoding format), and they chose Y must be the even for P and R. It might not be relevant here since I can also use (e,s) as a signature format, but I am having great difficulty deciding between that or (R,s). I believe that only one of these formats should be used for maximum consistency. [But I do not see wallets placing multiple fields for public keys just to support batch verification.]\n\n- The public key is required for all Schnorr verification schemes. This complicates the message signing/verification UI as \"address\" is supposed to contain an address, however the verification scheme cannot recover the public key (as achow101 mentioned). These differences might call for making a separate draft just for Schnorr signatures. Personally, I want to refrain from making any decision until I review the BIP137 signatures.\n\n--------\n\n==== Default Signing ====\n\nInput:\n* The secret key ''sk'': a 32-byte array\n* The message ''m'': a 32-byte array\n* Auxiliary random data ''a'': a 32-byte array\n\nThe algorithm ''Sign(sk, m)'' is defined as:\n* Let ''d' = int(sk)''\n* Fail if ''d' = 0'' or ''d' \u2265 n''\n* Let ''P = d' \u00b7 G''\n* Let ''d = d' '' if ''has_even_y(P)'', otherwise let ''d = n - d' ''.\n* Let ''t'' be the byte-wise xor of ''bytes(d)'' and ''hash<sub>BIP0340/aux</sub>(a)''<ref>The auxiliary random data is hashed (with a unique tag) as a precaution against situations where the randomness may be correlated with the private key itself. It is xored with the private key (rather than combined with it in a hash) to reduce the number of operations exposed to the actual secret key.</ref>.\n* Let ''rand = hash<sub>BIP0340/nonce</sub>(t || bytes(P) || m)''<ref>Including the [https://moderncrypto.org/mail-archive/curves/2020/001012.html public key as input to the nonce hash] helps ensure the robustness of the signing algorithm by preventing leakage of the secret key if the calculation of the public key ''P'' is performed incorrectly or maliciously, for example if it is left to the caller for performance reasons.</ref>.\n* Let ''k' = int(rand) mod n''<ref>Note that in general, taking a uniformly random 256-bit integer modulo the curve order will produce an unacceptably biased result. However, for the secp256k1 curve, the order is sufficiently close to ''2<sup>256</sup>'' that this bias is not observable (''1 - n / 2<sup>256</sup>'' is around ''1.27 * 2<sup>-128</sup>'').</ref>.\n* Fail if ''k' = 0''.\n* Let ''R = k' \u00b7 G''.\n* Let ''k = k' '' if ''has_even_y(R)'', otherwise let ''k = n - k' ''.\n* Let ''e = int(hash<sub>BIP0340/challenge</sub>(bytes(R) || bytes(P) || m)) mod n''.\n* Let ''sig = bytes(R) || bytes((k + ed) mod n)''.\n* If ''Verify(bytes(P), m, sig)'' (see below) returns failure, abort<ref>Verifying the signature before leaving the signer prevents random or attacker provoked computation errors. This prevents publishing invalid signatures which may leak information about the secret key. It is recommended, but can be omitted if the computation cost is prohibitive.</ref>.\n* Return the signature ''sig''.\n\n\n==== Verification ====\n\nInput:\n* The public key ''pk'': a 32-byte array\n* The message ''m'': a 32-byte array\n* A signature ''sig'': a 64-byte array\n\nThe algorithm ''Verify(pk, m, sig)'' is defined as:\n* Let ''P = lift_x(int(pk))''; fail if that fails.\n* Let ''r = int(sig[0:32])''; fail if ''r \u2265 p''.\n* Let ''s = int(sig[32:64])''; fail if ''s \u2265 n''.\n* Let ''e = int(hash<sub>BIP0340/challenge</sub>(bytes(r) || bytes(P) || m)) mod n''.\n* Let ''R = s \u00b7 G - e \u00b7 P''.\n* Fail if ''is_infinite(R)''.\n* Fail if ''not has_even_y(R)''.\n* Fail if ''x(R) \u2260 r''.\n* Return success iff no failure occurred before reaching this point.\n\nFor every valid secret key ''sk'' and message ''m'', ''Verify(PubKey(sk),m,Sign(sk,m))'' will succeed.\n\n-------\n\nIt's too early for my draft to cut off some dead wood from this draft, but I will end this post with a note:\n\n- The purpose of address message signing/verification is to cryptographically prove that a message has come from a specific address. Granted, this is malleable, since the signing isn't technically done with address, but with public keys in the case of both ECDSA and Schnorr, so a legacy address which validates a message implies that its corresponding segwit addresses can also validate it, since they all share the same public key. In the case of Taproot, if somebody wanted to verify that a message indeed came from a taproot address, 'Signature' can be overloaded by concatenating the Schnorr signature and public key together like this:\n\n(e,s) or (R,s) || public key\n\nAnd the public key sent to the verification algorithm. The signature will still be a fixed-size payload. It is true that it destructs the \"zero-knowledge\" benefit with Schnorr signatures, but this will allow maximum compatibility with ECDSA address verification. After all, hasn't BIP340 itself made tradeoffs of its own to preserve compatibility with ECDSA message generation, such as choosing the parity of Y coordinates?\n\nThe truth is, is that you can't verify an address message without general knowledge of the public key. And zero-knowledge signatures such as Schnorr completely disallow for that. Given that it is highly likely that future address types will also make use of Schnorr signatures, and the growing disproportion between legacy addresses and the rest of the addresses requires that the community make a choice regarding message signatures now - Do they really want them, or not?\n\n========\n\nEssentially, zero-knowledge proofs such as Schnorr are not compatible with address message signing - the public key cannot be retrieved from the address or the signature, so the address does not actually prove the authenticity of a Schnorr signature. That's why the public key is required as an input in the first place.\n\nIn order to make it compatible with the address signing mechanism, the zero-knowledge part would have to be sacrificed in my BIP, or else a completely separate message signing format just for Taproot would be required (which, in my view, is redundant - there is already the draft BIP322 which can verify anything and everything, but nobody is implementing that, just like BIP340)."
            },
            {
                "author": "Pieter Wuille",
                "date": "2022-07-28T15:27:05",
                "message_text_only": "------- Original Message -------\nOn Thursday, July 28th, 2022 at 3:27 AM, Ali Sherief via bitcoin-dev <bitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Essentially, zero-knowledge proofs such as Schnorr are not compatible with address message signing - the public key cannot be retrieved from the address or the signature, so the address does not actually prove the authenticity of a Schnorr signature. That's why the public key is required as an input in the first place.\n\nYes, that's an intentional design choice in BIP340, see note 5: https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki#cite_ref-5-0. The choice is either batch verifiability or public key recovery.\n\nI regret ever using public key recovery when introducing the old legacy message signing scheme. It should just have used script signatures like BIP322 proposes.\n\n> In order to make it compatible with the address signing mechanism, the zero-knowledge part would have to be sacrificed in my BIP, or else a completely separate message signing format just for Taproot would be required\n\nYou can avoid relying on public key recovery, and include the public key + BIP340 signature in the encoded signature.\n\n> (which, in my view, is redundant - there is already the draft BIP322 which can verify anything and everything, but nobody is implementing that\n\nI think it would be much better if people would cooperate to get BIP322 to move forward than to keep inventing other formats. It's the obvious solution in my opinion: not restricted to single-key policies, compatible with every script type, and trivially extensible to future schemes.\n\n> , just like BIP340).\n\nHow so? Every taproot compatible wallet has a BIP340 implementation.\n\nCheers,\n\n--\nPieter"
            },
            {
                "author": "Ali Sherief",
                "date": "2022-07-28T15:51:18",
                "message_text_only": "> Yes, that's an intentional design choice in BIP340, see note 5: https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki#cite_ref-5-0. The choice is either batch verifiability or public key recovery.\n\nThe way I understood the BIP, was that a user can do batch recovery or single-key recovery. Can you explain how it is possible to recover a public key from a single-key signature, because a few days earlier on the BIP-notatether-messageverify thread I was told (I think it was achow) that Schnorr doesn't allow for public key recovery.\n\nAt any case, I was already planning on just concatenating the public key after the signature (the other option I was thinking of, appending it after the Taproot address, is quite unruly in my opinion).\n\n> I think it would be much better if people would cooperate to get BIP322 to move forward than to keep inventing other formats. It's the obvious solution in my opinion: not restricted to single-key policies, compatible with every script type, and trivially extensible to future schemes.\n\nThis is why I especially tried to avoid making a new format - My BIP is strictly an Informational one. That strategy worked pretty well up to now, but now I find myself forced to make a small concession in the design to support the verification of Taproot address. But I'm glad it's quite trivial as appending a single variable. So at least this BIP won't be an obstacle to any such effort.\n\n[Besides, since I'm also planning on detecting BIP137 in the verification methods, I can assume the Signature field contains arbitrary data.]\n\n> > , just like BIP340).\n>\n>\n> How so? Every taproot compatible wallet has a BIP340 implementation.\n\nI guess I made an assumption, since almost all of the wallets I have seen did not have a sign message feature, not even for legacy addresses.\n\n- Ali\n\n------- Original Message -------\nOn Thursday, July 28th, 2022 at 3:27 PM, Pieter Wuille <bitcoin-dev at wuille.net> wrote:\n\n\n> ------- Original Message -------\n> On Thursday, July 28th, 2022 at 3:27 AM, Ali Sherief via bitcoin-dev bitcoin-dev at lists.linuxfoundation.org wrote:\n>\n> > Essentially, zero-knowledge proofs such as Schnorr are not compatible with address message signing - the public key cannot be retrieved from the address or the signature, so the address does not actually prove the authenticity of a Schnorr signature. That's why the public key is required as an input in the first place.\n>\n>\n> Yes, that's an intentional design choice in BIP340, see note 5: https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki#cite_ref-5-0. The choice is either batch verifiability or public key recovery.\n>\n> I regret ever using public key recovery when introducing the old legacy message signing scheme. It should just have used script signatures like BIP322 proposes.\n>\n> > In order to make it compatible with the address signing mechanism, the zero-knowledge part would have to be sacrificed in my BIP, or else a completely separate message signing format just for Taproot would be required\n>\n>\n> You can avoid relying on public key recovery, and include the public key + BIP340 signature in the encoded signature.\n>\n> > (which, in my view, is redundant - there is already the draft BIP322 which can verify anything and everything, but nobody is implementing that\n>\n>\n> I think it would be much better if people would cooperate to get BIP322 to move forward than to keep inventing other formats. It's the obvious solution in my opinion: not restricted to single-key policies, compatible with every script type, and trivially extensible to future schemes.\n>\n> > , just like BIP340).\n>\n>\n> How so? Every taproot compatible wallet has a BIP340 implementation.\n>\n> Cheers,\n>\n> --\n> Pieter"
            },
            {
                "author": "Pieter Wuille",
                "date": "2022-07-28T15:58:03",
                "message_text_only": "------- Original Message -------\nOn Thursday, July 28th, 2022 at 11:51 AM, Ali Sherief <ali at notatether.com> wrote:\n\n> The way I understood the BIP, was that a user can do batch recovery or single-key recovery. Can you explain how it is possible to recover a public key from a single-key signature, because a few days earlier on the BIP-notatether-messageverify thread I was told (I think it was achow) that Schnorr doesn't allow for public key recovery.\n\nNo, BIP340, in its design decisions, had to choice to either support public key recovery, or support batch validation. We chose to support batch validation for a variety of reason. BIP340 does not in any way support key recovery.\n\n> > > , just like BIP340).\n> >\n> > How so? Every taproot compatible wallet has a BIP340 implementation.\n>\n>\n> I guess I made an assumption, since almost all of the wallets I have seen did not have a sign message feature, not even for legacy addresses.\n\nI'm not talking about sign message, I'm talking about BIP340 for the purpose of transaction signing, as it's the signature scheme used in BIP341/BIP342.\n\nMy point being: for any prospective message signing feature, if the wallet supports taproot signing, they inevitably already have code to produce BIP340 signatures. If they don't support taproot signing, then message signing for it is irrelevant.\n\nCheers,\n\n--\nPieter"
            }
        ],
        "thread_summary": {
            "title": "Zero-knowledge proofs e.g. Schnorr are incompatible with address signing without compromise",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Ali Sherief",
                "Pieter Wuille"
            ],
            "messages_count": 4,
            "total_messages_chars_count": 14083
        }
    },
    {
        "title": "[bitcoin-dev] New BIP: Private Payments",
        "thread_messages": [
            {
                "author": "Alfred Hodler",
                "date": "2022-07-30T09:24:47",
                "message_text_only": "Hi,\n\nWe propose a new BIP that facilitates more private two-party transactions. This is a strict improvement upon BIP47, with increased privacy and better future-proofing.\n\nThe contents may be found here:\nhttps://github.com/alfred-hodler/bips/blob/bip-alfredhodler-private-payments/bip-alfredhodler-privatepayments.mediawiki\n\nWe hope to collect feedback and be assigned with a BIP number. A reference implementation will be published once the BIP is deemed viable.\n\nAlfred"
            },
            {
                "author": "Ruben Somsen",
                "date": "2022-07-30T13:41:36",
                "message_text_only": "Hi Alfred,\n\nThanks for all the effort.\n\nNote that in the previous thread I mentioned[0] that this proposal\nintroduces a scanning requirement in order to detect incoming notifications\n(complicating light client implementation). I recommend that you put this\ninformation in the BIP, as this is an important downside that readers\nshould be aware of.\n\nI'm also now realizing that your proposal is actually *very* similar to the\nBIP47 protocol improvement suggestions that were made in Prague:\nhttps://gist.github.com/RubenSomsen/21c477c90c942acf45f8e8f5c1ad4fae\n\nAs far as I can tell, the one difference is that you added an extra ECDH\ncalculation to hide the recipient payment code. Uncoincidentally, this is\nalso exactly what causes the downside of having a scanning requirement, and\nit seems the only benefit you get in return is that you don't have to\noutsource the notification (as is the case in the Prague protocol) and can\nbroadcast it yourself instead. I'm personally unsure whether this is a net\nimprovement, but that is certainly open to debate. I'd say it's worth\nhaving this discussion prior to finalizing the BIP, as otherwise it could\npotentially result in yet another incompatible standard further down the\nline.\n\nConsidering the similarity, perhaps you could consider crediting the\nparticipants of the Prague discussion (namely Alekos Filini, Martin\nHabov\u0161tiak, and myself). And I imagine Silent Payments[1] may have served\nas an inspiration as well. I also recommend taking another look at the\n\"Allowing collisions\" paragraph from the Prague discussion, as it can\npotentially shave off up to 28 bytes.\n\nI hope you find this feedback reasonable and it doesn't discourage you.\nThere's way too much work to be done on Bitcoin, so I'm happy to see you\nare actively putting in the effort to move things forward. Working out the\ndetails such as how to handle address formats is also very much\nappreciated. Keep it up.\n\nCheers,\nRuben\n\n\n[0]\nhttps://lists.linuxfoundation.org/pipermail/bitcoin-dev/2022-June/020607.html\n\n[1] https://gist.github.com/RubenSomsen/c43b79517e7cb701ebf77eec6dbb46b8\n\n\n\nOn Sat, Jul 30, 2022 at 1:59 PM Alfred Hodler via bitcoin-dev <\nbitcoin-dev at lists.linuxfoundation.org> wrote:\n\n> Hi,\n>\n> We propose a new BIP that facilitates more private two-party transactions.\n> This is a strict improvement upon BIP47, with increased privacy and better\n> future-proofing.\n>\n> The contents may be found here:\n>\n> https://github.com/alfred-hodler/bips/blob/bip-alfredhodler-private-payments/bip-alfredhodler-privatepayments.mediawiki\n>\n> We hope to collect feedback and be assigned with a BIP number. A reference\n> implementation will be published once the BIP is deemed viable.\n>\n> Alfred\n>\n> _______________________________________________\n> bitcoin-dev mailing list\n> bitcoin-dev at lists.linuxfoundation.org\n> https://lists.linuxfoundation.org/mailman/listinfo/bitcoin-dev\n>\n-------------- next part --------------\nAn HTML attachment was scrubbed...\nURL: <http://lists.linuxfoundation.org/pipermail/bitcoin-dev/attachments/20220730/c6112ebf/attachment.html>"
            }
        ],
        "thread_summary": {
            "title": "New BIP: Private Payments",
            "categories": [
                "bitcoin-dev"
            ],
            "authors": [
                "Alfred Hodler",
                "Ruben Somsen"
            ],
            "messages_count": 2,
            "total_messages_chars_count": 3556
        }
    }
]